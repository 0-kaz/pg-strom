{
    "docs": [
        {
            "location": "/", 
            "text": "\u672c\u7ae0\u3067\u306fPG-Strom\u306e\u6982\u8981\u3001\u304a\u3088\u3073\u958b\u767a\u8005\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\nPG-Strom\u3068\u306f?\n\n\nPG-Strom\u306fPostgreSQL v9.6\u304a\u3088\u3073\u4ee5\u964d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u5411\u3051\u306b\u8a2d\u8a08\u3055\u308c\u305f\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3001\u30c1\u30c3\u30d7\u3042\u305f\u308a\u6570\u5343\u500b\u306e\u30b3\u30a2\u3092\u6301\u3064GPU(Graphic Processor Unit)\u30c7\u30d0\u30a4\u30b9\u3092\u5229\u7528\u3059\u308b\u4e8b\u3067\u3001\u5927\u898f\u6a21\u306a\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u5bfe\u3059\u308b\u96c6\u8a08\u30fb\u89e3\u6790\u51e6\u7406\u3084\u30d0\u30c3\u30c1\u51e6\u7406\u5411\u3051\u306eSQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u9ad8\u901f\u5316\u3059\u308b\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\nPG-Strom\u306e\u4e2d\u6838\u3068\u306a\u308b\u6a5f\u80fd\u306f\u3001SQL\u547d\u4ee4\u304b\u3089\u81ea\u52d5\u7684\u306bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u751f\u6210\u3059\u308b\u30b3\u30fc\u30c9\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3068\u3001SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092GPU\u4e0a\u3067\u975e\u540c\u671f\u304b\u3064\u4e26\u5217\u306b\u5b9f\u884c\u3059\u308b\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3\u3067\u3059\u3002\u73fe\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306fSCAN\uff08WHERE\u53e5\u306e\u8a55\u4fa1\uff09\u3001JOIN\u304a\u3088\u3073GROUP BY\u306e\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001GPU\u51e6\u7406\u306b\u30a2\u30c9\u30d0\u30f3\u30c6\u30fc\u30b8\u304c\u3042\u308b\u5834\u5408\u306b\u306fPostgreSQL\u6a19\u6e96\u306e\u5b9f\u88c5\u3092\u7f6e\u304d\u63db\u3048\u308b\u4e8b\u3067\u3001\u30e6\u30fc\u30b6\u3084\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306f\u900f\u904e\u7684\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002\n\n\n\u307e\u305f\u3001PG-Strom\u306f\u3044\u304f\u3064\u304b\u306eDWH\u5c02\u7528\u30b7\u30b9\u30c6\u30e0\u3068\u306f\u7570\u306a\u308a\u3001\u884c\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308bPostgreSQL\u3068\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3092\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u5fc5\u305a\u3057\u3082\u96c6\u8a08\u30fb\u89e3\u6790\u7cfb\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u6700\u9069\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u4e00\u65b9\u3067\u3001\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7cfb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u79fb\u52d5\u3059\u308b\u3053\u3068\u306a\u304f\u96c6\u8a08\u51e6\u7406\u3092\u5b9f\u884c\u3067\u304d\u308b\u3068\u3044\u3046\u30a2\u30c9\u30d0\u30f3\u30c6\u30fc\u30b8\u3067\u3082\u3042\u308a\u307e\u3059\u3002\n\n\nPG-Strom v2.0\u3067\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u8aad\u51fa\u3057\u80fd\u529b\u304c\u5f37\u5316\u3055\u308c\u307e\u3057\u305f\u3002SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3084\u3001\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u9045\u3055\u3092\u88dc\u3044\u3001\u30af\u30a8\u30ea\u3092\u51e6\u7406\u3059\u308bGPU\u3078\u9ad8\u901f\u306b\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u4e8b\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002\n\n\n\u4e00\u65b9\u3001\u9ad8\u5ea6\u306a\u7d71\u8a08\u89e3\u6790\u3084\u6a5f\u68b0\u5b66\u7fd2\u3068\u3044\u3063\u305f\u6975\u3081\u3066\u8a08\u7b97\u96c6\u7d04\u5ea6\u306e\u9ad8\u3044\u554f\u984c\u306b\u5bfe\u3057\u3066\u3082\u3001PL/CUDA\u3084gstore_fdw\u3068\u3044\u3063\u305f\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u4e0a\u3067\u8a08\u7b97\u51e6\u7406\u3092\u884c\u3044\u3001\u7d50\u679c\u3060\u3051\u3092\u30e6\u30fc\u30b6\u3078\u8fd4\u3059\u3068\u3044\u3063\u305f\u4f7f\u3044\u65b9\u3092\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\n\u30e9\u30a4\u30bb\u30f3\u30b9\u3068\u8457\u4f5c\u6a29\n\n\nPG-Strom\u306fGPL(GNU Public License)v2\u306b\u57fa\u3065\u3044\u3066\u516c\u958b\u30fb\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u3059\u3002\n\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u8a73\u7d30\u306f\nLICENSE\n\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nPG-Strom\u306e\u8457\u4f5c\u6a29\u306fPG-Strom Development Team\u304c\u6709\u3057\u3066\u3044\u307e\u3059\u3002PG-Strom Development Team\u306f\u6cd5\u7684\u306a\u4e3b\u4f53\u3067\u306f\u306a\u304f\u3001\u56fd\u7c4d\u3092\u554f\u308f\u305a\u3001PG-Strom\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u8ca2\u732e\u3057\u305f\u500b\u3005\u306e\u958b\u767a\u8005\u3084\u4f01\u696d\u306e\u7dcf\u79f0\u3067\u3059\u3002\n\n\n\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\n\n\n\u958b\u767a\u8005\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306eML\u304c\nPG-Strom community ML\n\u306b\u6e96\u5099\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nPG-Strom\u306b\u95a2\u9023\u3057\u305f\u8cea\u554f\u3001\u8981\u671b\u3001\u969c\u5bb3\u5831\u544a\u306a\u3069\u306f\u3053\u3061\u3089\u306b\u30dd\u30b9\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u672cML\u306f\u4e16\u754c\u4e2d\u306b\u516c\u958b\u3055\u308c\u305f\u30d1\u30d6\u30ea\u30c3\u30af\u306eML\u3067\u3042\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u3001\u81ea\u5df1\u8cac\u4efb\u306e\u4e0b\u3001\u79d8\u5bc6\u60c5\u5831\u304c\u8aa4\u3063\u3066\u6295\u7a3f\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u672cML\u306e\u512a\u5148\u8a00\u8a9e\u306f\u82f1\u8a9e\u3067\u3059\u3002\u305f\u3060\u4e00\u65b9\u3067\u3001\u6b74\u53f2\u7684\u7d4c\u7def\u306b\u3088\u308aPG-Strom\u30e6\u30fc\u30b6\u306e\u591a\u304f\u306e\u5272\u5408\u304c\u65e5\u672c\u4eba\u3067\u3042\u308b\u4e8b\u306f\u627f\u77e5\u3057\u3066\u304a\u308a\u3001ML\u4e0a\u3067\u65e5\u672c\u8a9e\u3092\u5229\u7528\u3057\u305f\u8b70\u8ad6\u304c\u884c\u308f\u308c\u308b\u3053\u3068\u3082\u53ef\u80fd\u3068\u3057\u307e\u3059\u3002\u305d\u306e\u5834\u5408\u3001Subject(\u4ef6\u540d)\u306b\n(JP)\n\u3068\u3044\u3046\u63a5\u982d\u53e5\u3092\u4ed8\u3051\u308b\u4e8b\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306f\u975e\u65e5\u672c\u8a9e\u8a71\u8005\u304c\u4e0d\u8981\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8aad\u307f\u98db\u3070\u3059\u305f\u3081\u306b\u6709\u7528\u3067\u3059\u3002\n\n\n\u30d0\u30b0\u3084\u969c\u5bb3\u306e\u5831\u544a\n\n\n\u7d50\u679c\u4e0d\u6b63\u3084\u30b7\u30b9\u30c6\u30e0\u30af\u30e9\u30c3\u30b7\u30e5/\u30ed\u30c3\u30af\u30a2\u30c3\u30d7\u3001\u305d\u306e\u4ed6\u306e\u7591\u308f\u3057\u3044\u52d5\u4f5c\u3092\u767a\u898b\u3057\u305f\u5834\u5408\u306f\u3001\nPG-Strom Issue Tracker\n\u3067\u65b0\u3057\u3044\u30a4\u30b7\u30e5\u30fc\u3092\u30aa\u30fc\u30d7\u30f3\u3057 \nbug\n \u30bf\u30b0\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u30d0\u30b0\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210\u306b\u969b\u3057\u3066\u306f\u3001\u4e0b\u8a18\u306e\u70b9\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- \u540c\u3058\u554f\u984c\u3092\u6700\u65b0\u7248\u3067\u518d\u73fe\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\u304b\u3069\u3046\u304b?\n    - PG-Strom\u306e\u6700\u65b0\u7248\u3060\u3051\u3067\u306a\u304f\u3001OS\u3001CUDA\u3001PostgreSQL\u304a\u3088\u3073\u95a2\u9023\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u6700\u65b0\u7248\u3067\u30c6\u30b9\u30c8\u3059\u308b\u4e8b\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\n- PG-Strom\u304c\u7121\u52b9\u5316\u3055\u308c\u305f\u72b6\u614b\u3067\u3082\u540c\u3058\u554f\u984c\u3092\u518d\u73fe\u3067\u304d\u308b\u304b\u3069\u3046\u304b?\n    - GUC\u30d1\u30e9\u30e1\u30fc\u30bf \npg_strom.enabled\n \u306b\u3088\u3063\u3066PG-Strom\u306e\u6709\u52b9/\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n- \u540c\u3058\u65e2\u77e5\u554f\u984c\u304c\u65e2\u306bGitHub\u306e\u30a4\u30b7\u30e5\u30fc\u30c8\u30e9\u30c3\u30ab\u30fc\u306b\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b\uff1f\n    - \nclose\n \u72b6\u614b\u306e\u30a4\u30b7\u30e5\u30fc\u3092\u691c\u7d22\u3059\u308b\u306e\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u60c5\u5831\u306f\u30d0\u30b0\u5831\u544a\u306b\u304a\u3044\u3066\u6709\u7528\u3067\u3059\u3002\n\n\n\n\n\u554f\u984c\u30af\u30a8\u30ea\u306e\nEXPLAIN VERBOSE\n\u51fa\u529b\n\n\n\u95a2\u9023\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u306e\u30c7\u30fc\u30bf\u69cb\u9020\uff08\npsql\n\u4e0a\u3067\n\\d+ \ntable name\n\u3092\u5b9f\u884c\u3057\u3066\u5f97\u3089\u308c\u308b\uff09\n\n\n\u51fa\u529b\u3055\u308c\u305f\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\uff08verbose\u51fa\u529b\u304c\u671b\u307e\u3057\u3044\uff09\n\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304b\u3089\u5909\u66f4\u3057\u3066\u3044\u308bGUC\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u5024\n\n\n\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u8a2d\u5b9a\uff08\u7279\u306bGPU\u306e\u578b\u756a\u3068RAM\u5bb9\u91cf\uff09\n\n\n\n\n\u3042\u306a\u305f\u306e\u74b0\u5883\u3067\u767a\u751f\u3057\u305f\u7591\u308f\u3057\u3044\u52d5\u4f5c\u304c\u30d0\u30b0\u304b\u3069\u3046\u304b\u5b9a\u304b\u3067\u306f\u306a\u3044\u5834\u5408\u3001\u65b0\u3057\u3044\u30a4\u30b7\u30e5\u30fc\u306e\u30c1\u30b1\u30c3\u30c8\u3092\u30aa\u30fc\u30d7\u30f3\u3059\u308b\u524d\u306b\u30e1\u30fc\u30ea\u30f3\u30b0\u30ea\u30b9\u30c8\u3078\u5831\u544a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8ffd\u52a0\u7684\u306a\u60c5\u5831\u63a1\u53d6\u306e\u4f9d\u983c\u306a\u3069\u3001\u958b\u767a\u8005\u306f\u6b21\u306b\u53d6\u308b\u3079\u304d\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u63d0\u6848\u3057\u3066\u304f\u308c\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n\u65b0\u6a5f\u80fd\u306e\u63d0\u6848\n\n\n\u4f55\u304b\u65b0\u6a5f\u80fd\u306e\u30a2\u30a4\u30c7\u30a2\u304c\u3042\u308b\u5834\u5408\u3001\nPG-Strom Issue Tracker\n\u3067\u65b0\u3057\u3044\u30a4\u30b7\u30e5\u30fc\u3092\u30aa\u30fc\u30d7\u30f3\u3057 \nfeature\n \u30bf\u30b0\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002\u7d9a\u3044\u3066\u3001\u4ed6\u306e\u958b\u767a\u8005\u3068\u8b70\u8ad6\u3092\u884c\u3044\u307e\u3057\u3087\u3046\u3002\n\n\n\u671b\u307e\u3057\u3044\u65b0\u6a5f\u80fd\u63d0\u6848\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8981\u7d20\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002\n\n\n\n\n\u3042\u306a\u305f\u306f\u3069\u306e\u3088\u3046\u306a\u554f\u984c\u3092\u89e3\u6c7a/\u6539\u5584\u3057\u305f\u3044\u306e\u304b\uff1f\n\n\n\u3042\u306a\u305f\u306e\u30ef\u30fc\u30af\u30ed\u30fc\u30c9/\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u3068\u3063\u3066\u3069\u306e\u7a0b\u5ea6\u6df1\u523b\u306a\u306e\u304b\uff1f\n\n\n\u3069\u306e\u3088\u3046\u306b\u305d\u308c\u3092\u5b9f\u88c5\u3059\u308b\u306e\u304b\uff1f\n\n\n\uff08\u3082\u3057\u3042\u308c\u3070\uff09\u4e88\u60f3\u3055\u308c\u308b\u6b20\u70b9\u30fb\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\n\n\n\n\n\u958b\u767a\u8005\u306e\u9593\u3067\u305d\u306e\u5fc5\u8981\u6027\u306b\u95a2\u3057\u3066\u30b3\u30f3\u30bb\u30f3\u30b5\u30b9\u304c\u5f97\u3089\u308c\u308b\u3068\u3001\u30b3\u30fc\u30c7\u30a3\u30cd\u30fc\u30bf\u30fc\u306f\u30a4\u30b7\u30e5\u30fc\u30c1\u30b1\u30c3\u30c8\u306b\naccepted\n\u30bf\u30b0\u3092\u4ed8\u3051\u3001\u305d\u306e\u30c1\u30b1\u30c3\u30c8\u306f\u305d\u306e\u5f8c\u306e\u958b\u767a\u4f5c\u696d\u306e\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u306e\u305f\u3081\u306b\u5229\u7528\u3055\u308c\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3001\u30a4\u30b7\u30e5\u30fc\u30c1\u30b1\u30c3\u30c8\u306b\u306f\nrejected\n\u30bf\u30b0\u3092\u4ed8\u3051\u3066\u30af\u30ed\u30fc\u30ba\u3055\u308c\u307e\u3059\u3002\n\n\n\u4e00\u5ea6\u30d7\u30ed\u30dd\u30fc\u30b6\u30eb\u304c\u5374\u4e0b\u3055\u308c\u305f\u3068\u3057\u3066\u3082\u3001\u5c06\u6765\u306b\u304a\u3044\u3066\u307e\u305f\u7570\u306a\u3063\u305f\u6c7a\u5b9a\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u5468\u8fba\u72b6\u6cc1\u304c\u5909\u308f\u3063\u305f\u5834\u5408\u3001\u65b0\u6a5f\u80fd\u306e\u518d\u63d0\u6848\u3092\u8e8a\u8e87\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\u958b\u767a\u6bb5\u968e\u3067\u306f\u3001\u30d1\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30b7\u30e5\u30fc\u30c1\u30b1\u30c3\u30c8\u306b\u6dfb\u4ed8\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002pull-request\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u3002\n\n\n\u30b5\u30dd\u30fc\u30c8\u30dd\u30ea\u30b7\u30fc\n\n\nPG-Strom development team\u306fHeteroDB Software Distribution Center\u304b\u3089\u914d\u5e03\u3055\u308c\u305f\u6700\u65b0\u7248\u306e\u307f\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\u30c8\u30e9\u30d6\u30eb\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u307e\u305a\u305d\u306e\u554f\u984c\u306f\u6700\u65b0\u7248\u306e\u30ea\u30ea\u30fc\u30b9\u3067\u518d\u73fe\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u304b\u3081\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u307e\u305f\u3001\u3053\u308c\u306f\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u30d9\u30fc\u30b9\u306e\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30b5\u30dd\u30fc\u30c8\u306e\u30dd\u30ea\u30b7\u30fc\u3067\u3042\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u3001\u30b5\u30dd\u30fc\u30c8\u306f\u30d9\u30b9\u30c8\u30a8\u30d5\u30a9\u30fc\u30c8\u3067\u304b\u3064\u3001SLA\u306e\u5b9a\u7fa9\u3082\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\u3082\u3057\u5546\u7528\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u5fc5\u8981\u3067\u3042\u308b\u5834\u5408\u3001HeteroDB\u793e\uff08contact@heterodbcom\uff09\u306b\u30b3\u30f3\u30bf\u30af\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u30dd\u30ea\u30b7\u30fc\n\n\nPG-Strom\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306f\nmajor\n.\nminor\n\u3068\u3044\u30462\u3064\u306e\u8981\u7d20\u304b\u3089\u6210\u308a\u307e\u3059\u3002\n\n\n\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306f\u5404\u30ea\u30ea\u30fc\u30b9\u6bce\u306b\u5897\u52a0\u3057\u3001\u30d0\u30b0\u4fee\u6b63\u3068\u65b0\u6a5f\u80fd\u306e\u8ffd\u52a0\u3092\u542b\u307f\u307e\u3059\u3002\n\n\n\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5834\u5408\u306b\u5897\u52a0\u3057\u307e\u3059\u3002\n\n\n\n\n\u5bfe\u5fdc\u3057\u3066\u3044\u308bPostgreSQL\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u304b\u304c\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u5916\u3068\u306a\u3063\u305f\u5834\u5408\u3002\n\n\n\u5bfe\u5fdc\u3057\u3066\u3044\u308bGPU\u30c7\u30d0\u30a4\u30b9\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u304b\u304c\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u5916\u3068\u306a\u3063\u305f\u5834\u5408\u3002\n\n\n\u30a8\u30dd\u30c3\u30af\u30e1\u30a4\u30ad\u30f3\u30b0\u306a\u65b0\u6a5f\u80fd\u304c\u8ffd\u52a0\u3068\u306a\u3063\u305f\u5834\u5408\u3002", 
            "title": "\u306f\u3058\u3081\u306b"
        }, 
        {
            "location": "/#pg-strom", 
            "text": "PG-Strom\u306fPostgreSQL v9.6\u304a\u3088\u3073\u4ee5\u964d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u5411\u3051\u306b\u8a2d\u8a08\u3055\u308c\u305f\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3001\u30c1\u30c3\u30d7\u3042\u305f\u308a\u6570\u5343\u500b\u306e\u30b3\u30a2\u3092\u6301\u3064GPU(Graphic Processor Unit)\u30c7\u30d0\u30a4\u30b9\u3092\u5229\u7528\u3059\u308b\u4e8b\u3067\u3001\u5927\u898f\u6a21\u306a\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u5bfe\u3059\u308b\u96c6\u8a08\u30fb\u89e3\u6790\u51e6\u7406\u3084\u30d0\u30c3\u30c1\u51e6\u7406\u5411\u3051\u306eSQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u9ad8\u901f\u5316\u3059\u308b\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002  PG-Strom\u306e\u4e2d\u6838\u3068\u306a\u308b\u6a5f\u80fd\u306f\u3001SQL\u547d\u4ee4\u304b\u3089\u81ea\u52d5\u7684\u306bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u751f\u6210\u3059\u308b\u30b3\u30fc\u30c9\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3068\u3001SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092GPU\u4e0a\u3067\u975e\u540c\u671f\u304b\u3064\u4e26\u5217\u306b\u5b9f\u884c\u3059\u308b\u5b9f\u884c\u30a8\u30f3\u30b8\u30f3\u3067\u3059\u3002\u73fe\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306fSCAN\uff08WHERE\u53e5\u306e\u8a55\u4fa1\uff09\u3001JOIN\u304a\u3088\u3073GROUP BY\u306e\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001GPU\u51e6\u7406\u306b\u30a2\u30c9\u30d0\u30f3\u30c6\u30fc\u30b8\u304c\u3042\u308b\u5834\u5408\u306b\u306fPostgreSQL\u6a19\u6e96\u306e\u5b9f\u88c5\u3092\u7f6e\u304d\u63db\u3048\u308b\u4e8b\u3067\u3001\u30e6\u30fc\u30b6\u3084\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306f\u900f\u904e\u7684\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002  \u307e\u305f\u3001PG-Strom\u306f\u3044\u304f\u3064\u304b\u306eDWH\u5c02\u7528\u30b7\u30b9\u30c6\u30e0\u3068\u306f\u7570\u306a\u308a\u3001\u884c\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308bPostgreSQL\u3068\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3092\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u5fc5\u305a\u3057\u3082\u96c6\u8a08\u30fb\u89e3\u6790\u7cfb\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u6700\u9069\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u4e00\u65b9\u3067\u3001\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u7cfb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u79fb\u52d5\u3059\u308b\u3053\u3068\u306a\u304f\u96c6\u8a08\u51e6\u7406\u3092\u5b9f\u884c\u3067\u304d\u308b\u3068\u3044\u3046\u30a2\u30c9\u30d0\u30f3\u30c6\u30fc\u30b8\u3067\u3082\u3042\u308a\u307e\u3059\u3002  PG-Strom v2.0\u3067\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u8aad\u51fa\u3057\u80fd\u529b\u304c\u5f37\u5316\u3055\u308c\u307e\u3057\u305f\u3002SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3084\u3001\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u9045\u3055\u3092\u88dc\u3044\u3001\u30af\u30a8\u30ea\u3092\u51e6\u7406\u3059\u308bGPU\u3078\u9ad8\u901f\u306b\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u4e8b\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002  \u4e00\u65b9\u3001\u9ad8\u5ea6\u306a\u7d71\u8a08\u89e3\u6790\u3084\u6a5f\u68b0\u5b66\u7fd2\u3068\u3044\u3063\u305f\u6975\u3081\u3066\u8a08\u7b97\u96c6\u7d04\u5ea6\u306e\u9ad8\u3044\u554f\u984c\u306b\u5bfe\u3057\u3066\u3082\u3001PL/CUDA\u3084gstore_fdw\u3068\u3044\u3063\u305f\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u3067\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u4e0a\u3067\u8a08\u7b97\u51e6\u7406\u3092\u884c\u3044\u3001\u7d50\u679c\u3060\u3051\u3092\u30e6\u30fc\u30b6\u3078\u8fd4\u3059\u3068\u3044\u3063\u305f\u4f7f\u3044\u65b9\u3092\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002", 
            "title": "PG-Strom\u3068\u306f?"
        }, 
        {
            "location": "/#_1", 
            "text": "PG-Strom\u306fGPL(GNU Public License)v2\u306b\u57fa\u3065\u3044\u3066\u516c\u958b\u30fb\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u3059\u3002\n\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u8a73\u7d30\u306f LICENSE \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002  PG-Strom\u306e\u8457\u4f5c\u6a29\u306fPG-Strom Development Team\u304c\u6709\u3057\u3066\u3044\u307e\u3059\u3002PG-Strom Development Team\u306f\u6cd5\u7684\u306a\u4e3b\u4f53\u3067\u306f\u306a\u304f\u3001\u56fd\u7c4d\u3092\u554f\u308f\u305a\u3001PG-Strom\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u8ca2\u732e\u3057\u305f\u500b\u3005\u306e\u958b\u767a\u8005\u3084\u4f01\u696d\u306e\u7dcf\u79f0\u3067\u3059\u3002", 
            "title": "\u30e9\u30a4\u30bb\u30f3\u30b9\u3068\u8457\u4f5c\u6a29"
        }, 
        {
            "location": "/#_2", 
            "text": "\u958b\u767a\u8005\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306eML\u304c PG-Strom community ML \u306b\u6e96\u5099\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nPG-Strom\u306b\u95a2\u9023\u3057\u305f\u8cea\u554f\u3001\u8981\u671b\u3001\u969c\u5bb3\u5831\u544a\u306a\u3069\u306f\u3053\u3061\u3089\u306b\u30dd\u30b9\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \u672cML\u306f\u4e16\u754c\u4e2d\u306b\u516c\u958b\u3055\u308c\u305f\u30d1\u30d6\u30ea\u30c3\u30af\u306eML\u3067\u3042\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u3001\u81ea\u5df1\u8cac\u4efb\u306e\u4e0b\u3001\u79d8\u5bc6\u60c5\u5831\u304c\u8aa4\u3063\u3066\u6295\u7a3f\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \u672cML\u306e\u512a\u5148\u8a00\u8a9e\u306f\u82f1\u8a9e\u3067\u3059\u3002\u305f\u3060\u4e00\u65b9\u3067\u3001\u6b74\u53f2\u7684\u7d4c\u7def\u306b\u3088\u308aPG-Strom\u30e6\u30fc\u30b6\u306e\u591a\u304f\u306e\u5272\u5408\u304c\u65e5\u672c\u4eba\u3067\u3042\u308b\u4e8b\u306f\u627f\u77e5\u3057\u3066\u304a\u308a\u3001ML\u4e0a\u3067\u65e5\u672c\u8a9e\u3092\u5229\u7528\u3057\u305f\u8b70\u8ad6\u304c\u884c\u308f\u308c\u308b\u3053\u3068\u3082\u53ef\u80fd\u3068\u3057\u307e\u3059\u3002\u305d\u306e\u5834\u5408\u3001Subject(\u4ef6\u540d)\u306b (JP) \u3068\u3044\u3046\u63a5\u982d\u53e5\u3092\u4ed8\u3051\u308b\u4e8b\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306f\u975e\u65e5\u672c\u8a9e\u8a71\u8005\u304c\u4e0d\u8981\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8aad\u307f\u98db\u3070\u3059\u305f\u3081\u306b\u6709\u7528\u3067\u3059\u3002", 
            "title": "\u30b3\u30df\u30e5\u30cb\u30c6\u30a3"
        }, 
        {
            "location": "/#_3", 
            "text": "\u7d50\u679c\u4e0d\u6b63\u3084\u30b7\u30b9\u30c6\u30e0\u30af\u30e9\u30c3\u30b7\u30e5/\u30ed\u30c3\u30af\u30a2\u30c3\u30d7\u3001\u305d\u306e\u4ed6\u306e\u7591\u308f\u3057\u3044\u52d5\u4f5c\u3092\u767a\u898b\u3057\u305f\u5834\u5408\u306f\u3001 PG-Strom Issue Tracker \u3067\u65b0\u3057\u3044\u30a4\u30b7\u30e5\u30fc\u3092\u30aa\u30fc\u30d7\u30f3\u3057  bug  \u30bf\u30b0\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002  \u30d0\u30b0\u30ec\u30dd\u30fc\u30c8\u306e\u4f5c\u6210\u306b\u969b\u3057\u3066\u306f\u3001\u4e0b\u8a18\u306e\u70b9\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- \u540c\u3058\u554f\u984c\u3092\u6700\u65b0\u7248\u3067\u518d\u73fe\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\u304b\u3069\u3046\u304b?\n    - PG-Strom\u306e\u6700\u65b0\u7248\u3060\u3051\u3067\u306a\u304f\u3001OS\u3001CUDA\u3001PostgreSQL\u304a\u3088\u3073\u95a2\u9023\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u6700\u65b0\u7248\u3067\u30c6\u30b9\u30c8\u3059\u308b\u4e8b\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\n- PG-Strom\u304c\u7121\u52b9\u5316\u3055\u308c\u305f\u72b6\u614b\u3067\u3082\u540c\u3058\u554f\u984c\u3092\u518d\u73fe\u3067\u304d\u308b\u304b\u3069\u3046\u304b?\n    - GUC\u30d1\u30e9\u30e1\u30fc\u30bf  pg_strom.enabled  \u306b\u3088\u3063\u3066PG-Strom\u306e\u6709\u52b9/\u7121\u52b9\u3092\u5207\u308a\u66ff\u3048\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n- \u540c\u3058\u65e2\u77e5\u554f\u984c\u304c\u65e2\u306bGitHub\u306e\u30a4\u30b7\u30e5\u30fc\u30c8\u30e9\u30c3\u30ab\u30fc\u306b\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b\uff1f\n    -  close  \u72b6\u614b\u306e\u30a4\u30b7\u30e5\u30fc\u3092\u691c\u7d22\u3059\u308b\u306e\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u60c5\u5831\u306f\u30d0\u30b0\u5831\u544a\u306b\u304a\u3044\u3066\u6709\u7528\u3067\u3059\u3002   \u554f\u984c\u30af\u30a8\u30ea\u306e EXPLAIN VERBOSE \u51fa\u529b  \u95a2\u9023\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u306e\u30c7\u30fc\u30bf\u69cb\u9020\uff08 psql \u4e0a\u3067 \\d+  table name \u3092\u5b9f\u884c\u3057\u3066\u5f97\u3089\u308c\u308b\uff09  \u51fa\u529b\u3055\u308c\u305f\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\uff08verbose\u51fa\u529b\u304c\u671b\u307e\u3057\u3044\uff09  \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304b\u3089\u5909\u66f4\u3057\u3066\u3044\u308bGUC\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u5024  \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u8a2d\u5b9a\uff08\u7279\u306bGPU\u306e\u578b\u756a\u3068RAM\u5bb9\u91cf\uff09   \u3042\u306a\u305f\u306e\u74b0\u5883\u3067\u767a\u751f\u3057\u305f\u7591\u308f\u3057\u3044\u52d5\u4f5c\u304c\u30d0\u30b0\u304b\u3069\u3046\u304b\u5b9a\u304b\u3067\u306f\u306a\u3044\u5834\u5408\u3001\u65b0\u3057\u3044\u30a4\u30b7\u30e5\u30fc\u306e\u30c1\u30b1\u30c3\u30c8\u3092\u30aa\u30fc\u30d7\u30f3\u3059\u308b\u524d\u306b\u30e1\u30fc\u30ea\u30f3\u30b0\u30ea\u30b9\u30c8\u3078\u5831\u544a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8ffd\u52a0\u7684\u306a\u60c5\u5831\u63a1\u53d6\u306e\u4f9d\u983c\u306a\u3069\u3001\u958b\u767a\u8005\u306f\u6b21\u306b\u53d6\u308b\u3079\u304d\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u63d0\u6848\u3057\u3066\u304f\u308c\u308b\u3067\u3057\u3087\u3046\u3002", 
            "title": "\u30d0\u30b0\u3084\u969c\u5bb3\u306e\u5831\u544a"
        }, 
        {
            "location": "/#_4", 
            "text": "\u4f55\u304b\u65b0\u6a5f\u80fd\u306e\u30a2\u30a4\u30c7\u30a2\u304c\u3042\u308b\u5834\u5408\u3001 PG-Strom Issue Tracker \u3067\u65b0\u3057\u3044\u30a4\u30b7\u30e5\u30fc\u3092\u30aa\u30fc\u30d7\u30f3\u3057  feature  \u30bf\u30b0\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002\u7d9a\u3044\u3066\u3001\u4ed6\u306e\u958b\u767a\u8005\u3068\u8b70\u8ad6\u3092\u884c\u3044\u307e\u3057\u3087\u3046\u3002  \u671b\u307e\u3057\u3044\u65b0\u6a5f\u80fd\u63d0\u6848\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8981\u7d20\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002   \u3042\u306a\u305f\u306f\u3069\u306e\u3088\u3046\u306a\u554f\u984c\u3092\u89e3\u6c7a/\u6539\u5584\u3057\u305f\u3044\u306e\u304b\uff1f  \u3042\u306a\u305f\u306e\u30ef\u30fc\u30af\u30ed\u30fc\u30c9/\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u3068\u3063\u3066\u3069\u306e\u7a0b\u5ea6\u6df1\u523b\u306a\u306e\u304b\uff1f  \u3069\u306e\u3088\u3046\u306b\u305d\u308c\u3092\u5b9f\u88c5\u3059\u308b\u306e\u304b\uff1f  \uff08\u3082\u3057\u3042\u308c\u3070\uff09\u4e88\u60f3\u3055\u308c\u308b\u6b20\u70b9\u30fb\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5   \u958b\u767a\u8005\u306e\u9593\u3067\u305d\u306e\u5fc5\u8981\u6027\u306b\u95a2\u3057\u3066\u30b3\u30f3\u30bb\u30f3\u30b5\u30b9\u304c\u5f97\u3089\u308c\u308b\u3068\u3001\u30b3\u30fc\u30c7\u30a3\u30cd\u30fc\u30bf\u30fc\u306f\u30a4\u30b7\u30e5\u30fc\u30c1\u30b1\u30c3\u30c8\u306b accepted \u30bf\u30b0\u3092\u4ed8\u3051\u3001\u305d\u306e\u30c1\u30b1\u30c3\u30c8\u306f\u305d\u306e\u5f8c\u306e\u958b\u767a\u4f5c\u696d\u306e\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u306e\u305f\u3081\u306b\u5229\u7528\u3055\u308c\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3001\u30a4\u30b7\u30e5\u30fc\u30c1\u30b1\u30c3\u30c8\u306b\u306f rejected \u30bf\u30b0\u3092\u4ed8\u3051\u3066\u30af\u30ed\u30fc\u30ba\u3055\u308c\u307e\u3059\u3002  \u4e00\u5ea6\u30d7\u30ed\u30dd\u30fc\u30b6\u30eb\u304c\u5374\u4e0b\u3055\u308c\u305f\u3068\u3057\u3066\u3082\u3001\u5c06\u6765\u306b\u304a\u3044\u3066\u307e\u305f\u7570\u306a\u3063\u305f\u6c7a\u5b9a\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u5468\u8fba\u72b6\u6cc1\u304c\u5909\u308f\u3063\u305f\u5834\u5408\u3001\u65b0\u6a5f\u80fd\u306e\u518d\u63d0\u6848\u3092\u8e8a\u8e87\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002  \u958b\u767a\u6bb5\u968e\u3067\u306f\u3001\u30d1\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30b7\u30e5\u30fc\u30c1\u30b1\u30c3\u30c8\u306b\u6dfb\u4ed8\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002pull-request\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u3002", 
            "title": "\u65b0\u6a5f\u80fd\u306e\u63d0\u6848"
        }, 
        {
            "location": "/#_5", 
            "text": "PG-Strom development team\u306fHeteroDB Software Distribution Center\u304b\u3089\u914d\u5e03\u3055\u308c\u305f\u6700\u65b0\u7248\u306e\u307f\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\u30c8\u30e9\u30d6\u30eb\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u307e\u305a\u305d\u306e\u554f\u984c\u306f\u6700\u65b0\u7248\u306e\u30ea\u30ea\u30fc\u30b9\u3067\u518d\u73fe\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u304b\u3081\u3066\u304f\u3060\u3055\u3044\u3002  \u307e\u305f\u3001\u3053\u308c\u306f\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u30d9\u30fc\u30b9\u306e\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30b5\u30dd\u30fc\u30c8\u306e\u30dd\u30ea\u30b7\u30fc\u3067\u3042\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u3001\u30b5\u30dd\u30fc\u30c8\u306f\u30d9\u30b9\u30c8\u30a8\u30d5\u30a9\u30fc\u30c8\u3067\u304b\u3064\u3001SLA\u306e\u5b9a\u7fa9\u3082\u3042\u308a\u307e\u305b\u3093\u3002  \u3082\u3057\u5546\u7528\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u5fc5\u8981\u3067\u3042\u308b\u5834\u5408\u3001HeteroDB\u793e\uff08contact@heterodbcom\uff09\u306b\u30b3\u30f3\u30bf\u30af\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002", 
            "title": "\u30b5\u30dd\u30fc\u30c8\u30dd\u30ea\u30b7\u30fc"
        }, 
        {
            "location": "/#_6", 
            "text": "PG-Strom\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306f major . minor \u3068\u3044\u30462\u3064\u306e\u8981\u7d20\u304b\u3089\u6210\u308a\u307e\u3059\u3002  \u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306f\u5404\u30ea\u30ea\u30fc\u30b9\u6bce\u306b\u5897\u52a0\u3057\u3001\u30d0\u30b0\u4fee\u6b63\u3068\u65b0\u6a5f\u80fd\u306e\u8ffd\u52a0\u3092\u542b\u307f\u307e\u3059\u3002  \u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5834\u5408\u306b\u5897\u52a0\u3057\u307e\u3059\u3002   \u5bfe\u5fdc\u3057\u3066\u3044\u308bPostgreSQL\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u304b\u304c\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u5916\u3068\u306a\u3063\u305f\u5834\u5408\u3002  \u5bfe\u5fdc\u3057\u3066\u3044\u308bGPU\u30c7\u30d0\u30a4\u30b9\u306e\u3046\u3061\u3001\u3044\u304f\u3064\u304b\u304c\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u5916\u3068\u306a\u3063\u305f\u5834\u5408\u3002  \u30a8\u30dd\u30c3\u30af\u30e1\u30a4\u30ad\u30f3\u30b0\u306a\u65b0\u6a5f\u80fd\u304c\u8ffd\u52a0\u3068\u306a\u3063\u305f\u5834\u5408\u3002", 
            "title": "\u30d0\u30fc\u30b8\u30e7\u30f3\u30dd\u30ea\u30b7\u30fc"
        }, 
        {
            "location": "/install/", 
            "text": "\u672c\u7ae0\u3067\u306fPG-Strom\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\n\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8\n\n\n\n\n\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\n\n\nCUDA Toolkit\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308bLinux\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3092\u52d5\u4f5c\u53ef\u80fd\u306a x86_64 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u304c\u5fc5\u8981\u3067\u3059\u3002 \n\n\nCPU\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3001\u304a\u3088\u3073\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c7\u30d0\u30a4\u30b9\u306b\u306f\u7279\u5225\u306a\u8981\u4ef6\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\nnote002:HW Validation List\n\u306f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u9078\u5b9a\u306e\u4e0a\u3067\u53c2\u8003\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u5229\u7528\u3059\u308b\u306b\u306fNVMe\u898f\u683c\u306b\u5bfe\u5fdc\u3057\u305fSSD\u304c\u5fc5\u8981\u3067\u3001GPU\u3068\u540c\u4e00\u306ePCIe Root Complex\u914d\u4e0b\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\n\n\nGPU\u30c7\u30d0\u30a4\u30b9\n\n\nPG-Strom\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u5c11\u306a\u304f\u3068\u3082\u4e00\u500b\u306eGPU\u30c7\u30d0\u30a4\u30b9\u304c\u30b7\u30b9\u30c6\u30e0\u4e0a\u306b\u5fc5\u8981\u3067\u3059\u3002\u3053\u308c\u3089\u306fCUDA Toolkit\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u304a\u308a\u3001computing capability \u304c6.0\u4ee5\u964d\u306e\u30e2\u30c7\u30eb\uff08Pascal\u4e16\u4ee3\u4ee5\u964d\uff09\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nnote001:GPU Availability Matrix\n\u306b\u3088\u308a\u8a73\u7d30\u306a\u60c5\u5831\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306e\u5bfe\u5fdc\u72b6\u6cc1\u306b\u95a2\u3057\u3066\u3082\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\n\n\nOperating System\n\n\nPG-Strom\u306e\u5b9f\u884c\u306b\u306f\u3001CUDA Toolkit\u306b\u3088\u308a\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308bx86_64\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5411\u3051\u306eLinux OS\u304c\u5fc5\u8981\u3067\u3059\u3002\u63a8\u5968\u74b0\u5883\u306fRed Hat Enterprise Linux\u307e\u305f\u306fCentOS\u306e\u30d0\u30fc\u30b8\u30e7\u30f37.x\u30b7\u30ea\u30fc\u30ba\u3067\u3059\u3002\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001Red Hat Enterprise Linux \u307e\u305f\u306f CentOS \u306e\u30d0\u30fc\u30b8\u30e7\u30f37.3\u4ee5\u964d\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\n\n\nPostgreSQL\n\n\nPG-Strom\u306e\u5b9f\u884c\u306b\u306fPostgreSQL\u30d0\u30fc\u30b8\u30e7\u30f39.6\u4ee5\u964d\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u308c\u306f\u3001Custom Scan\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304cCPU\u4e26\u5217\u5b9f\u884c\u3084GROUP BY\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u5237\u65b0\u3055\u308c\u3001\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u63d0\u4f9b\u3059\u308b\u30ab\u30b9\u30bf\u30e0\u5b9f\u884c\u8a08\u753b\u3092\u81ea\u7136\u306a\u5f62\u3067\u7d71\u5408\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u305f\u3081\u3067\u3059\u3002\n\n\n\n\n\n\nCUDA Toolkit\n\n\nPG-Strom\u306e\u5b9f\u884c\u306b\u306fCUDA Toolkit \u30d0\u30fc\u30b8\u30e7\u30f39.1\u4ee5\u964d\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\nPG-Strom\u304c\u63d0\u4f9b\u3059\u308b\u534a\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\uff08\nfloat2\n\uff09\u578b\u306f\u3001\u5185\u90e8\u7684\u306bCUDA C\u306ehalf_t\u578b\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\u53e4\u3044CUDA Toolkit\u3067\u306f\u3053\u308c\u3092\u30d3\u30eb\u30c9\u3067\u304d\u306a\u3044\u305f\u3081\u3067\u3059\u3002\n\n\n\n\n\n\n\n\nOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nCUDA Toolkit\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u3001\u500b\u3005\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d7\u30ed\u30bb\u30b9\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f5c\u696d\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002 CUDA Toolkit\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u3001\nNVIDIA DEVELOPER ZONE\n\u306b\u304a\u3044\u3066\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\nRed Hat Enterprise Linux 7.x\u7cfb\u5217\u3001\u307e\u305f\u306fCentOS 7.x\u7cfb\u5217\u306e\u5834\u5408\u3001\u30d9\u30fc\u30b9\u74b0\u5883\u3068\u3057\u3066\u300c\u6700\u5c0f\u9650\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u3092\u9078\u629e\u3057\u3001\u3055\u3089\u306b\u4ee5\u4e0b\u306e\u30a2\u30c9\u30aa\u30f3\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\n\u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\n\n\n\u958b\u767a\u30c4\u30fc\u30eb\n\n\n\n\nOS\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u8a2d\u5b9a\n\n\n\u30b7\u30b9\u30c6\u30e0\u3078\u306eOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u5f8c\u306e\u30b9\u30c6\u30c3\u30d7\u3067GPU\u30c9\u30e9\u30a4\u30d0\u3068NVMe-Strom\u30c9\u30e9\u30a4\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u8ffd\u52a0\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\nEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\n\n\nPG-Strom\u306e\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u3044\u304f\u3064\u304b\u306f\u3001EPEL(Extra Packages for Enterprise Linux)\u306e\u4e00\u90e8\u3068\u3057\u3066\u914d\u5e03\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u306bEPEL\u30d1\u30c3\u30b1\u30fc\u30b8\u7fa4\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u3092yum\u30b7\u30b9\u30c6\u30e0\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u5165\u624b\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4e00\u3064\u304cDKMS(Dynamic Kernel Module Support)\u3067\u3059\u3002\u3053\u308c\u306f\u52d5\u4f5c\u4e2d\u306eLinux\u30ab\u30fc\u30cd\u30eb\u306b\u9069\u5408\u3057\u305fLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3001NVIDIA\u306eGPU\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u3084\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb(nvme_strom)\u304c\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\nLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001Linux\u30ab\u30fc\u30cd\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u306b\u8ffd\u5f93\u3057\u3066\u518d\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\u3067\u3042\u308b\u305f\u3081\u3001DKMS\u306a\u3057\u3067\u306e\u30b7\u30b9\u30c6\u30e0\u904b\u7528\u306f\u73fe\u5b9f\u7684\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\nEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u306f\nepel-release\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u306fFedora Project\u306e\u30d1\u30d6\u30ea\u30c3\u30afFTP\u30b5\u30a4\u30c8\u304b\u3089\u5165\u624b\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3001\nepel-release-\ndistribution version\n.noarch.rpm\n\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u3053\u308c\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \n\nepel-release\n\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3068\u3001EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u304cyum\u30b7\u30b9\u30c6\u30e0\u3078\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n\n\n\nFedora Project Public FTP Site\n\n\nhttps://dl.fedoraproject.org/pub/epel/7/x86_64/\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\u4e0a\u8a18URL\u304b\u3089\nPackages\n\u2192\ne\n\u3078\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u968e\u5c64\u3092\u4e0b\u308a\u307e\u3059\u3002\n\n\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306bepel-release\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\n$ sudo yum install https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-11.noarch.rpm\n          :\n================================================================================\n Package           Arch        Version     Repository                      Size\n================================================================================\nInstalling:\n epel-release      noarch      7-11        /epel-release-7-11.noarch       24 k\n\nTransaction Summary\n================================================================================\nInstall  1 Package\n          :\nInstalled:\n  epel-release.noarch 0:7-11\n\nComplete!\n\n\n\n\nHeteroDB-SWDC\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nPG-Strom\u307b\u304b\u95a2\u9023\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\nHeteroDB Software Distribution Center\n\u304b\u3089\u914d\u5e03\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u306b\u3001HeteroDB-SWDC\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u3092yum\u30b7\u30b9\u30c6\u30e0\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nHeteroDB-SWDC\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u306fheterodb-swdc\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002\nWeb\u30d6\u30e9\u30a6\u30b6\u306a\u3069\u3067\nHeteroDB Software Distribution Center\n\u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30da\u30fc\u30b8\u306e\u5148\u982d\u306b\u30ea\u30f3\u30af\u306e\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\nheterodb-swdc-1.0-1.el7.noarch.rpm\n\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nheterodb-swdc\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3068\u3001HeteroDB-SWDC\u304b\u3089\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u306eyum\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u8a2d\u5b9a\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306bheterodb-swdc\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\n$ sudo yum install https://heterodb.github.io/swdc/yum/rhel7-x86_64/heterodb-swdc-1.0-1.el7.noarch.rpm\n          :\n================================================================================\n Package         Arch     Version       Repository                         Size\n================================================================================\nInstalling:\n heterodb-swdc   noarch   1.0-1.el7     /heterodb-swdc-1.0-1.el7.noarch   2.4 k\n\nTransaction Summary\n================================================================================\nInstall  1 Package\n          :\nInstalled:\n  heterodb-swdc.noarch 0:1.0-1.el7\n\nComplete!\n\n\n\n\nCUDA Toolkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u672c\u7bc0\u3067\u306fCUDA Toolkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u65e2\u306b\u6700\u65b0\u306eCUDA Toolkit\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308c\u3070\u3001\u672c\u7bc0\u306e\u5185\u5bb9\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u69cb\u3044\u307e\u305b\u3093\n\n\nNVIDIA\u306fCUDA Toolkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\uff12\u901a\u308a\u306e\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u4e00\u3064\u306f\u81ea\u5df1\u5b9f\u884c\u578b\u30a2\u30fc\u30ab\u30a4\u30d6\uff08runfile\u3068\u547c\u3070\u308c\u308b\uff09\u306b\u3088\u308b\u3082\u306e\u3002\u3082\u3046\u4e00\u3064\u306fRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308b\u3082\u306e\u3067\u3059\u3002\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u66f4\u65b0\u304c\u5bb9\u6613\u3067\u3042\u308b\u4e8b\u304b\u3089\u3001\u5f8c\u8005\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u63a8\u5968\u3067\u3059\u3002\n\n\nCUDA Toolkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30d1\u30c3\u30b1\u30fc\u30b8\u306fNVIDIA DEVELOPER ZONE\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 \u9069\u5207\u306aOS\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3001\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3001\u300erpm(network)\u300f\u7248\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\n\u300erpm(network)\u300f\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u306fCUDA Toolkit\u3092\u914d\u5e03\u3059\u308byum\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u306f OS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u306b\u304a\u3044\u3066\u30b7\u30b9\u30c6\u30e0\u306bEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3057\u305f\u306e\u3068\u540c\u69d8\u306e\u65b9\u6cd5\u3067\u3059\u3002 \u3057\u305f\u304c\u3063\u3066\u3001cuda\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\u3057\u305f\u5f8c\u3001\u95a2\u9023\u3057\u305fRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n$ sudo rpm -i cuda-repo-\ndistribution\n-\nversion\n.x86_64.rpm\n$ sudo yum clean all\n$ sudo yum install cuda\n\n\n\n\n\u6b63\u5e38\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\n/usr/local/cuda\n\u914d\u4e0b\u306bCUDA Toolkit\u304c\u5c0e\u5165\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n$ ls /usr/local/cuda\nbin     include  libnsight         nvml       samples  tools\ndoc     jre      libnvvp           nvvm       share    version.txt\nextras  lib64    nsightee_plugins  pkgconfig  src\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001GPU\u304c\u6b63\u3057\u304f\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nnvidia-smi\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u51fa\u529b\u4f8b\u306e\u3088\u3046\u306b\u3001\u30b7\u30b9\u30c6\u30e0\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308bGPU\u306e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\n$ nvidia-smi\nWed Feb 14 09:43:48 2018\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 387.26                 Driver Version: 387.26                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla V100-PCIE...  Off  | 00000000:02:00.0 Off |                    0 |\n| N/A   41C    P0    37W / 250W |      0MiB / 16152MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID   Type   Process name                             Usage      |\n|=============================================================================|\n|  No running processes found                                                 |\n+-----------------------------------------------------------------------------+\n\n\n\n\n\n\nTip\n\n\nnvidia\u30c9\u30e9\u30a4\u30d0\u3068\u7af6\u5408\u3059\u308bnouveau\u30c9\u30e9\u30a4\u30d0\u304c\u30ed\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u76f4\u3061\u306bnvidia\u30c9\u30e9\u30a4\u30d0\u3092\u30ed\u30fc\u30c9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\u3053\u306e\u5834\u5408\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u3092\u4e00\u5ea6\u518d\u8d77\u52d5\u3057\u3066nvidia-smi\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002CUDA\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306fnouveau\u30c9\u30e9\u30a4\u30d0\u306e\u7121\u52b9\u5316\u8a2d\u5b9a\u3092\u884c\u3046\u305f\u3081\u3001\u6b21\u56de\u8d77\u52d5\u6642\u306b\u306fnouveau\u30c9\u30e9\u30a4\u30d0\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\n\nPostgreSQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u672c\u7bc0\u3067\u306fRPM\u306b\u3088\u308bPostgreSQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3064\u3044\u3066\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u95a2\u3057\u3066\u306f\u65e2\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u6570\u591a\u304f\u5b58\u5728\u3057\u3001\n./configure\n\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u591a\u5c90\u306b\u308f\u305f\u308b\u4e8b\u304b\u3089\u3001\u3053\u3053\u3067\u306f\u7d39\u4ecb\u3057\u307e\u305b\u3093\u3002\n\n\nLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u914d\u5e03\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3082PostgreSQL\u306f\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u5fc5\u305a\u3057\u3082\u6700\u65b0\u3067\u306f\u306a\u304f\u3001PG-Strom\u306e\u5bfe\u5fdc\u30d0\u30fc\u30b8\u30e7\u30f3\u3088\u308a\u3082\u53e4\u3044\u3082\u306e\u3067\u3042\u308b\u4e8b\u304c\u591a\u3005\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001Red Hat Enterprise Linux 7.x\u3084CentOS 7.x\u3067\u914d\u5e03\u3055\u308c\u3066\u3044\u308bPostgreSQL\u306fv9.2.x\u3067\u3059\u304c\u3001\u3053\u308c\u306fPostgreSQL\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3068\u3057\u3066\u65e2\u306bEOL\u3068\u306a\u3063\u3066\u3044\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\u3002\n\n\nPostgreSQL Global Development Group\u306f\u3001\u6700\u65b0\u306ePostgreSQL\u304a\u3088\u3073\u95a2\u9023\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u914d\u5e03\u306e\u305f\u3081\u306byum\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\nEPEL\u306e\u8a2d\u5b9a\u306e\u3088\u3046\u306b\u3001yum\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u3060\u3051\u306e\u5c0f\u3055\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u305d\u306e\u5f8c\u3001PostgreSQL\u3084\u305d\u306e\u4ed6\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\nyum\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u306e\u4e00\u89a7\u306f \nhttp://yum.postgresql.org/repopackages.php\n \u3067\u3059\u3002\n\n\nPostgreSQL\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3068Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3054\u3068\u306b\u591a\u304f\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3042\u306a\u305f\u306eLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u5411\u3051\u306ePostgreSQL 9.6\u4ee5\u964d\u306e\u3082\u306e\u3092\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001yum\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u6b21\u3044\u3067\u3001PostgreSQL\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002 PostgreSQL v10\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001PG-Strom\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\npostgresql10-devel\n\n\npostgresql10-server\n\n\n\n\n$ sudo yum install -y https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-x86_64/pgdg-redhat10-10-2.noarch.rpm\n$ sudo yum install -y postgresql10-server postgresql10-devel\n          :\n================================================================================\n Package                  Arch        Version                 Repository   Size\n================================================================================\nInstalling:\n postgresql10-devel       x86_64      10.2-1PGDG.rhel7        pgdg10      2.0 M\n postgresql10-server      x86_64      10.2-1PGDG.rhel7        pgdg10      4.4 M\nInstalling for dependencies:\n postgresql10             x86_64      10.2-1PGDG.rhel7        pgdg10      1.5 M\n postgresql10-libs        x86_64      10.2-1PGDG.rhel7        pgdg10      354 k\n\nTransaction Summary\n================================================================================\nInstall  2 Packages (+2 Dependent packages)\n          :\nInstalled:\n  postgresql10-devel.x86_64 0:10.2-1PGDG.rhel7\n  postgresql10-server.x86_64 0:10.2-1PGDG.rhel7\n\nDependency Installed:\n  postgresql10.x86_64 0:10.2-1PGDG.rhel7\n  postgresql10-libs.x86_64 0:10.2-1PGDG.rhel7\n\nComplete!\n\n\n\n\nPostgreSQL Global Development Group\u306e\u63d0\u4f9b\u3059\u308bRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\n/usr/pgsql-\nversion\n\u3068\u3044\u3046\u5c11\u3005\u5909\u5247\u7684\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u3001\npsql\n\u7b49\u306e\u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u306f\u30d1\u30b9\u304c\u901a\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\npostgresql-alternatives\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3068\u3001\u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3078\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\n/usr/local/bin\n\u4ee5\u4e0b\u306b\u4f5c\u6210\u3059\u308b\u305f\u3081\u5404\u7a2e\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u4fbf\u5229\u3067\u3059\u3002\u307e\u305f\u3001\u8907\u6570\u30d0\u30fc\u30b8\u30e7\u30f3\u306ePostgreSQL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u3067\u3082\u3001\nalternatives\n\u30b3\u30de\u30f3\u30c9\u306b\u3088\u3063\u3066\u30bf\u30fc\u30b2\u30c3\u30c8\u3068\u306a\u308bPostgreSQL\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\n$ sudo yum install postgresql-alternatives\n          :\nResolving Dependencies\n--\n Running transaction check\n---\n Package postgresql-alternatives.noarch 0:1.0-1.el7 will be installed\n--\n Finished Dependency Resolution\n\nDependencies Resolved\n          :\n================================================================================\n Package                      Arch        Version           Repository     Size\n================================================================================\nInstalling:\n postgresql-alternatives      noarch      1.0-1.el7         heterodb      9.2 k\n\nTransaction Summary\n================================================================================\n          :\nInstalled:\n  postgresql-alternatives.noarch 0:1.0-1.el7\n\nComplete!\n\n\n\n\nPG-Strom\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u672c\u7bc0\u3067\u306fPG-Strom\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\u63a8\u5968\u306fRPM\u306b\u3088\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3059\u304c\u3001\u958b\u767a\u8005\u5411\u3051\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u306e\u30d3\u30eb\u30c9\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3082\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\nRPM\u306b\u3088\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nPG-Strom\u304a\u3088\u3073\u95a2\u9023\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\nHeteroDB Software Distribution Center\n\u3088\u308a\u914d\u5e03\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u65e2\u306byum\u30b7\u30b9\u30c6\u30e0\u3078\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u6e08\u307f\u3067\u3042\u308c\u3070\u3001\u305d\u308c\u307b\u3069\u4f5c\u696d\u306f\u591a\u304f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\u57fa\u76e4\u3068\u306a\u308bPostgreSQL\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3054\u3068\u306b\u5225\u500b\u306ePG-Strom\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u6e96\u5099\u3055\u308c\u3066\u304a\u308a\u3001PostgreSQL v9.6\u7528\u3067\u3042\u308c\u3070\npg_strom-PG96\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u3001PostgreSQL v10\u7528\u3067\u3042\u308c\u3070\npg_strom-PG10\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\n$ sudo yum install pg_strom-PG10\n          :\n================================================================================\n Package              Arch          Version               Repository       Size\n================================================================================\nInstalling:\n pg_strom-PG10        x86_64        1.9-180301.el7        heterodb        320 k\n\nTransaction Summary\n================================================================================\n          :\nInstalled:\n  pg_strom-PG10.x86_64 0:1.9-180301.el7\n\nComplete!\n\n\n\n\n\u4ee5\u4e0a\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u958b\u767a\u8005\u5411\u3051\u306b\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089PG-Strom\u3092\u30d3\u30eb\u30c9\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3082\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5165\u624b\n\n\nRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u540c\u69d8\u306b\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306etarball\u3092\nHeteroDB Software Distribution Center\n\u304b\u3089\u5165\u624b\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u305f\u3060\u3001tarball\u306e\u30ea\u30ea\u30fc\u30b9\u306b\u306f\u3042\u308b\u7a0b\u5ea6\u306e\u30bf\u30a4\u30e0\u30e9\u30b0\u304c\u751f\u3058\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u6700\u65b0\u306e\u958b\u767a\u7248\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306b\u306f\nPG-Strom\u306eGitHub\u30ea\u30dd\u30b8\u30c8\u30ea\n\u306e\nmaster\n\u30d6\u30e9\u30f3\u30c1\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u3059\u308b\u65b9\u6cd5\u306e\u65b9\u304c\u597d\u307e\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n$ git clone https://github.com/heterodb/pg-strom.git\nCloning into 'pg-strom'...\nremote: Counting objects: 13797, done.\nremote: Compressing objects: 100% (215/215), done.\nremote: Total 13797 (delta 208), reused 339 (delta 167), pack-reused 13400\nReceiving objects: 100% (13797/13797), 11.81 MiB | 1.76 MiB/s, done.\nResolving deltas: 100% (10504/10504), done.\n\n\n\n\nPG-Strom\u306e\u30d3\u30eb\u30c9\n\n\nPG-Strom\u3092\u30d3\u30eb\u30c9\u3059\u308b\u6642\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306ePostgreSQL\u3068\u53b3\u5bc6\u306b\u4e00\u81f4\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3001\u540c\u3058\u69cb\u9020\u4f53\u304c\u30d3\u30eb\u30c9\u6642\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u306b\u3088\u308aPostgreSQL\u3068PG-Strom\u3067\u7570\u306a\u3063\u305f\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u6301\u3063\u3066\u3057\u307e\u3063\u305f\u3068\u3059\u308c\u3070\u3001\u975e\u5e38\u306b\u767a\u898b\u306e\u96e3\u3057\u3044\u30d0\u30b0\u3092\u751f\u307f\u51fa\u3057\u3066\u3057\u307e\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002 \u3057\u305f\u304c\u3063\u3066\u3001\uff08\u4e00\u8cab\u6027\u306e\u306a\u3044\u72b6\u614b\u3092\u907f\u3051\u308b\u305f\u3081\uff09PG-Strom\u306f\u72ec\u81ea\u306bconfigure\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d70\u3089\u305b\u305f\u308a\u306f\u305b\u305a\u3001\npg_config\n\u3092\u4f7f\u3063\u3066PostgreSQL\u306e\u30d3\u30eb\u30c9\u6642\u8a2d\u5b9a\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\n\n\npg_config\n\u306b\u30d1\u30b9\u304c\u901a\u3063\u3066\u304a\u308a\u3001\u305d\u308c\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306ePostgreSQL\u306e\u3082\u306e\u3067\u3042\u308c\u3070\u3001\u305d\u306e\u307e\u307e\nmake\n\u3001\nmake install\n\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u76f4\u63a5\u30d1\u30b9\u304c\u901a\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\nmake\n\u30b3\u30de\u30f3\u30c9\u306b\nPG_CONFIG=...\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4e0e\u3048\u3001\npg_config\n\u306e\u30d5\u30eb\u30d1\u30b9\u3092\u6e21\u3057\u307e\u3059\u3002\n\n\n$ cd pg-strom\n$ make PG_CONFIG=/usr/pgsql-10/bin/pg_config\n$ sudo make install PG_CONFIG=/usr/pgsql-10/bin/pg_config\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u8a2d\u5b9a\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u306e\u4f5c\u6210\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u306e\u4f5c\u6210\u304c\u6e08\u3093\u3067\u3044\u306a\u3044\u5834\u5408\u306f\u3001\ninitdb\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066PostgreSQL\u306e\u521d\u671f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\nRPM\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u304a\u3051\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u306e\u30d1\u30b9\u306f\n/var/lib/pgsql/\nversion number\n/data\n\u3067\u3059\u3002\n\npostgresql-alternatives\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001PostgreSQL\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u62e0\u3089\u305a\n/var/lib/pgdata\n\u3067\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n$ sudo su - postgres\n$ initdb -D /var/lib/pgdata/\nThe files belonging to this database system will be owned by user \npostgres\n.\nThis user must also own the server process.\n\nThe database cluster will be initialized with locale \nen_US.UTF-8\n.\nThe default database encoding has accordingly been set to \nUTF8\n.\nThe default text search configuration will be set to \nenglish\n.\n\nData page checksums are disabled.\n\nfixing permissions on existing directory /var/lib/pgdata ... ok\ncreating subdirectories ... ok\nselecting default max_connections ... 100\nselecting default shared_buffers ... 128MB\nselecting dynamic shared memory implementation ... posix\ncreating configuration files ... ok\nrunning bootstrap script ... ok\nperforming post-bootstrap initialization ... ok\nsyncing data to disk ... ok\n\nWARNING: enabling \ntrust\n authentication for local connections\nYou can change this by editing pg_hba.conf or using the option -A, or\n--auth-local and --auth-host, the next time you run initdb.\n\nSuccess. You can now start the database server using:\n\n    pg_ctl -D /var/lib/pgdata/ -l logfile start\n\n\n\n\npostgresql.conf\u306e\u7de8\u96c6\n\n\n\u7d9a\u3044\u3066\u3001PostgreSQL\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308b \npostgresql.conf\n \u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n\nPG-Strom\u3092\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306b\u306f\u3001\u6700\u4f4e\u9650\u3001\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u3053\u308c\u4ee5\u5916\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3064\u3044\u3066\u3082\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u7528\u9014\u3084\u60f3\u5b9a\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u8e0f\u307e\u3048\u3066\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\nshared_preload_libraries\n\n\nPG-Strom\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\nshared_preload_libraries\n\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308apostmaster\u30d7\u30ed\u30bb\u30b9\u306e\u8d77\u52d5\u6642\u306b\u30ed\u30fc\u30c9\u3055\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u3067\u306e\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9\u306f\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u5916\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u9805\u76ee\u306f\u5fc5\u9808\u3067\u3059\u3002\n\n\nshared_preload_libraries = '$libdir/pg_strom'\n\n\n\n\n\n\nmax_worker_processes\n\n\nPG-Strom\u306f\u6570\u500b\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u3092\u5185\u90e8\u7684\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u3042\u308b 8 \u3067\u306f\u3001\u305d\u308c\u4ee5\u5916\u306e\u51e6\u7406\u306b\u5229\u7528\u3067\u304d\u308b\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u6570\u304c\u3042\u307e\u308a\u306b\u3082\u5c11\u306a\u3059\u304e\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u3042\u308b\u7a0b\u5ea6\u306e\u4f59\u88d5\u3092\u6301\u3063\u305f\u5024\u3092\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u3059\u3002\n\n\nmax_worker_processes = 100\n\n\n\n\n\n\nshared_buffers\n\n\n\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u3088\u308a\u307e\u3059\u304c\u3001\nshared_buffers\n\u306e\u521d\u671f\u8a2d\u5b9a\u306f\u975e\u5e38\u306b\u5c0f\u3055\u3044\u305f\u3081\u3001PG-Strom\u304c\u6709\u52b9\u306b\u6a5f\u80fd\u3059\u308b\u6c34\u6e96\u306e\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u306b\u5bfe\u3057\u3066\u306f\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e\u8aad\u307f\u66f8\u304d\u304c\u5f8b\u901f\u8981\u56e0\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u3001GPU\u306e\u4e26\u5217\u8a08\u7b97\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u5229\u7528\u3067\u304d\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u3042\u308b\u7a0b\u5ea6\u306e\u4f59\u88d5\u3092\u6301\u3063\u305f\u5024\u3092\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u3059\u3002\n\n\nshared_buffers = 10GB\n\n\n\u660e\u3089\u304b\u306b\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3088\u308a\u3082\u5927\u304d\u306a\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306e\u5229\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u30a4\u30f3\u30e1\u30e2\u30ea\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u304a\u304d\u305f\u3044\u5834\u5408\u306f\u3001\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5229\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\n\n\nwork_mem\n\n\n\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u3088\u308a\u307e\u3059\u304c\u3001\nwork_mem\n\u306e\u521d\u671f\u8a2d\u5b9a\u306f\u975e\u5e38\u306b\u5c0f\u3055\u3044\u305f\u3081\u3001\u89e3\u6790\u7cfb\u30af\u30a8\u30ea\u3067\u6700\u9069\u306a\u30af\u30a8\u30ea\u5b9f\u884c\u8a08\u753b\u304c\u9078\u629e\u3055\u308c\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u5178\u578b\u7684\u306a\u4f8b\u306f\u3001\u30bd\u30fc\u30c8\u51e6\u7406\u306b\u30aa\u30f3\u30e1\u30e2\u30ea\u306e\u30af\u30a4\u30c3\u30af\u30bd\u30fc\u30c8\u3067\u306f\u306a\u304f\u3001\u30c7\u30a3\u30b9\u30af\u30d9\u30fc\u30b9\u306e\u30de\u30fc\u30b8\u30bd\u30fc\u30c8\u3092\u9078\u629e\u3059\u308b\u3068\u3044\u3063\u305f\u3082\u306e\u3067\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u3042\u308b\u7a0b\u5ea6\u306e\u4f59\u88d5\u3092\u6301\u3063\u305f\u5024\u3092\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u3059\u3002\n\n\nwork_mem = 1GB\n\n\n\n\n\n\n\n\nPostgreSQL\u306e\u8d77\u52d5\n\n\nPostgreSQL\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\n\u6b63\u5e38\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304c\u5b8c\u4e86\u3057\u3066\u3044\u308c\u3070\u3001\u30ed\u30b0\u306bPG-Strom\u304cGPU\u3092\u8a8d\u8b58\u3057\u305f\u4e8b\u3092\u793a\u3059\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001Tesla V100(PCIe; 16GB\u7248)\u3092\u8a8d\u8b58\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n# systemctl start postgresql-10\n# systemctl status -l postgresql-10\n* postgresql-10.service - PostgreSQL 10 database server\n   Loaded: loaded (/usr/lib/systemd/system/postgresql-10.service; disabled; vendor preset: disabled)\n   Active: active (running) since Sat 2018-03-03 15:45:23 JST; 2min 21s ago\n     Docs: https://www.postgresql.org/docs/10/static/\n  Process: 24851 ExecStartPre=/usr/pgsql-10/bin/postgresql-10-check-db-dir ${PGDATA} (code=exited, status=0/SUCCESS)\n Main PID: 24858 (postmaster)\n   CGroup: /system.slice/postgresql-10.service\n           |-24858 /usr/pgsql-10/bin/postmaster -D /var/lib/pgsql/10/data/\n           |-24890 postgres: logger process\n           |-24892 postgres: bgworker: PG-Strom GPU memory keeper\n           |-24896 postgres: checkpointer process\n           |-24897 postgres: writer process\n           |-24898 postgres: wal writer process\n           |-24899 postgres: autovacuum launcher process\n           |-24900 postgres: stats collector process\n           |-24901 postgres: bgworker: PG-Strom ccache-builder2\n           |-24902 postgres: bgworker: PG-Strom ccache-builder1\n           `-24903 postgres: bgworker: logical replication launcher\n\nMar 03 15:45:19 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:19.195 JST [24858] HINT:  Run 'nvidia-cuda-mps-control -d', then start server process. Check 'man nvidia-cuda-mps-control' for more details.\nMar 03 15:45:20 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:20.509 JST [24858] LOG:  PG-Strom: GPU0 Tesla V100-PCIE-16GB (5120 CUDA cores; 1380MHz, L2 6144kB), RAM 15.78GB (4096bits, 856MHz), CC 7.0\nMar 03 15:45:20 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:20.510 JST [24858] LOG:  NVRTC - CUDA Runtime Compilation vertion 9.1\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.378 JST [24858] LOG:  listening on IPv6 address \n::1\n, port 5432\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.378 JST [24858] LOG:  listening on IPv4 address \n127.0.0.1\n, port 5432\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.442 JST [24858] LOG:  listening on Unix socket \n/var/run/postgresql/.s.PGSQL.5432\n\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.492 JST [24858] LOG:  listening on Unix socket \n/tmp/.s.PGSQL.5432\n\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.527 JST [24858] LOG:  redirecting log output to logging collector process\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.527 JST [24858] HINT:  Future log output will appear in directory \nlog\n.\nMar 03 15:45:23 saba.heterodb.com systemd[1]: Started PostgreSQL 10 database server.\n\n\n\n\nPG-Strom\u95a2\u9023\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\n\n\u6700\u5f8c\u306b\u3001PG-Strom\u306b\u95a2\u9023\u3059\u308bSQL\u95a2\u6570\u306a\u3069\u306eDB\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u306e\u624b\u9806\u306fPostgreSQL\u306eEXTENSION\u6a5f\u80fd\u3092\u7528\u3044\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3055\u308c\u3066\u304a\u308a\u3001SQL\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\nCREATE EXTENSION\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\n\n\u306a\u304a\u3001\u3053\u306e\u624b\u9806\u306f\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u305f\u3073\u306b\u5fc5\u8981\u306b\u306a\u308b\u4e8b\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u305f\u6642\u70b9\u3067\u65e2\u306bPG-Strom\u95a2\u9023\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u3066\u307b\u3057\u3044\u5834\u5408\u306f\u3001\u4e88\u3081\ntemplate1\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067PG-Strom\u30a8\u30af\u30b9\u30c6\u30f3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u304a\u3051\u3070\u3001\nCREATE DATABASE\n\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u6642\u306b\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u8a2d\u5b9a\u304c\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002\n\n\n$ psql postgres -U postgres\npsql (10.2)\nType \nhelp\n for help.\n\npostgres=# CREATE EXTENSION pg_strom ;\nCREATE EXTENSION\n\n\n\n\n\u4ee5\u4e0a\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f5c\u696d\u306f\u5b8c\u4e86\u3067\u3059\u3002", 
            "title": "\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/install/#_1", 
            "text": "\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2  CUDA Toolkit\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308bLinux\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3092\u52d5\u4f5c\u53ef\u80fd\u306a x86_64 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u304c\u5fc5\u8981\u3067\u3059\u3002   CPU\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3001\u304a\u3088\u3073\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c7\u30d0\u30a4\u30b9\u306b\u306f\u7279\u5225\u306a\u8981\u4ef6\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001 note002:HW Validation List \u306f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u9078\u5b9a\u306e\u4e0a\u3067\u53c2\u8003\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002  SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u5229\u7528\u3059\u308b\u306b\u306fNVMe\u898f\u683c\u306b\u5bfe\u5fdc\u3057\u305fSSD\u304c\u5fc5\u8981\u3067\u3001GPU\u3068\u540c\u4e00\u306ePCIe Root Complex\u914d\u4e0b\u306b\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002    GPU\u30c7\u30d0\u30a4\u30b9  PG-Strom\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u5c11\u306a\u304f\u3068\u3082\u4e00\u500b\u306eGPU\u30c7\u30d0\u30a4\u30b9\u304c\u30b7\u30b9\u30c6\u30e0\u4e0a\u306b\u5fc5\u8981\u3067\u3059\u3002\u3053\u308c\u3089\u306fCUDA Toolkit\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u304a\u308a\u3001computing capability \u304c6.0\u4ee5\u964d\u306e\u30e2\u30c7\u30eb\uff08Pascal\u4e16\u4ee3\u4ee5\u964d\uff09\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  note001:GPU Availability Matrix \u306b\u3088\u308a\u8a73\u7d30\u306a\u60c5\u5831\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306e\u5bfe\u5fdc\u72b6\u6cc1\u306b\u95a2\u3057\u3066\u3082\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002    Operating System  PG-Strom\u306e\u5b9f\u884c\u306b\u306f\u3001CUDA Toolkit\u306b\u3088\u308a\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308bx86_64\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u5411\u3051\u306eLinux OS\u304c\u5fc5\u8981\u3067\u3059\u3002\u63a8\u5968\u74b0\u5883\u306fRed Hat Enterprise Linux\u307e\u305f\u306fCentOS\u306e\u30d0\u30fc\u30b8\u30e7\u30f37.x\u30b7\u30ea\u30fc\u30ba\u3067\u3059\u3002  SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001Red Hat Enterprise Linux \u307e\u305f\u306f CentOS \u306e\u30d0\u30fc\u30b8\u30e7\u30f37.3\u4ee5\u964d\u304c\u5fc5\u8981\u3067\u3059\u3002    PostgreSQL  PG-Strom\u306e\u5b9f\u884c\u306b\u306fPostgreSQL\u30d0\u30fc\u30b8\u30e7\u30f39.6\u4ee5\u964d\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u308c\u306f\u3001Custom Scan\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304cCPU\u4e26\u5217\u5b9f\u884c\u3084GROUP BY\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u5237\u65b0\u3055\u308c\u3001\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u63d0\u4f9b\u3059\u308b\u30ab\u30b9\u30bf\u30e0\u5b9f\u884c\u8a08\u753b\u3092\u81ea\u7136\u306a\u5f62\u3067\u7d71\u5408\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u305f\u3081\u3067\u3059\u3002    CUDA Toolkit  PG-Strom\u306e\u5b9f\u884c\u306b\u306fCUDA Toolkit \u30d0\u30fc\u30b8\u30e7\u30f39.1\u4ee5\u964d\u304c\u5fc5\u8981\u3067\u3059\u3002  PG-Strom\u304c\u63d0\u4f9b\u3059\u308b\u534a\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\uff08 float2 \uff09\u578b\u306f\u3001\u5185\u90e8\u7684\u306bCUDA C\u306ehalf_t\u578b\u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001\u53e4\u3044CUDA Toolkit\u3067\u306f\u3053\u308c\u3092\u30d3\u30eb\u30c9\u3067\u304d\u306a\u3044\u305f\u3081\u3067\u3059\u3002", 
            "title": "\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8"
        }, 
        {
            "location": "/install/#os", 
            "text": "CUDA Toolkit\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3057\u3001\u500b\u3005\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d7\u30ed\u30bb\u30b9\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f5c\u696d\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002 CUDA Toolkit\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u3001 NVIDIA DEVELOPER ZONE \u306b\u304a\u3044\u3066\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\u3002  Red Hat Enterprise Linux 7.x\u7cfb\u5217\u3001\u307e\u305f\u306fCentOS 7.x\u7cfb\u5217\u306e\u5834\u5408\u3001\u30d9\u30fc\u30b9\u74b0\u5883\u3068\u3057\u3066\u300c\u6700\u5c0f\u9650\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u3092\u9078\u629e\u3057\u3001\u3055\u3089\u306b\u4ee5\u4e0b\u306e\u30a2\u30c9\u30aa\u30f3\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002   \u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb  \u958b\u767a\u30c4\u30fc\u30eb", 
            "title": "OS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/install/#os_1", 
            "text": "\u30b7\u30b9\u30c6\u30e0\u3078\u306eOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u5f8c\u306e\u30b9\u30c6\u30c3\u30d7\u3067GPU\u30c9\u30e9\u30a4\u30d0\u3068NVMe-Strom\u30c9\u30e9\u30a4\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u8ffd\u52a0\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002", 
            "title": "OS\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u8a2d\u5b9a"
        }, 
        {
            "location": "/install/#epel", 
            "text": "PG-Strom\u306e\u5b9f\u884c\u306b\u5fc5\u8981\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u3044\u304f\u3064\u304b\u306f\u3001EPEL(Extra Packages for Enterprise Linux)\u306e\u4e00\u90e8\u3068\u3057\u3066\u914d\u5e03\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u306bEPEL\u30d1\u30c3\u30b1\u30fc\u30b8\u7fa4\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u3092yum\u30b7\u30b9\u30c6\u30e0\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u5165\u624b\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4e00\u3064\u304cDKMS(Dynamic Kernel Module Support)\u3067\u3059\u3002\u3053\u308c\u306f\u52d5\u4f5c\u4e2d\u306eLinux\u30ab\u30fc\u30cd\u30eb\u306b\u9069\u5408\u3057\u305fLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u3067\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3001NVIDIA\u306eGPU\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u3084\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb(nvme_strom)\u304c\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\nLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u3001Linux\u30ab\u30fc\u30cd\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u306b\u8ffd\u5f93\u3057\u3066\u518d\u30d3\u30eb\u30c9\u304c\u5fc5\u8981\u3067\u3042\u308b\u305f\u3081\u3001DKMS\u306a\u3057\u3067\u306e\u30b7\u30b9\u30c6\u30e0\u904b\u7528\u306f\u73fe\u5b9f\u7684\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002  EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u306f epel-release \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002\n\u3053\u308c\u306fFedora Project\u306e\u30d1\u30d6\u30ea\u30c3\u30afFTP\u30b5\u30a4\u30c8\u304b\u3089\u5165\u624b\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3001 epel-release- distribution version .noarch.rpm \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u3053\u308c\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002  epel-release \u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3068\u3001EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u304cyum\u30b7\u30b9\u30c6\u30e0\u3078\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002   Fedora Project Public FTP Site  https://dl.fedoraproject.org/pub/epel/7/x86_64/      Tip  \u4e0a\u8a18URL\u304b\u3089 Packages \u2192 e \u3078\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u968e\u5c64\u3092\u4e0b\u308a\u307e\u3059\u3002   \u4ee5\u4e0b\u306e\u3088\u3046\u306bepel-release\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002  $ sudo yum install https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-11.noarch.rpm\n          :\n================================================================================\n Package           Arch        Version     Repository                      Size\n================================================================================\nInstalling:\n epel-release      noarch      7-11        /epel-release-7-11.noarch       24 k\n\nTransaction Summary\n================================================================================\nInstall  1 Package\n          :\nInstalled:\n  epel-release.noarch 0:7-11\n\nComplete!", 
            "title": "EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a"
        }, 
        {
            "location": "/install/#heterodb-swdc", 
            "text": "PG-Strom\u307b\u304b\u95a2\u9023\u30d1\u30c3\u30b1\u30fc\u30b8\u306f HeteroDB Software Distribution Center \u304b\u3089\u914d\u5e03\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u306b\u3001HeteroDB-SWDC\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u3092yum\u30b7\u30b9\u30c6\u30e0\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  HeteroDB-SWDC\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u306fheterodb-swdc\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u307e\u3059\u3002\nWeb\u30d6\u30e9\u30a6\u30b6\u306a\u3069\u3067 HeteroDB Software Distribution Center \u3078\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30da\u30fc\u30b8\u306e\u5148\u982d\u306b\u30ea\u30f3\u30af\u306e\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b heterodb-swdc-1.0-1.el7.noarch.rpm \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nheterodb-swdc\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3068\u3001HeteroDB-SWDC\u304b\u3089\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u624b\u3059\u308b\u305f\u3081\u306eyum\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u8a2d\u5b9a\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002  \u4ee5\u4e0b\u306e\u3088\u3046\u306bheterodb-swdc\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002  $ sudo yum install https://heterodb.github.io/swdc/yum/rhel7-x86_64/heterodb-swdc-1.0-1.el7.noarch.rpm\n          :\n================================================================================\n Package         Arch     Version       Repository                         Size\n================================================================================\nInstalling:\n heterodb-swdc   noarch   1.0-1.el7     /heterodb-swdc-1.0-1.el7.noarch   2.4 k\n\nTransaction Summary\n================================================================================\nInstall  1 Package\n          :\nInstalled:\n  heterodb-swdc.noarch 0:1.0-1.el7\n\nComplete!", 
            "title": "HeteroDB-SWDC\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/install/#cuda-toolkit", 
            "text": "\u672c\u7bc0\u3067\u306fCUDA Toolkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u65e2\u306b\u6700\u65b0\u306eCUDA Toolkit\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308c\u3070\u3001\u672c\u7bc0\u306e\u5185\u5bb9\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u69cb\u3044\u307e\u305b\u3093  NVIDIA\u306fCUDA Toolkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\uff12\u901a\u308a\u306e\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u4e00\u3064\u306f\u81ea\u5df1\u5b9f\u884c\u578b\u30a2\u30fc\u30ab\u30a4\u30d6\uff08runfile\u3068\u547c\u3070\u308c\u308b\uff09\u306b\u3088\u308b\u3082\u306e\u3002\u3082\u3046\u4e00\u3064\u306fRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308b\u3082\u306e\u3067\u3059\u3002\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u66f4\u65b0\u304c\u5bb9\u6613\u3067\u3042\u308b\u4e8b\u304b\u3089\u3001\u5f8c\u8005\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u63a8\u5968\u3067\u3059\u3002  CUDA Toolkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30d1\u30c3\u30b1\u30fc\u30b8\u306fNVIDIA DEVELOPER ZONE\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 \u9069\u5207\u306aOS\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3001\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3001\u300erpm(network)\u300f\u7248\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002   \u300erpm(network)\u300f\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u306fCUDA Toolkit\u3092\u914d\u5e03\u3059\u308byum\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\u3053\u308c\u306f OS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u306b\u304a\u3044\u3066\u30b7\u30b9\u30c6\u30e0\u306bEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3057\u305f\u306e\u3068\u540c\u69d8\u306e\u65b9\u6cd5\u3067\u3059\u3002 \u3057\u305f\u304c\u3063\u3066\u3001cuda\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\u3057\u305f\u5f8c\u3001\u95a2\u9023\u3057\u305fRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002  $ sudo rpm -i cuda-repo- distribution - version .x86_64.rpm\n$ sudo yum clean all\n$ sudo yum install cuda  \u6b63\u5e38\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001 /usr/local/cuda \u914d\u4e0b\u306bCUDA Toolkit\u304c\u5c0e\u5165\u3055\u308c\u3066\u3044\u307e\u3059\u3002  $ ls /usr/local/cuda\nbin     include  libnsight         nvml       samples  tools\ndoc     jre      libnvvp           nvvm       share    version.txt\nextras  lib64    nsightee_plugins  pkgconfig  src  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001GPU\u304c\u6b63\u3057\u304f\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 nvidia-smi \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u51fa\u529b\u4f8b\u306e\u3088\u3046\u306b\u3001\u30b7\u30b9\u30c6\u30e0\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308bGPU\u306e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002  $ nvidia-smi\nWed Feb 14 09:43:48 2018\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 387.26                 Driver Version: 387.26                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla V100-PCIE...  Off  | 00000000:02:00.0 Off |                    0 |\n| N/A   41C    P0    37W / 250W |      0MiB / 16152MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID   Type   Process name                             Usage      |\n|=============================================================================|\n|  No running processes found                                                 |\n+-----------------------------------------------------------------------------+   Tip  nvidia\u30c9\u30e9\u30a4\u30d0\u3068\u7af6\u5408\u3059\u308bnouveau\u30c9\u30e9\u30a4\u30d0\u304c\u30ed\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u76f4\u3061\u306bnvidia\u30c9\u30e9\u30a4\u30d0\u3092\u30ed\u30fc\u30c9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\u3053\u306e\u5834\u5408\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u3092\u4e00\u5ea6\u518d\u8d77\u52d5\u3057\u3066nvidia-smi\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002CUDA\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306fnouveau\u30c9\u30e9\u30a4\u30d0\u306e\u7121\u52b9\u5316\u8a2d\u5b9a\u3092\u884c\u3046\u305f\u3081\u3001\u6b21\u56de\u8d77\u52d5\u6642\u306b\u306fnouveau\u30c9\u30e9\u30a4\u30d0\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002", 
            "title": "CUDA Toolkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/install/#postgresql", 
            "text": "\u672c\u7bc0\u3067\u306fRPM\u306b\u3088\u308bPostgreSQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3064\u3044\u3066\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u95a2\u3057\u3066\u306f\u65e2\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u6570\u591a\u304f\u5b58\u5728\u3057\u3001 ./configure \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u591a\u5c90\u306b\u308f\u305f\u308b\u4e8b\u304b\u3089\u3001\u3053\u3053\u3067\u306f\u7d39\u4ecb\u3057\u307e\u305b\u3093\u3002  Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u914d\u5e03\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3082PostgreSQL\u306f\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u5fc5\u305a\u3057\u3082\u6700\u65b0\u3067\u306f\u306a\u304f\u3001PG-Strom\u306e\u5bfe\u5fdc\u30d0\u30fc\u30b8\u30e7\u30f3\u3088\u308a\u3082\u53e4\u3044\u3082\u306e\u3067\u3042\u308b\u4e8b\u304c\u591a\u3005\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001Red Hat Enterprise Linux 7.x\u3084CentOS 7.x\u3067\u914d\u5e03\u3055\u308c\u3066\u3044\u308bPostgreSQL\u306fv9.2.x\u3067\u3059\u304c\u3001\u3053\u308c\u306fPostgreSQL\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3068\u3057\u3066\u65e2\u306bEOL\u3068\u306a\u3063\u3066\u3044\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\u3002  PostgreSQL Global Development Group\u306f\u3001\u6700\u65b0\u306ePostgreSQL\u304a\u3088\u3073\u95a2\u9023\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u914d\u5e03\u306e\u305f\u3081\u306byum\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\nEPEL\u306e\u8a2d\u5b9a\u306e\u3088\u3046\u306b\u3001yum\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u3060\u3051\u306e\u5c0f\u3055\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u305d\u306e\u5f8c\u3001PostgreSQL\u3084\u305d\u306e\u4ed6\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002  yum\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u306e\u4e00\u89a7\u306f  http://yum.postgresql.org/repopackages.php  \u3067\u3059\u3002  PostgreSQL\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3068Linux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3054\u3068\u306b\u591a\u304f\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u3042\u306a\u305f\u306eLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u5411\u3051\u306ePostgreSQL 9.6\u4ee5\u964d\u306e\u3082\u306e\u3092\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001yum\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u6b21\u3044\u3067\u3001PostgreSQL\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002 PostgreSQL v10\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001PG-Strom\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u3067\u3059\u3002   postgresql10-devel  postgresql10-server   $ sudo yum install -y https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-x86_64/pgdg-redhat10-10-2.noarch.rpm\n$ sudo yum install -y postgresql10-server postgresql10-devel\n          :\n================================================================================\n Package                  Arch        Version                 Repository   Size\n================================================================================\nInstalling:\n postgresql10-devel       x86_64      10.2-1PGDG.rhel7        pgdg10      2.0 M\n postgresql10-server      x86_64      10.2-1PGDG.rhel7        pgdg10      4.4 M\nInstalling for dependencies:\n postgresql10             x86_64      10.2-1PGDG.rhel7        pgdg10      1.5 M\n postgresql10-libs        x86_64      10.2-1PGDG.rhel7        pgdg10      354 k\n\nTransaction Summary\n================================================================================\nInstall  2 Packages (+2 Dependent packages)\n          :\nInstalled:\n  postgresql10-devel.x86_64 0:10.2-1PGDG.rhel7\n  postgresql10-server.x86_64 0:10.2-1PGDG.rhel7\n\nDependency Installed:\n  postgresql10.x86_64 0:10.2-1PGDG.rhel7\n  postgresql10-libs.x86_64 0:10.2-1PGDG.rhel7\n\nComplete!  PostgreSQL Global Development Group\u306e\u63d0\u4f9b\u3059\u308bRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306f /usr/pgsql- version \u3068\u3044\u3046\u5c11\u3005\u5909\u5247\u7684\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u3001 psql \u7b49\u306e\u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u306f\u30d1\u30b9\u304c\u901a\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u6ce8\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  postgresql-alternatives \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\u3068\u3001\u5404\u7a2e\u30b3\u30de\u30f3\u30c9\u3078\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092 /usr/local/bin \u4ee5\u4e0b\u306b\u4f5c\u6210\u3059\u308b\u305f\u3081\u5404\u7a2e\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u4fbf\u5229\u3067\u3059\u3002\u307e\u305f\u3001\u8907\u6570\u30d0\u30fc\u30b8\u30e7\u30f3\u306ePostgreSQL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u3067\u3082\u3001 alternatives \u30b3\u30de\u30f3\u30c9\u306b\u3088\u3063\u3066\u30bf\u30fc\u30b2\u30c3\u30c8\u3068\u306a\u308bPostgreSQL\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002  $ sudo yum install postgresql-alternatives\n          :\nResolving Dependencies\n--  Running transaction check\n---  Package postgresql-alternatives.noarch 0:1.0-1.el7 will be installed\n--  Finished Dependency Resolution\n\nDependencies Resolved\n          :\n================================================================================\n Package                      Arch        Version           Repository     Size\n================================================================================\nInstalling:\n postgresql-alternatives      noarch      1.0-1.el7         heterodb      9.2 k\n\nTransaction Summary\n================================================================================\n          :\nInstalled:\n  postgresql-alternatives.noarch 0:1.0-1.el7\n\nComplete!", 
            "title": "PostgreSQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/install/#pg-strom", 
            "text": "\u672c\u7bc0\u3067\u306fPG-Strom\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\u63a8\u5968\u306fRPM\u306b\u3088\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u3059\u304c\u3001\u958b\u767a\u8005\u5411\u3051\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u306e\u30d3\u30eb\u30c9\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3082\u7d39\u4ecb\u3057\u307e\u3059\u3002", 
            "title": "PG-Strom\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/install/#rpm", 
            "text": "PG-Strom\u304a\u3088\u3073\u95a2\u9023\u30d1\u30c3\u30b1\u30fc\u30b8\u306f HeteroDB Software Distribution Center \u3088\u308a\u914d\u5e03\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u65e2\u306byum\u30b7\u30b9\u30c6\u30e0\u3078\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u6e08\u307f\u3067\u3042\u308c\u3070\u3001\u305d\u308c\u307b\u3069\u4f5c\u696d\u306f\u591a\u304f\u3042\u308a\u307e\u305b\u3093\u3002  \u57fa\u76e4\u3068\u306a\u308bPostgreSQL\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3054\u3068\u306b\u5225\u500b\u306ePG-Strom\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u6e96\u5099\u3055\u308c\u3066\u304a\u308a\u3001PostgreSQL v9.6\u7528\u3067\u3042\u308c\u3070 pg_strom-PG96 \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u3001PostgreSQL v10\u7528\u3067\u3042\u308c\u3070 pg_strom-PG10 \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002  $ sudo yum install pg_strom-PG10\n          :\n================================================================================\n Package              Arch          Version               Repository       Size\n================================================================================\nInstalling:\n pg_strom-PG10        x86_64        1.9-180301.el7        heterodb        320 k\n\nTransaction Summary\n================================================================================\n          :\nInstalled:\n  pg_strom-PG10.x86_64 0:1.9-180301.el7\n\nComplete!  \u4ee5\u4e0a\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3067\u3059\u3002", 
            "title": "RPM\u306b\u3088\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/install/#_2", 
            "text": "\u958b\u767a\u8005\u5411\u3051\u306b\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089PG-Strom\u3092\u30d3\u30eb\u30c9\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u3082\u7d39\u4ecb\u3057\u307e\u3059\u3002", 
            "title": "\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/install/#_3", 
            "text": "RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u540c\u69d8\u306b\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306etarball\u3092 HeteroDB Software Distribution Center \u304b\u3089\u5165\u624b\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u305f\u3060\u3001tarball\u306e\u30ea\u30ea\u30fc\u30b9\u306b\u306f\u3042\u308b\u7a0b\u5ea6\u306e\u30bf\u30a4\u30e0\u30e9\u30b0\u304c\u751f\u3058\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u6700\u65b0\u306e\u958b\u767a\u7248\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306b\u306f PG-Strom\u306eGitHub\u30ea\u30dd\u30b8\u30c8\u30ea \u306e master \u30d6\u30e9\u30f3\u30c1\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u3059\u308b\u65b9\u6cd5\u306e\u65b9\u304c\u597d\u307e\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002  $ git clone https://github.com/heterodb/pg-strom.git\nCloning into 'pg-strom'...\nremote: Counting objects: 13797, done.\nremote: Compressing objects: 100% (215/215), done.\nremote: Total 13797 (delta 208), reused 339 (delta 167), pack-reused 13400\nReceiving objects: 100% (13797/13797), 11.81 MiB | 1.76 MiB/s, done.\nResolving deltas: 100% (10504/10504), done.", 
            "title": "\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5165\u624b"
        }, 
        {
            "location": "/install/#pg-strom_1", 
            "text": "PG-Strom\u3092\u30d3\u30eb\u30c9\u3059\u308b\u6642\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306ePostgreSQL\u3068\u53b3\u5bc6\u306b\u4e00\u81f4\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3001\u540c\u3058\u69cb\u9020\u4f53\u304c\u30d3\u30eb\u30c9\u6642\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u306b\u3088\u308aPostgreSQL\u3068PG-Strom\u3067\u7570\u306a\u3063\u305f\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u6301\u3063\u3066\u3057\u307e\u3063\u305f\u3068\u3059\u308c\u3070\u3001\u975e\u5e38\u306b\u767a\u898b\u306e\u96e3\u3057\u3044\u30d0\u30b0\u3092\u751f\u307f\u51fa\u3057\u3066\u3057\u307e\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002 \u3057\u305f\u304c\u3063\u3066\u3001\uff08\u4e00\u8cab\u6027\u306e\u306a\u3044\u72b6\u614b\u3092\u907f\u3051\u308b\u305f\u3081\uff09PG-Strom\u306f\u72ec\u81ea\u306bconfigure\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d70\u3089\u305b\u305f\u308a\u306f\u305b\u305a\u3001 pg_config \u3092\u4f7f\u3063\u3066PostgreSQL\u306e\u30d3\u30eb\u30c9\u6642\u8a2d\u5b9a\u3092\u53c2\u7167\u3057\u307e\u3059\u3002  pg_config \u306b\u30d1\u30b9\u304c\u901a\u3063\u3066\u304a\u308a\u3001\u305d\u308c\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306ePostgreSQL\u306e\u3082\u306e\u3067\u3042\u308c\u3070\u3001\u305d\u306e\u307e\u307e make \u3001 make install \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u76f4\u63a5\u30d1\u30b9\u304c\u901a\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001 make \u30b3\u30de\u30f3\u30c9\u306b PG_CONFIG=... \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4e0e\u3048\u3001 pg_config \u306e\u30d5\u30eb\u30d1\u30b9\u3092\u6e21\u3057\u307e\u3059\u3002  $ cd pg-strom\n$ make PG_CONFIG=/usr/pgsql-10/bin/pg_config\n$ sudo make install PG_CONFIG=/usr/pgsql-10/bin/pg_config", 
            "title": "PG-Strom\u306e\u30d3\u30eb\u30c9"
        }, 
        {
            "location": "/install/#_4", 
            "text": "", 
            "title": "\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306e\u8a2d\u5b9a"
        }, 
        {
            "location": "/install/#_5", 
            "text": "\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u306e\u4f5c\u6210\u304c\u6e08\u3093\u3067\u3044\u306a\u3044\u5834\u5408\u306f\u3001 initdb \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066PostgreSQL\u306e\u521d\u671f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002  RPM\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u304a\u3051\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u306e\u30d1\u30b9\u306f /var/lib/pgsql/ version number /data \u3067\u3059\u3002 postgresql-alternatives \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001PostgreSQL\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u62e0\u3089\u305a /var/lib/pgdata \u3067\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  $ sudo su - postgres\n$ initdb -D /var/lib/pgdata/\nThe files belonging to this database system will be owned by user  postgres .\nThis user must also own the server process.\n\nThe database cluster will be initialized with locale  en_US.UTF-8 .\nThe default database encoding has accordingly been set to  UTF8 .\nThe default text search configuration will be set to  english .\n\nData page checksums are disabled.\n\nfixing permissions on existing directory /var/lib/pgdata ... ok\ncreating subdirectories ... ok\nselecting default max_connections ... 100\nselecting default shared_buffers ... 128MB\nselecting dynamic shared memory implementation ... posix\ncreating configuration files ... ok\nrunning bootstrap script ... ok\nperforming post-bootstrap initialization ... ok\nsyncing data to disk ... ok\n\nWARNING: enabling  trust  authentication for local connections\nYou can change this by editing pg_hba.conf or using the option -A, or\n--auth-local and --auth-host, the next time you run initdb.\n\nSuccess. You can now start the database server using:\n\n    pg_ctl -D /var/lib/pgdata/ -l logfile start", 
            "title": "\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u306e\u4f5c\u6210"
        }, 
        {
            "location": "/install/#postgresqlconf", 
            "text": "\u7d9a\u3044\u3066\u3001PostgreSQL\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u308b  postgresql.conf  \u3092\u7de8\u96c6\u3057\u307e\u3059\u3002  PG-Strom\u3092\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306b\u306f\u3001\u6700\u4f4e\u9650\u3001\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u3053\u308c\u4ee5\u5916\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3064\u3044\u3066\u3082\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u7528\u9014\u3084\u60f3\u5b9a\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u8e0f\u307e\u3048\u3066\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002   shared_preload_libraries  PG-Strom\u30e2\u30b8\u30e5\u30fc\u30eb\u306f shared_preload_libraries \u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308apostmaster\u30d7\u30ed\u30bb\u30b9\u306e\u8d77\u52d5\u6642\u306b\u30ed\u30fc\u30c9\u3055\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u3067\u306e\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9\u306f\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u5916\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u9805\u76ee\u306f\u5fc5\u9808\u3067\u3059\u3002  shared_preload_libraries = '$libdir/pg_strom'    max_worker_processes  PG-Strom\u306f\u6570\u500b\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u3092\u5185\u90e8\u7684\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u3042\u308b 8 \u3067\u306f\u3001\u305d\u308c\u4ee5\u5916\u306e\u51e6\u7406\u306b\u5229\u7528\u3067\u304d\u308b\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u6570\u304c\u3042\u307e\u308a\u306b\u3082\u5c11\u306a\u3059\u304e\u3066\u3057\u307e\u3044\u307e\u3059\u3002  \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u3042\u308b\u7a0b\u5ea6\u306e\u4f59\u88d5\u3092\u6301\u3063\u305f\u5024\u3092\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u3059\u3002  max_worker_processes = 100    shared_buffers  \u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u3088\u308a\u307e\u3059\u304c\u3001 shared_buffers \u306e\u521d\u671f\u8a2d\u5b9a\u306f\u975e\u5e38\u306b\u5c0f\u3055\u3044\u305f\u3081\u3001PG-Strom\u304c\u6709\u52b9\u306b\u6a5f\u80fd\u3059\u308b\u6c34\u6e96\u306e\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u306b\u5bfe\u3057\u3066\u306f\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e\u8aad\u307f\u66f8\u304d\u304c\u5f8b\u901f\u8981\u56e0\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u3001GPU\u306e\u4e26\u5217\u8a08\u7b97\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u5229\u7528\u3067\u304d\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002  \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u3042\u308b\u7a0b\u5ea6\u306e\u4f59\u88d5\u3092\u6301\u3063\u305f\u5024\u3092\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u3059\u3002  shared_buffers = 10GB  \u660e\u3089\u304b\u306b\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3088\u308a\u3082\u5927\u304d\u306a\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306e\u5229\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u30a4\u30f3\u30e1\u30e2\u30ea\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u304a\u304d\u305f\u3044\u5834\u5408\u306f\u3001\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5229\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002    work_mem  \u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u3088\u308a\u307e\u3059\u304c\u3001 work_mem \u306e\u521d\u671f\u8a2d\u5b9a\u306f\u975e\u5e38\u306b\u5c0f\u3055\u3044\u305f\u3081\u3001\u89e3\u6790\u7cfb\u30af\u30a8\u30ea\u3067\u6700\u9069\u306a\u30af\u30a8\u30ea\u5b9f\u884c\u8a08\u753b\u304c\u9078\u629e\u3055\u308c\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002  \u5178\u578b\u7684\u306a\u4f8b\u306f\u3001\u30bd\u30fc\u30c8\u51e6\u7406\u306b\u30aa\u30f3\u30e1\u30e2\u30ea\u306e\u30af\u30a4\u30c3\u30af\u30bd\u30fc\u30c8\u3067\u306f\u306a\u304f\u3001\u30c7\u30a3\u30b9\u30af\u30d9\u30fc\u30b9\u306e\u30de\u30fc\u30b8\u30bd\u30fc\u30c8\u3092\u9078\u629e\u3059\u308b\u3068\u3044\u3063\u305f\u3082\u306e\u3067\u3059\u3002  \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u3042\u308b\u7a0b\u5ea6\u306e\u4f59\u88d5\u3092\u6301\u3063\u305f\u5024\u3092\u8a2d\u5b9a\u3059\u3079\u304d\u3067\u3059\u3002  work_mem = 1GB", 
            "title": "postgresql.conf\u306e\u7de8\u96c6"
        }, 
        {
            "location": "/install/#postgresql_1", 
            "text": "PostgreSQL\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002  \u6b63\u5e38\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304c\u5b8c\u4e86\u3057\u3066\u3044\u308c\u3070\u3001\u30ed\u30b0\u306bPG-Strom\u304cGPU\u3092\u8a8d\u8b58\u3057\u305f\u4e8b\u3092\u793a\u3059\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001Tesla V100(PCIe; 16GB\u7248)\u3092\u8a8d\u8b58\u3057\u3066\u3044\u307e\u3059\u3002  # systemctl start postgresql-10\n# systemctl status -l postgresql-10\n* postgresql-10.service - PostgreSQL 10 database server\n   Loaded: loaded (/usr/lib/systemd/system/postgresql-10.service; disabled; vendor preset: disabled)\n   Active: active (running) since Sat 2018-03-03 15:45:23 JST; 2min 21s ago\n     Docs: https://www.postgresql.org/docs/10/static/\n  Process: 24851 ExecStartPre=/usr/pgsql-10/bin/postgresql-10-check-db-dir ${PGDATA} (code=exited, status=0/SUCCESS)\n Main PID: 24858 (postmaster)\n   CGroup: /system.slice/postgresql-10.service\n           |-24858 /usr/pgsql-10/bin/postmaster -D /var/lib/pgsql/10/data/\n           |-24890 postgres: logger process\n           |-24892 postgres: bgworker: PG-Strom GPU memory keeper\n           |-24896 postgres: checkpointer process\n           |-24897 postgres: writer process\n           |-24898 postgres: wal writer process\n           |-24899 postgres: autovacuum launcher process\n           |-24900 postgres: stats collector process\n           |-24901 postgres: bgworker: PG-Strom ccache-builder2\n           |-24902 postgres: bgworker: PG-Strom ccache-builder1\n           `-24903 postgres: bgworker: logical replication launcher\n\nMar 03 15:45:19 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:19.195 JST [24858] HINT:  Run 'nvidia-cuda-mps-control -d', then start server process. Check 'man nvidia-cuda-mps-control' for more details.\nMar 03 15:45:20 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:20.509 JST [24858] LOG:  PG-Strom: GPU0 Tesla V100-PCIE-16GB (5120 CUDA cores; 1380MHz, L2 6144kB), RAM 15.78GB (4096bits, 856MHz), CC 7.0\nMar 03 15:45:20 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:20.510 JST [24858] LOG:  NVRTC - CUDA Runtime Compilation vertion 9.1\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.378 JST [24858] LOG:  listening on IPv6 address  ::1 , port 5432\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.378 JST [24858] LOG:  listening on IPv4 address  127.0.0.1 , port 5432\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.442 JST [24858] LOG:  listening on Unix socket  /var/run/postgresql/.s.PGSQL.5432 \nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.492 JST [24858] LOG:  listening on Unix socket  /tmp/.s.PGSQL.5432 \nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.527 JST [24858] LOG:  redirecting log output to logging collector process\nMar 03 15:45:23 saba.heterodb.com postmaster[24858]: 2018-03-03 15:45:23.527 JST [24858] HINT:  Future log output will appear in directory  log .\nMar 03 15:45:23 saba.heterodb.com systemd[1]: Started PostgreSQL 10 database server.", 
            "title": "PostgreSQL\u306e\u8d77\u52d5"
        }, 
        {
            "location": "/install/#pg-strom_2", 
            "text": "\u6700\u5f8c\u306b\u3001PG-Strom\u306b\u95a2\u9023\u3059\u308bSQL\u95a2\u6570\u306a\u3069\u306eDB\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u306e\u624b\u9806\u306fPostgreSQL\u306eEXTENSION\u6a5f\u80fd\u3092\u7528\u3044\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3055\u308c\u3066\u304a\u308a\u3001SQL\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067 CREATE EXTENSION \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3059\u3002  \u306a\u304a\u3001\u3053\u306e\u624b\u9806\u306f\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u305f\u3073\u306b\u5fc5\u8981\u306b\u306a\u308b\u4e8b\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u305f\u6642\u70b9\u3067\u65e2\u306bPG-Strom\u95a2\u9023\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u3066\u307b\u3057\u3044\u5834\u5408\u306f\u3001\u4e88\u3081 template1 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067PG-Strom\u30a8\u30af\u30b9\u30c6\u30f3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066\u304a\u3051\u3070\u3001 CREATE DATABASE \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u6642\u306b\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u8a2d\u5b9a\u304c\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002  $ psql postgres -U postgres\npsql (10.2)\nType  help  for help.\n\npostgres=# CREATE EXTENSION pg_strom ;\nCREATE EXTENSION  \u4ee5\u4e0a\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f5c\u696d\u306f\u5b8c\u4e86\u3067\u3059\u3002", 
            "title": "PG-Strom\u95a2\u9023\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210"
        }, 
        {
            "location": "/operations/", 
            "text": "\u57fa\u672c\u7684\u306a\u64cd\u4f5c\n\n\n\nGPU\u30aa\u30d5\u30ed\u30fc\u30c9\u306e\u78ba\u8a8d\n\n\n\u30af\u30a8\u30ea\u304cGPU\u3067\u5b9f\u884c\u3055\u308c\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\nEXPLAIN\n\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nSQL\u51e6\u7406\u306f\u5185\u90e8\u7684\u306b\u3044\u304f\u3064\u304b\u306e\u8981\u7d20\u306b\u5206\u89e3\u3055\u308c\u51e6\u7406\u3055\u308c\u307e\u3059\u304c\u3001PG-Strom\u304cGPU\u3092\u9069\u7528\u3057\u3066\u4e26\u5217\u51e6\u7406\u3092\u884c\u3046\u306e\u306fSCAN\u3001JOIN\u3001GROUP BY\u306e\u5404\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3067\u3059\u3002\u6a19\u6e96\u3067PostgreSQL\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u5404\u51e6\u7406\u306e\u4ee3\u308f\u308a\u306b\u3001GpuScan\u3001GpuJoin\u3001GpuPreAgg\u304c\u8868\u793a\u3055\u308c\u305f\u5834\u5408\u3001\u305d\u306e\u30af\u30a8\u30ea\u306fGPU\u306b\u3088\u3063\u3066\u51e6\u7406\u3055\u308c\u308b\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306f\nEXPLAIN\n\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u4f8b\u3067\u3059\u3002\n\n\npostgres=# EXPLAIN SELECT cat,count(*),avg(ax)\n                     FROM t0 NATURAL JOIN t1 NATURAL JOIN t2\n                    GROUP BY cat;\n                                  QUERY PLAN\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=989186.82..989190.94 rows=27 width=20)\n   Group Key: t0.cat\n   -\n  Sort  (cost=989186.82..989187.29 rows=189 width=44)\n         Sort Key: t0.cat\n         -\n  Custom Scan (GpuPreAgg)  (cost=989175.89..989179.67 rows=189 width=44)\n               Reduction: Local\n               GPU Projection: cat, pgstrom.nrows(), pgstrom.nrows((ax IS NOT NULL)), pgstrom.psum(ax)\n               Combined GpuJoin: enabled\n               -\n  Custom Scan (GpuJoin) on t0  (cost=14744.40..875804.46 rows=99996736 width=12)\n                     GPU Projection: t0.cat, t1.ax\n                     Outer Scan: t0  (cost=0.00..1833360.36 rows=99996736 width=12)\n                     Depth 1: GpuHashJoin  (nrows 99996736...99996736)\n                              HashKeys: t0.aid\n                              JoinQuals: (t0.aid = t1.aid)\n                              KDS-Hash (size: 10.39MB)\n                     Depth 2: GpuHashJoin  (nrows 99996736...99996736)\n                              HashKeys: t0.bid\n                              JoinQuals: (t0.bid = t2.bid)\n                              KDS-Hash (size: 10.78MB)\n                     -\n  Seq Scan on t1  (cost=0.00..1972.85 rows=103785 width=12)\n                     -\n  Seq Scan on t2  (cost=0.00..1935.00 rows=100000 width=4)\n(21 rows)\n\n\n\n\n\u5b9f\u884c\u8a08\u753b\u306e\u4e2d\u306b\u898b\u6163\u308c\u306a\u3044\u51e6\u7406\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u4e8b\u306b\u6c17\u304c\u4ed8\u304b\u308c\u305f\u3067\u3057\u3087\u3046\u3002\nCustomScan\u6a5f\u69cb\u3092\u7528\u3044\u3066GpuJoin\u304a\u3088\u3073GpuPreAgg\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067GpuJoin\u306f\nt0\n\u3068\nt1\n\u3001\u304a\u3088\u3073\nt2\n\u3068\u306eJOIN\u51e6\u7406\u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u53d7\u3051\u53d6\u308bGpuPreAgg\u306f\u5217\ncat\n\u306b\u3088\u308bGROUP BY\u51e6\u7406\u3092GPU\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\nPostgreSQL\u304c\u30af\u30a8\u30ea\u5b9f\u884c\u8a08\u753b\u3092\u69cb\u7bc9\u3059\u308b\u904e\u7a0b\u3067PG-Strom\u306f\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306b\u4ecb\u5165\u3057\u3001SCAN\u3001JOIN\u3001GROUP BY\u306e\u5404\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092GPU\u3067\u5b9f\u884c\u53ef\u80fd\u3067\u3042\u308b\u5834\u5408\u3001\u305d\u306e\u30b3\u30b9\u30c8\u3092\u7b97\u51fa\u3057\u3066PostgreSQL\u306e\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306b\u5b9f\u884c\u8a08\u753b\u306e\u5019\u88dc\u3092\u63d0\u793a\u3057\u307e\u3059\u3002\n\u63a8\u5b9a\u3055\u308c\u305f\u30b3\u30b9\u30c8\u5024\u304cCPU\u3067\u5b9f\u884c\u3059\u308b\u4ed6\u306e\u5b9f\u884c\u8a08\u753b\u3088\u308a\u3082\u5c0f\u3055\u306a\u5024\u3067\u3042\u308b\u5834\u5408\u3001GPU\u3092\u7528\u3044\u305f\u4ee3\u66ff\u306e\u5b9f\u884c\u8a08\u753b\u304c\u63a1\u7528\u3055\u308c\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092GPU\u3067\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u5c11\u306a\u304f\u3068\u3082\u6f14\u7b97\u5f0f\u307e\u305f\u306f\u95a2\u6570\u3001\u304a\u3088\u3073\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u578b\u304cPG-Strom\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nint\n\u3084\nfloat\n\u3068\u3044\u3063\u305f\u6570\u5024\u578b\u3001\ndate\n\u3084\ntimestamp\n\u3068\u3044\u3063\u305f\u65e5\u4ed8\u6642\u523b\u578b\u3001\ntext\n\u306e\u3088\u3046\u306a\u6587\u5b57\u5217\u578b\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u304a\u308a\u3001\u307e\u305f\u3001\u56db\u5247\u6f14\u7b97\u3084\u5927\u5c0f\u6bd4\u8f03\u3068\u3044\u3063\u305f\u6570\u591a\u304f\u306e\u30d3\u30eb\u30c8\u30a4\u30f3\u6f14\u7b97\u5b50\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u8a73\u7d30\u306a\u4e00\u89a7\u306b\u95a2\u3057\u3066\u306f\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nCPU+GPU\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u4e26\u5217\n\n\nPG-Strom\u306fPostgreSQL\u306eCPU\u4e26\u5217\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nPostgreSQL\u306eCPU\u4e26\u5217\u5b9f\u884c\u306f\u3001Gather\u30ce\u30fc\u30c9\u304c\u3044\u304f\u3064\u304b\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30d7\u30ed\u30bb\u30b9\u3092\u8d77\u52d5\u3057\u3001\u5404\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u304c\"\u90e8\u5206\u7684\u306b\"\u5b9f\u884c\u3057\u305f\u30af\u30a8\u30ea\u306e\u7d50\u679c\u3092\u5f8c\u3067\u7d50\u5408\u3059\u308b\u5f62\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nGpuJoin\u3084GpuPreAgg\u3068\u3044\u3063\u305fPG-Strom\u306e\u51e6\u7406\u306f\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u5074\u3067\u306e\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u500b\u3005\u306e\u30d7\u30ed\u30bb\u30b9\u304c\u4e92\u3044\u306bGPU\u3092\u4f7f\u7528\u3057\u3066\u51e6\u7406\u3092\u9032\u3081\u307e\u3059\u3002\u901a\u5e38\u3001GPU\u3078\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u305f\u3081\u306b\u500b\u3005\u306eCPU\u30b3\u30a2\u304c\u30d0\u30c3\u30d5\u30a1\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u305f\u3081\u306e\u51e6\u7406\u901f\u5ea6\u306f\u3001GPU\u3067\u306eSQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u51e6\u7406\u901f\u5ea6\u306b\u6bd4\u3079\u3066\u305a\u3063\u3068\u9045\u3044\u305f\u3081\u3001CPU\u4e26\u5217\u3068GPU\u4e26\u5217\u3092\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u3067\u5229\u7528\u3059\u308b\u4e8b\u3067\u51e6\u7406\u901f\u5ea6\u306e\u5411\u4e0a\u304c\u671f\u5f85\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001GPU\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306aCUDA\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306f\u5404\u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306b\u4f5c\u6210\u3055\u308c\u3001CUDA\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u751f\u6210\u3059\u308b\u305f\u3073\u306b\u3042\u308b\u7a0b\u5ea6\u306eGPU\u30ea\u30bd\u30fc\u30b9\u304c\u6d88\u8cbb\u3055\u308c\u308b\u305f\u3081\u3001\u5e38\u306bCPU\u4e26\u5217\u5ea6\u304c\u9ad8\u3051\u308c\u3070\u826f\u3044\u3068\u3044\u3046\u8a33\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\u4ee5\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nGather\u4ee5\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u306f\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u304c\u5b9f\u884c\u53ef\u80fd\u306a\u3082\u306e\u3067\u3059\u30021\u5104\u884c\u3092\u4fdd\u6301\u3059\u308b\nt0\n\u30c6\u30fc\u30d6\u30eb\u30924\u30d7\u30ed\u30bb\u30b9\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u3068\u30b3\u30fc\u30c7\u30a3\u30cd\u30fc\u30bf\u30d7\u30ed\u30bb\u30b9\u3067\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u305f\u3081\u3001\u30d7\u30ed\u30bb\u30b9\u3042\u305f\u308a2000\u4e07\u884c\u3092GpuJoin\u304a\u3088\u3073GpuPreAgg\u3067\u51e6\u7406\u3057\u3001\u305d\u306e\u7d50\u679c\u3092Gather\u30ce\u30fc\u30c9\u3067\u7d50\u5408\u3057\u307e\u3059\u3002\n\n\n# EXPLAIN SELECT cat,count(*),avg(ax)\n            FROM t0 NATURAL JOIN t1\n           GROUP by cat;\n                                   QUERY PLAN\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=955705.47..955720.93 rows=27 width=20)\n   Group Key: t0.cat\n   -\n  Sort  (cost=955705.47..955707.36 rows=756 width=44)\n         Sort Key: t0.cat\n         -\n  Gather  (cost=955589.95..955669.33 rows=756 width=44)\n               Workers Planned: 4\n               -\n  Parallel Custom Scan (GpuPreAgg)  (cost=954589.95..954593.73 rows=189 width=44)\n                     Reduction: Local\n                     GPU Projection: cat, pgstrom.nrows(), pgstrom.nrows((ax IS NOT NULL)), pgstrom.psum(ax)\n                     Combined GpuJoin: enabled\n                     -\n  Parallel Custom Scan (GpuJoin) on t0  (cost=27682.82..841218.52 rows=99996736 width=12)\n                           GPU Projection: t0.cat, t1.ax\n                           Outer Scan: t0  (cost=0.00..1083384.84 rows=24999184 width=8)\n                           Depth 1: GpuHashJoin  (nrows 24999184...99996736)\n                                    HashKeys: t0.aid\n                                    JoinQuals: (t0.aid = t1.aid)\n                                    KDS-Hash (size: 10.39MB)\n                           -\n  Seq Scan on t1  (cost=0.00..1972.85 rows=103785 width=12)\n(18 rows)\n\n\n\n\n\u4e0b\u4f4d\u30d7\u30e9\u30f3\u306e\u5f15\u304d\u4e0a\u3052\n\n\nPG-Strom\u306fSCAN\u3001JOIN\u3001GROUP BY\u306e\u5404\u51e6\u7406\u3092GPU\u3067\u5b9f\u884c\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u304c\u3001\u3053\u308c\u306b\u5bfe\u5fdc\u3059\u308bPostgreSQL\u6a19\u6e96\u306e\u51e6\u7406\u3092\u5358\u7d14\u306b\u7f6e\u304d\u63db\u3048\u305f\u3060\u3051\u3067\u306f\u56f0\u3063\u305f\u4e8b\u614b\u304c\u767a\u751f\u3057\u307e\u3059\u3002\nSCAN\u304c\u7d42\u308f\u3063\u305f\u5f8c\u306e\u30c7\u30fc\u30bf\u3092\u3044\u3063\u305f\u3093\u30db\u30b9\u30c8\u5074\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u66f8\u304d\u623b\u3057\u3001\u6b21\u306b\u305d\u308c\u3092JOIN\u3059\u308b\u305f\u3081\u306b\u518d\u3073GPU\u3078\u3068\u30b3\u30d4\u30fc\u3057\u3001\u3055\u3089\u306bGROUP BY\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u518d\u3073\u30db\u30b9\u30c8\u5074\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u66f8\u304d\u623b\u3057\u30fb\u30fb\u30fb\u3068\u3044\u3063\u305f\u5f62\u3067\u3001CPU\u3068GPU\u306e\u9593\u3067\u30c7\u30fc\u30bf\u306e\u30d4\u30f3\u30dd\u30f3\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3059\u3002\n\n\n\u3053\u308c\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001PG-Strom\u306f\u4e0b\u4f4d\u30d7\u30e9\u30f3\u3092\u5f15\u304d\u4e0a\u3052\u3066\u4e00\u5ea6\u306eGPU Kernel\u306e\u5b9f\u884c\u3067\u51e6\u7406\u3057\u3066\u3057\u307e\u3046\u3068\u3044\u3046\u30e2\u30fc\u30c9\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u4e0b\u4f4d\u30d7\u30e9\u30f3\u306e\u5f15\u304d\u4e0a\u3052\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\nSCAN + JOIN\n\n\nSCAN + GROUP BY\n\n\nSCAN + JOIN + GROUP BY\n\n\n\n\n\n\n\u4ee5\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u306f\u3001\u4e0b\u4f4d\u30d7\u30e9\u30f3\u306e\u5f15\u304d\u4e0a\u3052\u3092\u5168\u304f\u884c\u308f\u306a\u3044\u30b1\u30fc\u30b9\u3067\u3059\u3002\n\n\nGpuScan\u306e\u5b9f\u884c\u7d50\u679c\u3092GpuJoin\u304c\u53d7\u53d6\u308a\u3001\u3055\u3089\u306b\u305d\u306e\u5b9f\u884c\u7d50\u679c\u3092GpuPreAgg\u304c\u53d7\u3051\u53d6\u3063\u3066\u6700\u7d42\u7d50\u679c\u3092\u751f\u6210\u3059\u308b\u4e8b\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\n# EXPLAIN SELECT cat,count(*),avg(ax)\n            FROM t0 NATURAL JOIN t1\n           WHERE aid \n bid\n           GROUP BY cat;\n                              QUERY PLAN\n\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=1239991.03..1239995.15 rows=27 width=20)\n   Group Key: t0.cat\n   -\n  Sort  (cost=1239991.03..1239991.50 rows=189 width=44)\n         Sort Key: t0.cat\n         -\n  Custom Scan (GpuPreAgg)  (cost=1239980.10..1239983.88 rows=189 width=44)\n               Reduction: Local\n               GPU Projection: cat, pgstrom.nrows(), pgstrom.nrows((ax IS NOT NULL)), pgstrom.psum(ax)\n               -\n  Custom Scan (GpuJoin)  (cost=50776.43..1199522.96 rows=33332245 width=12)\n                     GPU Projection: t0.cat, t1.ax\n                     Depth 1: GpuHashJoin  (nrows 33332245...33332245)\n                              HashKeys: t0.aid\n                              JoinQuals: (t0.aid = t1.aid)\n                              KDS-Hash (size: 10.39MB)\n                     -\n  Custom Scan (GpuScan) on t0  (cost=12634.49..1187710.85 rows=33332245 width=8)\n                           GPU Projection: cat, aid\n                           GPU Filter: (aid \n bid)\n                     -\n  Seq Scan on t1  (cost=0.00..1972.85 rows=103785 width=12)\n(18 rows)\n\n\n\n\n\u3053\u306e\u5834\u5408\u3001\u5404\u5b9f\u884c\u30b9\u30c6\u30fc\u30b8\u306b\u304a\u3044\u3066GPU\u3068\u30db\u30b9\u30c8\u30d0\u30c3\u30d5\u30a1\u306e\u9593\u3067\u30c7\u30fc\u30bf\u306e\u30d4\u30f3\u30dd\u30f3\u304c\u767a\u751f\u3059\u308b\u305f\u3081\u3001\u5b9f\u884c\u52b9\u7387\u306f\u3088\u304f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\u4e00\u65b9\u3001\u4ee5\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u306f\u3001\u4e0b\u4f4d\u30ce\u30fc\u30c9\u306e\u5f15\u304d\u4e0a\u3052\u3092\u884c\u3063\u305f\u3082\u306e\u3067\u3059\u3002\n\n\n# EXPLAIN ANALYZE SELECT cat,count(*),avg(ax)\n                    FROM t0 NATURAL JOIN t1\n                   WHERE aid \n bid\n                   GROUP BY cat;\n                              QUERY PLAN\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=903669.50..903673.62 rows=27 width=20)\n                 (actual time=7761.630..7761.644 rows=27 loops=1)\n   Group Key: t0.cat\n   -\n  Sort  (cost=903669.50..903669.97 rows=189 width=44)\n             (actual time=7761.621..7761.626 rows=27 loops=1)\n         Sort Key: t0.cat\n         Sort Method: quicksort  Memory: 28kB\n         -\n  Custom Scan (GpuPreAgg)  (cost=903658.57..903662.35 rows=189 width=44)\n                                      (actual time=7761.531..7761.540 rows=27 loops=1)\n               Reduction: Local\n               GPU Projection: cat, pgstrom.nrows(), pgstrom.nrows((ax IS NOT NULL)), pgstrom.psum(ax)\n               Combined GpuJoin: enabled\n               -\n  Custom Scan (GpuJoin) on t0  (cost=12483.41..863201.43 rows=33332245 width=12)\n                                                (never executed)\n                     GPU Projection: t0.cat, t1.ax\n                     Outer Scan: t0  (cost=12634.49..1187710.85 rows=33332245 width=8)\n                                     (actual time=59.623..5557.052 rows=100000000 loops=1)\n                     Outer Scan Filter: (aid \n bid)\n                     Rows Removed by Outer Scan Filter: 50002874\n                     Depth 1: GpuHashJoin  (plan nrows: 33332245...33332245, actual nrows: 49997126...49997126)\n                              HashKeys: t0.aid\n                              JoinQuals: (t0.aid = t1.aid)\n                              KDS-Hash (size plan: 10.39MB, exec: 64.00MB)\n                     -\n  Seq Scan on t1  (cost=0.00..1972.85 rows=103785 width=12)\n                                         (actual time=0.013..15.303 rows=100000 loops=1)\n Planning time: 0.506 ms\n Execution time: 8495.391 ms\n(21 rows)\n\n\n\n\n\u307e\u305a\u3001\u30c6\u30fc\u30d6\u30eb\nt0\n\u3078\u306e\u30b9\u30ad\u30e3\u30f3\u304cGpuJoin\u306e\u5b9f\u884c\u8a08\u753b\u306b\u57cb\u3081\u8fbc\u307e\u308c\u3001GpuScan\u304c\u6d88\u3048\u3066\u3044\u308b\u4e8b\u306b\u304a\u6c17\u4ed8\u304d\u3067\u3057\u3087\u3046\u3002\n\u3053\u308c\u306fGpuJoin\u304c\u914d\u4e0b\u306eGpuScan\u3092\u5f15\u304d\u4e0a\u3052\u3001\u4e00\u4f53\u5316\u3057\u305fGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067WHERE\u53e5\u306e\u51e6\u7406\u3082\u884c\u3063\u305f\u4e8b\u3092\u610f\u5473\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u52a0\u3048\u3066\u5947\u5999\u306a\u3053\u3068\u306b\u3001\nEXPLAIN ANALYZE\n\u306e\u7d50\u679c\u306b\u306fGpuJoin\u304c(never executed)\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306fGpuPreAgg\u304c\u914d\u4e0b\u306eGpuJoin\u3092\u5f15\u304d\u4e0a\u3052\u3001\u4e00\u4f53\u5316\u3057\u305fGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067JOIN\u3068GROUP BY\u3092\u5b9f\u884c\u3057\u305f\u4e8b\u3092\u610f\u5473\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nSCAN\u51e6\u7406\u306e\u5f15\u304d\u4e0a\u3052\u306f\npg_strom.pullup_outer_scan\n\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u3063\u3066\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001JOIN\u51e6\u7406\u306e\u5f15\u304d\u4e0a\u3052\u306f\npg_strom.pullup_outer_join\n\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u3063\u3066\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\n\u3044\u305a\u308c\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3082\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\non\n\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\u901a\u5e38\u306f\u3053\u308c\u3092\u7121\u52b9\u5316\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30c8\u30e9\u30d6\u30eb\u6642\u306e\u554f\u984c\u5207\u308a\u5206\u3051\u624b\u6bb5\u306e\u4e00\u3064\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002", 
            "title": "\u57fa\u672c\u7684\u306a\u64cd\u4f5c"
        }, 
        {
            "location": "/operations/#gpu", 
            "text": "\u30af\u30a8\u30ea\u304cGPU\u3067\u5b9f\u884c\u3055\u308c\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f EXPLAIN \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nSQL\u51e6\u7406\u306f\u5185\u90e8\u7684\u306b\u3044\u304f\u3064\u304b\u306e\u8981\u7d20\u306b\u5206\u89e3\u3055\u308c\u51e6\u7406\u3055\u308c\u307e\u3059\u304c\u3001PG-Strom\u304cGPU\u3092\u9069\u7528\u3057\u3066\u4e26\u5217\u51e6\u7406\u3092\u884c\u3046\u306e\u306fSCAN\u3001JOIN\u3001GROUP BY\u306e\u5404\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3067\u3059\u3002\u6a19\u6e96\u3067PostgreSQL\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u5404\u51e6\u7406\u306e\u4ee3\u308f\u308a\u306b\u3001GpuScan\u3001GpuJoin\u3001GpuPreAgg\u304c\u8868\u793a\u3055\u308c\u305f\u5834\u5408\u3001\u305d\u306e\u30af\u30a8\u30ea\u306fGPU\u306b\u3088\u3063\u3066\u51e6\u7406\u3055\u308c\u308b\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002  \u4ee5\u4e0b\u306f EXPLAIN \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u4f8b\u3067\u3059\u3002  postgres=# EXPLAIN SELECT cat,count(*),avg(ax)\n                     FROM t0 NATURAL JOIN t1 NATURAL JOIN t2\n                    GROUP BY cat;\n                                  QUERY PLAN\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=989186.82..989190.94 rows=27 width=20)\n   Group Key: t0.cat\n   -   Sort  (cost=989186.82..989187.29 rows=189 width=44)\n         Sort Key: t0.cat\n         -   Custom Scan (GpuPreAgg)  (cost=989175.89..989179.67 rows=189 width=44)\n               Reduction: Local\n               GPU Projection: cat, pgstrom.nrows(), pgstrom.nrows((ax IS NOT NULL)), pgstrom.psum(ax)\n               Combined GpuJoin: enabled\n               -   Custom Scan (GpuJoin) on t0  (cost=14744.40..875804.46 rows=99996736 width=12)\n                     GPU Projection: t0.cat, t1.ax\n                     Outer Scan: t0  (cost=0.00..1833360.36 rows=99996736 width=12)\n                     Depth 1: GpuHashJoin  (nrows 99996736...99996736)\n                              HashKeys: t0.aid\n                              JoinQuals: (t0.aid = t1.aid)\n                              KDS-Hash (size: 10.39MB)\n                     Depth 2: GpuHashJoin  (nrows 99996736...99996736)\n                              HashKeys: t0.bid\n                              JoinQuals: (t0.bid = t2.bid)\n                              KDS-Hash (size: 10.78MB)\n                     -   Seq Scan on t1  (cost=0.00..1972.85 rows=103785 width=12)\n                     -   Seq Scan on t2  (cost=0.00..1935.00 rows=100000 width=4)\n(21 rows)  \u5b9f\u884c\u8a08\u753b\u306e\u4e2d\u306b\u898b\u6163\u308c\u306a\u3044\u51e6\u7406\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u4e8b\u306b\u6c17\u304c\u4ed8\u304b\u308c\u305f\u3067\u3057\u3087\u3046\u3002\nCustomScan\u6a5f\u69cb\u3092\u7528\u3044\u3066GpuJoin\u304a\u3088\u3073GpuPreAgg\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067GpuJoin\u306f t0 \u3068 t1 \u3001\u304a\u3088\u3073 t2 \u3068\u306eJOIN\u51e6\u7406\u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u53d7\u3051\u53d6\u308bGpuPreAgg\u306f\u5217 cat \u306b\u3088\u308bGROUP BY\u51e6\u7406\u3092GPU\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002  PostgreSQL\u304c\u30af\u30a8\u30ea\u5b9f\u884c\u8a08\u753b\u3092\u69cb\u7bc9\u3059\u308b\u904e\u7a0b\u3067PG-Strom\u306f\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306b\u4ecb\u5165\u3057\u3001SCAN\u3001JOIN\u3001GROUP BY\u306e\u5404\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092GPU\u3067\u5b9f\u884c\u53ef\u80fd\u3067\u3042\u308b\u5834\u5408\u3001\u305d\u306e\u30b3\u30b9\u30c8\u3092\u7b97\u51fa\u3057\u3066PostgreSQL\u306e\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306b\u5b9f\u884c\u8a08\u753b\u306e\u5019\u88dc\u3092\u63d0\u793a\u3057\u307e\u3059\u3002\n\u63a8\u5b9a\u3055\u308c\u305f\u30b3\u30b9\u30c8\u5024\u304cCPU\u3067\u5b9f\u884c\u3059\u308b\u4ed6\u306e\u5b9f\u884c\u8a08\u753b\u3088\u308a\u3082\u5c0f\u3055\u306a\u5024\u3067\u3042\u308b\u5834\u5408\u3001GPU\u3092\u7528\u3044\u305f\u4ee3\u66ff\u306e\u5b9f\u884c\u8a08\u753b\u304c\u63a1\u7528\u3055\u308c\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002  \u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092GPU\u3067\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u5c11\u306a\u304f\u3068\u3082\u6f14\u7b97\u5f0f\u307e\u305f\u306f\u95a2\u6570\u3001\u304a\u3088\u3073\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u578b\u304cPG-Strom\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 int \u3084 float \u3068\u3044\u3063\u305f\u6570\u5024\u578b\u3001 date \u3084 timestamp \u3068\u3044\u3063\u305f\u65e5\u4ed8\u6642\u523b\u578b\u3001 text \u306e\u3088\u3046\u306a\u6587\u5b57\u5217\u578b\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u304a\u308a\u3001\u307e\u305f\u3001\u56db\u5247\u6f14\u7b97\u3084\u5927\u5c0f\u6bd4\u8f03\u3068\u3044\u3063\u305f\u6570\u591a\u304f\u306e\u30d3\u30eb\u30c8\u30a4\u30f3\u6f14\u7b97\u5b50\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u8a73\u7d30\u306a\u4e00\u89a7\u306b\u95a2\u3057\u3066\u306f \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002", 
            "title": "GPU\u30aa\u30d5\u30ed\u30fc\u30c9\u306e\u78ba\u8a8d"
        }, 
        {
            "location": "/operations/#cpugpu", 
            "text": "PG-Strom\u306fPostgreSQL\u306eCPU\u4e26\u5217\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002  PostgreSQL\u306eCPU\u4e26\u5217\u5b9f\u884c\u306f\u3001Gather\u30ce\u30fc\u30c9\u304c\u3044\u304f\u3064\u304b\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30d7\u30ed\u30bb\u30b9\u3092\u8d77\u52d5\u3057\u3001\u5404\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u304c\"\u90e8\u5206\u7684\u306b\"\u5b9f\u884c\u3057\u305f\u30af\u30a8\u30ea\u306e\u7d50\u679c\u3092\u5f8c\u3067\u7d50\u5408\u3059\u308b\u5f62\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nGpuJoin\u3084GpuPreAgg\u3068\u3044\u3063\u305fPG-Strom\u306e\u51e6\u7406\u306f\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u5074\u3067\u306e\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u500b\u3005\u306e\u30d7\u30ed\u30bb\u30b9\u304c\u4e92\u3044\u306bGPU\u3092\u4f7f\u7528\u3057\u3066\u51e6\u7406\u3092\u9032\u3081\u307e\u3059\u3002\u901a\u5e38\u3001GPU\u3078\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u305f\u3081\u306b\u500b\u3005\u306eCPU\u30b3\u30a2\u304c\u30d0\u30c3\u30d5\u30a1\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u305f\u3081\u306e\u51e6\u7406\u901f\u5ea6\u306f\u3001GPU\u3067\u306eSQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u51e6\u7406\u901f\u5ea6\u306b\u6bd4\u3079\u3066\u305a\u3063\u3068\u9045\u3044\u305f\u3081\u3001CPU\u4e26\u5217\u3068GPU\u4e26\u5217\u3092\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u3067\u5229\u7528\u3059\u308b\u4e8b\u3067\u51e6\u7406\u901f\u5ea6\u306e\u5411\u4e0a\u304c\u671f\u5f85\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001GPU\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306aCUDA\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u306f\u5404\u30d7\u30ed\u30bb\u30b9\u3054\u3068\u306b\u4f5c\u6210\u3055\u308c\u3001CUDA\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u751f\u6210\u3059\u308b\u305f\u3073\u306b\u3042\u308b\u7a0b\u5ea6\u306eGPU\u30ea\u30bd\u30fc\u30b9\u304c\u6d88\u8cbb\u3055\u308c\u308b\u305f\u3081\u3001\u5e38\u306bCPU\u4e26\u5217\u5ea6\u304c\u9ad8\u3051\u308c\u3070\u826f\u3044\u3068\u3044\u3046\u8a33\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002  \u4ee5\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nGather\u4ee5\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u306f\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u304c\u5b9f\u884c\u53ef\u80fd\u306a\u3082\u306e\u3067\u3059\u30021\u5104\u884c\u3092\u4fdd\u6301\u3059\u308b t0 \u30c6\u30fc\u30d6\u30eb\u30924\u30d7\u30ed\u30bb\u30b9\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u3068\u30b3\u30fc\u30c7\u30a3\u30cd\u30fc\u30bf\u30d7\u30ed\u30bb\u30b9\u3067\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u305f\u3081\u3001\u30d7\u30ed\u30bb\u30b9\u3042\u305f\u308a2000\u4e07\u884c\u3092GpuJoin\u304a\u3088\u3073GpuPreAgg\u3067\u51e6\u7406\u3057\u3001\u305d\u306e\u7d50\u679c\u3092Gather\u30ce\u30fc\u30c9\u3067\u7d50\u5408\u3057\u307e\u3059\u3002  # EXPLAIN SELECT cat,count(*),avg(ax)\n            FROM t0 NATURAL JOIN t1\n           GROUP by cat;\n                                   QUERY PLAN\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=955705.47..955720.93 rows=27 width=20)\n   Group Key: t0.cat\n   -   Sort  (cost=955705.47..955707.36 rows=756 width=44)\n         Sort Key: t0.cat\n         -   Gather  (cost=955589.95..955669.33 rows=756 width=44)\n               Workers Planned: 4\n               -   Parallel Custom Scan (GpuPreAgg)  (cost=954589.95..954593.73 rows=189 width=44)\n                     Reduction: Local\n                     GPU Projection: cat, pgstrom.nrows(), pgstrom.nrows((ax IS NOT NULL)), pgstrom.psum(ax)\n                     Combined GpuJoin: enabled\n                     -   Parallel Custom Scan (GpuJoin) on t0  (cost=27682.82..841218.52 rows=99996736 width=12)\n                           GPU Projection: t0.cat, t1.ax\n                           Outer Scan: t0  (cost=0.00..1083384.84 rows=24999184 width=8)\n                           Depth 1: GpuHashJoin  (nrows 24999184...99996736)\n                                    HashKeys: t0.aid\n                                    JoinQuals: (t0.aid = t1.aid)\n                                    KDS-Hash (size: 10.39MB)\n                           -   Seq Scan on t1  (cost=0.00..1972.85 rows=103785 width=12)\n(18 rows)", 
            "title": "CPU+GPU\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u4e26\u5217"
        }, 
        {
            "location": "/operations/#_1", 
            "text": "PG-Strom\u306fSCAN\u3001JOIN\u3001GROUP BY\u306e\u5404\u51e6\u7406\u3092GPU\u3067\u5b9f\u884c\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u304c\u3001\u3053\u308c\u306b\u5bfe\u5fdc\u3059\u308bPostgreSQL\u6a19\u6e96\u306e\u51e6\u7406\u3092\u5358\u7d14\u306b\u7f6e\u304d\u63db\u3048\u305f\u3060\u3051\u3067\u306f\u56f0\u3063\u305f\u4e8b\u614b\u304c\u767a\u751f\u3057\u307e\u3059\u3002\nSCAN\u304c\u7d42\u308f\u3063\u305f\u5f8c\u306e\u30c7\u30fc\u30bf\u3092\u3044\u3063\u305f\u3093\u30db\u30b9\u30c8\u5074\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u66f8\u304d\u623b\u3057\u3001\u6b21\u306b\u305d\u308c\u3092JOIN\u3059\u308b\u305f\u3081\u306b\u518d\u3073GPU\u3078\u3068\u30b3\u30d4\u30fc\u3057\u3001\u3055\u3089\u306bGROUP BY\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u518d\u3073\u30db\u30b9\u30c8\u5074\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u66f8\u304d\u623b\u3057\u30fb\u30fb\u30fb\u3068\u3044\u3063\u305f\u5f62\u3067\u3001CPU\u3068GPU\u306e\u9593\u3067\u30c7\u30fc\u30bf\u306e\u30d4\u30f3\u30dd\u30f3\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3059\u3002  \u3053\u308c\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001PG-Strom\u306f\u4e0b\u4f4d\u30d7\u30e9\u30f3\u3092\u5f15\u304d\u4e0a\u3052\u3066\u4e00\u5ea6\u306eGPU Kernel\u306e\u5b9f\u884c\u3067\u51e6\u7406\u3057\u3066\u3057\u307e\u3046\u3068\u3044\u3046\u30e2\u30fc\u30c9\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u4e0b\u4f4d\u30d7\u30e9\u30f3\u306e\u5f15\u304d\u4e0a\u3052\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002   SCAN + JOIN  SCAN + GROUP BY  SCAN + JOIN + GROUP BY    \u4ee5\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u306f\u3001\u4e0b\u4f4d\u30d7\u30e9\u30f3\u306e\u5f15\u304d\u4e0a\u3052\u3092\u5168\u304f\u884c\u308f\u306a\u3044\u30b1\u30fc\u30b9\u3067\u3059\u3002  GpuScan\u306e\u5b9f\u884c\u7d50\u679c\u3092GpuJoin\u304c\u53d7\u53d6\u308a\u3001\u3055\u3089\u306b\u305d\u306e\u5b9f\u884c\u7d50\u679c\u3092GpuPreAgg\u304c\u53d7\u3051\u53d6\u3063\u3066\u6700\u7d42\u7d50\u679c\u3092\u751f\u6210\u3059\u308b\u4e8b\u304c\u5206\u304b\u308a\u307e\u3059\u3002  # EXPLAIN SELECT cat,count(*),avg(ax)\n            FROM t0 NATURAL JOIN t1\n           WHERE aid   bid\n           GROUP BY cat;\n                              QUERY PLAN\n\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=1239991.03..1239995.15 rows=27 width=20)\n   Group Key: t0.cat\n   -   Sort  (cost=1239991.03..1239991.50 rows=189 width=44)\n         Sort Key: t0.cat\n         -   Custom Scan (GpuPreAgg)  (cost=1239980.10..1239983.88 rows=189 width=44)\n               Reduction: Local\n               GPU Projection: cat, pgstrom.nrows(), pgstrom.nrows((ax IS NOT NULL)), pgstrom.psum(ax)\n               -   Custom Scan (GpuJoin)  (cost=50776.43..1199522.96 rows=33332245 width=12)\n                     GPU Projection: t0.cat, t1.ax\n                     Depth 1: GpuHashJoin  (nrows 33332245...33332245)\n                              HashKeys: t0.aid\n                              JoinQuals: (t0.aid = t1.aid)\n                              KDS-Hash (size: 10.39MB)\n                     -   Custom Scan (GpuScan) on t0  (cost=12634.49..1187710.85 rows=33332245 width=8)\n                           GPU Projection: cat, aid\n                           GPU Filter: (aid   bid)\n                     -   Seq Scan on t1  (cost=0.00..1972.85 rows=103785 width=12)\n(18 rows)  \u3053\u306e\u5834\u5408\u3001\u5404\u5b9f\u884c\u30b9\u30c6\u30fc\u30b8\u306b\u304a\u3044\u3066GPU\u3068\u30db\u30b9\u30c8\u30d0\u30c3\u30d5\u30a1\u306e\u9593\u3067\u30c7\u30fc\u30bf\u306e\u30d4\u30f3\u30dd\u30f3\u304c\u767a\u751f\u3059\u308b\u305f\u3081\u3001\u5b9f\u884c\u52b9\u7387\u306f\u3088\u304f\u3042\u308a\u307e\u305b\u3093\u3002  \u4e00\u65b9\u3001\u4ee5\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u306f\u3001\u4e0b\u4f4d\u30ce\u30fc\u30c9\u306e\u5f15\u304d\u4e0a\u3052\u3092\u884c\u3063\u305f\u3082\u306e\u3067\u3059\u3002  # EXPLAIN ANALYZE SELECT cat,count(*),avg(ax)\n                    FROM t0 NATURAL JOIN t1\n                   WHERE aid   bid\n                   GROUP BY cat;\n                              QUERY PLAN\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=903669.50..903673.62 rows=27 width=20)\n                 (actual time=7761.630..7761.644 rows=27 loops=1)\n   Group Key: t0.cat\n   -   Sort  (cost=903669.50..903669.97 rows=189 width=44)\n             (actual time=7761.621..7761.626 rows=27 loops=1)\n         Sort Key: t0.cat\n         Sort Method: quicksort  Memory: 28kB\n         -   Custom Scan (GpuPreAgg)  (cost=903658.57..903662.35 rows=189 width=44)\n                                      (actual time=7761.531..7761.540 rows=27 loops=1)\n               Reduction: Local\n               GPU Projection: cat, pgstrom.nrows(), pgstrom.nrows((ax IS NOT NULL)), pgstrom.psum(ax)\n               Combined GpuJoin: enabled\n               -   Custom Scan (GpuJoin) on t0  (cost=12483.41..863201.43 rows=33332245 width=12)\n                                                (never executed)\n                     GPU Projection: t0.cat, t1.ax\n                     Outer Scan: t0  (cost=12634.49..1187710.85 rows=33332245 width=8)\n                                     (actual time=59.623..5557.052 rows=100000000 loops=1)\n                     Outer Scan Filter: (aid   bid)\n                     Rows Removed by Outer Scan Filter: 50002874\n                     Depth 1: GpuHashJoin  (plan nrows: 33332245...33332245, actual nrows: 49997126...49997126)\n                              HashKeys: t0.aid\n                              JoinQuals: (t0.aid = t1.aid)\n                              KDS-Hash (size plan: 10.39MB, exec: 64.00MB)\n                     -   Seq Scan on t1  (cost=0.00..1972.85 rows=103785 width=12)\n                                         (actual time=0.013..15.303 rows=100000 loops=1)\n Planning time: 0.506 ms\n Execution time: 8495.391 ms\n(21 rows)  \u307e\u305a\u3001\u30c6\u30fc\u30d6\u30eb t0 \u3078\u306e\u30b9\u30ad\u30e3\u30f3\u304cGpuJoin\u306e\u5b9f\u884c\u8a08\u753b\u306b\u57cb\u3081\u8fbc\u307e\u308c\u3001GpuScan\u304c\u6d88\u3048\u3066\u3044\u308b\u4e8b\u306b\u304a\u6c17\u4ed8\u304d\u3067\u3057\u3087\u3046\u3002\n\u3053\u308c\u306fGpuJoin\u304c\u914d\u4e0b\u306eGpuScan\u3092\u5f15\u304d\u4e0a\u3052\u3001\u4e00\u4f53\u5316\u3057\u305fGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067WHERE\u53e5\u306e\u51e6\u7406\u3082\u884c\u3063\u305f\u4e8b\u3092\u610f\u5473\u3057\u3066\u3044\u307e\u3059\u3002  \u52a0\u3048\u3066\u5947\u5999\u306a\u3053\u3068\u306b\u3001 EXPLAIN ANALYZE \u306e\u7d50\u679c\u306b\u306fGpuJoin\u304c(never executed)\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306fGpuPreAgg\u304c\u914d\u4e0b\u306eGpuJoin\u3092\u5f15\u304d\u4e0a\u3052\u3001\u4e00\u4f53\u5316\u3057\u305fGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067JOIN\u3068GROUP BY\u3092\u5b9f\u884c\u3057\u305f\u4e8b\u3092\u610f\u5473\u3057\u3066\u3044\u307e\u3059\u3002  SCAN\u51e6\u7406\u306e\u5f15\u304d\u4e0a\u3052\u306f pg_strom.pullup_outer_scan \u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u3063\u3066\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001JOIN\u51e6\u7406\u306e\u5f15\u304d\u4e0a\u3052\u306f pg_strom.pullup_outer_join \u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u3063\u3066\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\n\u3044\u305a\u308c\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3082\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f on \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\u901a\u5e38\u306f\u3053\u308c\u3092\u7121\u52b9\u5316\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30c8\u30e9\u30d6\u30eb\u6642\u306e\u554f\u984c\u5207\u308a\u5206\u3051\u624b\u6bb5\u306e\u4e00\u3064\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002", 
            "title": "\u4e0b\u4f4d\u30d7\u30e9\u30f3\u306e\u5f15\u304d\u4e0a\u3052"
        }, 
        {
            "location": "/sys_admin/", 
            "text": "\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\n\n\n\n\n\nMPS\u30c7\u30fc\u30e2\u30f3\u306e\u5229\u7528\n\n\nPostgreSQL\u306e\u3088\u3046\u306b\u30de\u30eb\u30c1\u30d7\u30ed\u30bb\u30b9\u74b0\u5883\u3067GPU\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001GPU\u5074\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30a4\u30c3\u30c1\u306e\u4f4e\u6e1b\u3084\u30c7\u30d0\u30a4\u30b9\u7ba1\u7406\u306b\u5fc5\u8981\u306a\u30ea\u30bd\u30fc\u30b9\u306e\u4f4e\u6e1b\u3092\u76ee\u7684\u3068\u3057\u3066\u3001MPS(Multi-Process Service)\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u4e00\u822c\u7684\u306a\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002\n\n\nhttps://docs.nvidia.com/deploy/mps/index.html\n\n\n\n\n\n\u4e00\u65b9\u3001\u73fe\u5728\u306eMPS\u30b5\u30fc\u30d3\u30b9\u306b\u306f\u3044\u304f\u3064\u304b\u306e\n\u5236\u9650\u4e8b\u9805\n\u304c\u3042\u308a\u3001\u3053\u308c\u3068PG-Strom\u306e\u5229\u7528\u3059\u308b\u4e00\u90e8\u6a5f\u80fd\u304c\u88ab\u3063\u3066\u3044\u308b\u305f\u3081\u3001MPS\u30b5\u30fc\u30d3\u30b9\u3068PG-Strom\u3092\u4f75\u7528\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u3002PG-Strom\u3092\u5229\u7528\u3059\u308b\u969b\u306b\u306fMPS\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\nNote\n\n\n\u5177\u4f53\u7684\u306b\u306f\u3001GpuPreAgg\u306eGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u5185\u90e8\u306e\u30cf\u30c3\u30b7\u30e5\u8868\u3092\u52d5\u7684\u306b\u62e1\u5927\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b\ncudaDeviceSynchronize()\n\u30c7\u30d0\u30a4\u30b9\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u304c\u3001\u5236\u9650\u4e8b\u9805\u3067\u3042\u308bDynamic Parallelism\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u4e0a\u8a18\u306e\u5236\u9650\u306b\u62b5\u89e6\u3057\u307e\u3059\u3002\n\n\n\n\n\u30ca\u30ec\u30c3\u30b8\u30d9\u30fc\u30b9\n\n\nPG-Strom\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306ewiki\u30b5\u30a4\u30c8\u306b\u306f\u3001\u30ce\u30fc\u30c8\u3068\u547c\u3070\u308c\u308b\u8a73\u7d30\u306a\u6280\u8853\u60c5\u5831\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\nhttps://github.com/heterodb/pg-strom/wiki", 
            "title": "\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406"
        }, 
        {
            "location": "/sys_admin/#_1", 
            "text": "", 
            "title": "\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406"
        }, 
        {
            "location": "/sys_admin/#mps", 
            "text": "PostgreSQL\u306e\u3088\u3046\u306b\u30de\u30eb\u30c1\u30d7\u30ed\u30bb\u30b9\u74b0\u5883\u3067GPU\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001GPU\u5074\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30a4\u30c3\u30c1\u306e\u4f4e\u6e1b\u3084\u30c7\u30d0\u30a4\u30b9\u7ba1\u7406\u306b\u5fc5\u8981\u306a\u30ea\u30bd\u30fc\u30b9\u306e\u4f4e\u6e1b\u3092\u76ee\u7684\u3068\u3057\u3066\u3001MPS(Multi-Process Service)\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u4e00\u822c\u7684\u306a\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u3002  https://docs.nvidia.com/deploy/mps/index.html   \u4e00\u65b9\u3001\u73fe\u5728\u306eMPS\u30b5\u30fc\u30d3\u30b9\u306b\u306f\u3044\u304f\u3064\u304b\u306e \u5236\u9650\u4e8b\u9805 \u304c\u3042\u308a\u3001\u3053\u308c\u3068PG-Strom\u306e\u5229\u7528\u3059\u308b\u4e00\u90e8\u6a5f\u80fd\u304c\u88ab\u3063\u3066\u3044\u308b\u305f\u3081\u3001MPS\u30b5\u30fc\u30d3\u30b9\u3068PG-Strom\u3092\u4f75\u7528\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u3002PG-Strom\u3092\u5229\u7528\u3059\u308b\u969b\u306b\u306fMPS\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3057\u3066\u304f\u3060\u3055\u3044\u3002   Note  \u5177\u4f53\u7684\u306b\u306f\u3001GpuPreAgg\u306eGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u5185\u90e8\u306e\u30cf\u30c3\u30b7\u30e5\u8868\u3092\u52d5\u7684\u306b\u62e1\u5927\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b cudaDeviceSynchronize() \u30c7\u30d0\u30a4\u30b9\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u304c\u3001\u5236\u9650\u4e8b\u9805\u3067\u3042\u308bDynamic Parallelism\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u4e0a\u8a18\u306e\u5236\u9650\u306b\u62b5\u89e6\u3057\u307e\u3059\u3002", 
            "title": "MPS\u30c7\u30fc\u30e2\u30f3\u306e\u5229\u7528"
        }, 
        {
            "location": "/sys_admin/#_2", 
            "text": "PG-Strom\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306ewiki\u30b5\u30a4\u30c8\u306b\u306f\u3001\u30ce\u30fc\u30c8\u3068\u547c\u3070\u308c\u308b\u8a73\u7d30\u306a\u6280\u8853\u60c5\u5831\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002  https://github.com/heterodb/pg-strom/wiki", 
            "title": "\u30ca\u30ec\u30c3\u30b8\u30d9\u30fc\u30b9"
        }, 
        {
            "location": "/brin/", 
            "text": "\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5bfe\u5fdc\n\n\n\n\u6982\u8981\n\n\nPostgreSQL\u306f\u4f55\u7a2e\u985e\u304b\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5f62\u5f0f\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u9078\u629e\u3055\u308c\u308bB-tree\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u7279\u5b9a\u306e\u5024\u3092\u6301\u3064\u30ec\u30b3\u30fc\u30c9\u3092\u9ad8\u901f\u306b\u691c\u7d22\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\u3053\u308c\u4ee5\u5916\u306b\u3082\u3001Hash\u3001BRIN\u3001GiST\u3001GIN\u306a\u3069\u7279\u6027\u306e\u7570\u306a\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5f62\u5f0f\u304c\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u73fe\u5728\u306e\u3068\u3053\u308dPG-Strom\u306fBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u306e\u307f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u3001\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u306b\u304a\u3051\u308b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u5024\u306a\u3069\u3001\u7269\u7406\u7684\u306b\u8fd1\u508d\u306b\u4f4d\u7f6e\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u540c\u58eb\u304c\u8fd1\u3057\u3044\u5024\u3092\u6301\u3063\u3066\u3044\u308b\u4e8b\u304c\u671f\u5f85\u3067\u304d\u308b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u6709\u52b9\u306b\u4f5c\u7528\u3057\u307e\u3059\u3002\u672c\u6765\u306f\u5168\u4ef6\u30b9\u30ad\u30e3\u30f3\u304c\u5fc5\u8981\u306a\u64cd\u4f5c\u3067\u3042\u3063\u3066\u3082\u3001\u660e\u3089\u304b\u306b\u6761\u4ef6\u53e5\u306b\u30de\u30c3\u30c1\u3057\u306a\u3044\u9818\u57df\u3092\u8aad\u307f\u98db\u3070\u3057\u3001\u5168\u4ef6\u30b9\u30ad\u30e3\u30f3\u306b\u4f34\u3046I/O\u91cf\u3092\u524a\u6e1b\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\nPG-Strom\u306b\u304a\u3044\u3066\u3082BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u7279\u6027\u3092\u6d3b\u7528\u3057\u3001GPU\u306b\u30ed\u30fc\u30c9\u3059\u3079\u304d\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306e\u3046\u3061\u660e\u3089\u304b\u306b\u4e0d\u8981\u3067\u3042\u308b\u3082\u306e\u3092\u8aad\u307f\u98db\u3070\u3059\u4e8b\u304c\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\u8a2d\u5b9a\n\n\nBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u7279\u5225\u306a\u8a2d\u5b9a\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\n\n\nCREATE INDEX\u69cb\u6587\u3092\u7528\u3044\u3066\u5bfe\u8c61\u5217\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\u304b\u3064\u3001\u691c\u7d22\u6761\u4ef6\u304cBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u9069\u5408\u3059\u308b\u3082\u306e\u3067\u3042\u308c\u3070\u81ea\u52d5\u7684\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\n\n\nBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u81ea\u4f53\u306e\u8aac\u660e\u306f\u3001\nPostgreSQL\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u4ee5\u4e0b\u306eGUC\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308a\u3001PG-Strom\u304cBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u30c7\u30d0\u30c3\u30b0\u3084\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u5834\u5408\u3092\u9664\u304d\u3001\u901a\u5e38\u306f\u521d\u671f\u8a2d\u5b9a\u306e\u307e\u307e\u3067\u69cb\u3044\u307e\u305b\u3093\u3002\n\n\n\n\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\n\n\n\u578b\n\n\n\u521d\u671f\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npg_strom.enable_brin\n\n\nbool\n\n\non\n\n\nBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002\n\n\n\n\n\n\n\n\n\u64cd\u4f5c\n\n\nEXPLAIN\n\u69cb\u6587\u306b\u3088\u308aBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\npostgres=# EXPLAIN ANALYZE\n           SELECT * FROM dt\n            WHERE ymd BETWEEN '2018-01-01' AND '2018-12-31'\n              AND cat LIKE '%aaa%';\n                                   QUERY PLAN\n--------------------------------------------------------------------------------\n Custom Scan (GpuScan) on dt  (cost=94810.93..176275.00 rows=169992 width=44)\n                              (actual time=1777.819..1901.537 rows=175277 loops=1)\n   GPU Filter: ((ymd \n= '2018-01-01'::date) AND (ymd \n= '2018-12-31'::date) AND (cat ~~ '%aaa%'::text))\n   Rows Removed by GPU Filter: 4385491\n   BRIN cond: ((ymd \n= '2018-01-01'::date) AND (ymd \n= '2018-12-31'::date))\n   BRIN skipped: 424704\n Planning time: 0.529 ms\n Execution time: 2323.063 ms\n(7 rows)\n\n\n\n\n\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\nymd\n\u5217\u306bBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\nBRIN cond\n\u306e\u8868\u793a\u306fBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u308b\u7d5e\u308a\u8fbc\u307f\u6761\u4ef6\u3092\u3001\nBRIN skipped\n\u306e\u8868\u793a\u306fBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u308a\u5b9f\u969b\u306b\u8aad\u307f\u98db\u3070\u3055\u308c\u305f\u30d6\u30ed\u30c3\u30af\u306e\u6570\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u3053\u306e\u4f8b\u3067\u306f424704\u30d6\u30ed\u30c3\u30af\u304c\u8aad\u307f\u98db\u3070\u3055\u308c\u3001\u3055\u3089\u306b\u3001\u8aad\u307f\u8fbc\u3093\u3060\u30d6\u30ed\u30c3\u30af\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u306e\u3046\u30614385491\u884c\u304c\u6761\u4ef6\u53e5\u306b\u3088\u3063\u3066\u30d5\u30a3\u30eb\u30bf\u3055\u308c\u305f\u4e8b\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\n\u30c7\u30fc\u30bf\u8ee2\u9001\u306e\u30ed\u30b9\u3092\u6e1b\u3089\u3059\u305f\u3081\u3001GpuJoin\u3084GpuPreAgg\u304c\u76f4\u4e0b\u306e\u30c6\u30fc\u30d6\u30eb\u30b9\u30ad\u30e3\u30f3\u3092\u5f15\u304d\u4e0a\u3052\u3001\u81ea\u3089\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u51e6\u7406\u3092\u884c\u3046\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3067\u3082\u3001BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u5229\u7528\u53ef\u80fd\u3067\u3042\u308c\u3070\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u308b\u7d5e\u308a\u8fbc\u307f\u3092\u884c\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u4f8b\u306f\u3001GROUP BY\u3092\u542b\u3080\u51e6\u7406\u3067BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30b1\u30fc\u30b9\u3067\u3059\u3002\n\n\npostgres=# EXPLAIN ANALYZE\n           SELECT cat,count(*)\n             FROM dt WHERE ymd BETWEEN '2018-01-01' AND '2018-12-31'\n         GROUP BY cat;\n                                   QUERY PLAN\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=6149.78..6151.86 rows=26 width=12)\n                 (actual time=427.482..427.499 rows=26 loops=1)\n   Group Key: cat\n   -\n  Sort  (cost=6149.78..6150.24 rows=182 width=12)\n             (actual time=427.465..427.467 rows=26 loops=1)\n         Sort Key: cat\n         Sort Method: quicksort  Memory: 26kB\n         -\n  Custom Scan (GpuPreAgg) on dt  (cost=6140.68..6142.95 rows=182 width=12)\n                                            (actual time=427.331..427.339 rows=26 loops=1)\n               Reduction: Local\n               Outer Scan: dt  (cost=4000.00..4011.99 rows=4541187 width=4)\n                               (actual time=78.573..415.961 rows=4560768 loops=1)\n               Outer Scan Filter: ((ymd \n= '2018-01-01'::date) AND (ymd \n= '2018-12-31'::date))\n               Rows Removed by Outer Scan Filter: 15564\n               BRIN cond: ((ymd \n= '2018-01-01'::date) AND (ymd \n= '2018-12-31'::date))\n               BRIN skipped: 424704\n Planning time: 30.992 ms\n Execution time: 818.994 ms\n(14 rows)", 
            "title": "\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5bfe\u5fdc"
        }, 
        {
            "location": "/brin/#_1", 
            "text": "PostgreSQL\u306f\u4f55\u7a2e\u985e\u304b\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5f62\u5f0f\u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u9078\u629e\u3055\u308c\u308bB-tree\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u7279\u5b9a\u306e\u5024\u3092\u6301\u3064\u30ec\u30b3\u30fc\u30c9\u3092\u9ad8\u901f\u306b\u691c\u7d22\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\u3053\u308c\u4ee5\u5916\u306b\u3082\u3001Hash\u3001BRIN\u3001GiST\u3001GIN\u306a\u3069\u7279\u6027\u306e\u7570\u306a\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5f62\u5f0f\u304c\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u73fe\u5728\u306e\u3068\u3053\u308dPG-Strom\u306fBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u306e\u307f\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002  BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u3001\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u306b\u304a\u3051\u308b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u5024\u306a\u3069\u3001\u7269\u7406\u7684\u306b\u8fd1\u508d\u306b\u4f4d\u7f6e\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u540c\u58eb\u304c\u8fd1\u3057\u3044\u5024\u3092\u6301\u3063\u3066\u3044\u308b\u4e8b\u304c\u671f\u5f85\u3067\u304d\u308b\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u6709\u52b9\u306b\u4f5c\u7528\u3057\u307e\u3059\u3002\u672c\u6765\u306f\u5168\u4ef6\u30b9\u30ad\u30e3\u30f3\u304c\u5fc5\u8981\u306a\u64cd\u4f5c\u3067\u3042\u3063\u3066\u3082\u3001\u660e\u3089\u304b\u306b\u6761\u4ef6\u53e5\u306b\u30de\u30c3\u30c1\u3057\u306a\u3044\u9818\u57df\u3092\u8aad\u307f\u98db\u3070\u3057\u3001\u5168\u4ef6\u30b9\u30ad\u30e3\u30f3\u306b\u4f34\u3046I/O\u91cf\u3092\u524a\u6e1b\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002  PG-Strom\u306b\u304a\u3044\u3066\u3082BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u7279\u6027\u3092\u6d3b\u7528\u3057\u3001GPU\u306b\u30ed\u30fc\u30c9\u3059\u3079\u304d\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306e\u3046\u3061\u660e\u3089\u304b\u306b\u4e0d\u8981\u3067\u3042\u308b\u3082\u306e\u3092\u8aad\u307f\u98db\u3070\u3059\u4e8b\u304c\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002", 
            "title": "\u6982\u8981"
        }, 
        {
            "location": "/brin/#_2", 
            "text": "BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u7279\u5225\u306a\u8a2d\u5b9a\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002  CREATE INDEX\u69cb\u6587\u3092\u7528\u3044\u3066\u5bfe\u8c61\u5217\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\u304b\u3064\u3001\u691c\u7d22\u6761\u4ef6\u304cBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u9069\u5408\u3059\u308b\u3082\u306e\u3067\u3042\u308c\u3070\u81ea\u52d5\u7684\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002  BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u81ea\u4f53\u306e\u8aac\u660e\u306f\u3001 PostgreSQL\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \u4ee5\u4e0b\u306eGUC\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308a\u3001PG-Strom\u304cBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u30c7\u30d0\u30c3\u30b0\u3084\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u5834\u5408\u3092\u9664\u304d\u3001\u901a\u5e38\u306f\u521d\u671f\u8a2d\u5b9a\u306e\u307e\u307e\u3067\u69cb\u3044\u307e\u305b\u3093\u3002     \u30d1\u30e9\u30e1\u30fc\u30bf\u540d  \u578b  \u521d\u671f\u5024  \u8aac\u660e      pg_strom.enable_brin  bool  on  BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002", 
            "title": "\u8a2d\u5b9a"
        }, 
        {
            "location": "/brin/#_3", 
            "text": "EXPLAIN \u69cb\u6587\u306b\u3088\u308aBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  postgres=# EXPLAIN ANALYZE\n           SELECT * FROM dt\n            WHERE ymd BETWEEN '2018-01-01' AND '2018-12-31'\n              AND cat LIKE '%aaa%';\n                                   QUERY PLAN\n--------------------------------------------------------------------------------\n Custom Scan (GpuScan) on dt  (cost=94810.93..176275.00 rows=169992 width=44)\n                              (actual time=1777.819..1901.537 rows=175277 loops=1)\n   GPU Filter: ((ymd  = '2018-01-01'::date) AND (ymd  = '2018-12-31'::date) AND (cat ~~ '%aaa%'::text))\n   Rows Removed by GPU Filter: 4385491\n   BRIN cond: ((ymd  = '2018-01-01'::date) AND (ymd  = '2018-12-31'::date))\n   BRIN skipped: 424704\n Planning time: 0.529 ms\n Execution time: 2323.063 ms\n(7 rows)  \u4e0a\u8a18\u306e\u4f8b\u3067\u306f ymd \u5217\u306bBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001 BRIN cond \u306e\u8868\u793a\u306fBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u308b\u7d5e\u308a\u8fbc\u307f\u6761\u4ef6\u3092\u3001 BRIN skipped \u306e\u8868\u793a\u306fBRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u308a\u5b9f\u969b\u306b\u8aad\u307f\u98db\u3070\u3055\u308c\u305f\u30d6\u30ed\u30c3\u30af\u306e\u6570\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002  \u3053\u306e\u4f8b\u3067\u306f424704\u30d6\u30ed\u30c3\u30af\u304c\u8aad\u307f\u98db\u3070\u3055\u308c\u3001\u3055\u3089\u306b\u3001\u8aad\u307f\u8fbc\u3093\u3060\u30d6\u30ed\u30c3\u30af\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u306e\u3046\u30614385491\u884c\u304c\u6761\u4ef6\u53e5\u306b\u3088\u3063\u3066\u30d5\u30a3\u30eb\u30bf\u3055\u308c\u305f\u4e8b\u304c\u5206\u304b\u308a\u307e\u3059\u3002  \u30c7\u30fc\u30bf\u8ee2\u9001\u306e\u30ed\u30b9\u3092\u6e1b\u3089\u3059\u305f\u3081\u3001GpuJoin\u3084GpuPreAgg\u304c\u76f4\u4e0b\u306e\u30c6\u30fc\u30d6\u30eb\u30b9\u30ad\u30e3\u30f3\u3092\u5f15\u304d\u4e0a\u3052\u3001\u81ea\u3089\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u51e6\u7406\u3092\u884c\u3046\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3067\u3082\u3001BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u5229\u7528\u53ef\u80fd\u3067\u3042\u308c\u3070\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u308b\u7d5e\u308a\u8fbc\u307f\u3092\u884c\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u4f8b\u306f\u3001GROUP BY\u3092\u542b\u3080\u51e6\u7406\u3067BRIN\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30b1\u30fc\u30b9\u3067\u3059\u3002  postgres=# EXPLAIN ANALYZE\n           SELECT cat,count(*)\n             FROM dt WHERE ymd BETWEEN '2018-01-01' AND '2018-12-31'\n         GROUP BY cat;\n                                   QUERY PLAN\n--------------------------------------------------------------------------------\n GroupAggregate  (cost=6149.78..6151.86 rows=26 width=12)\n                 (actual time=427.482..427.499 rows=26 loops=1)\n   Group Key: cat\n   -   Sort  (cost=6149.78..6150.24 rows=182 width=12)\n             (actual time=427.465..427.467 rows=26 loops=1)\n         Sort Key: cat\n         Sort Method: quicksort  Memory: 26kB\n         -   Custom Scan (GpuPreAgg) on dt  (cost=6140.68..6142.95 rows=182 width=12)\n                                            (actual time=427.331..427.339 rows=26 loops=1)\n               Reduction: Local\n               Outer Scan: dt  (cost=4000.00..4011.99 rows=4541187 width=4)\n                               (actual time=78.573..415.961 rows=4560768 loops=1)\n               Outer Scan Filter: ((ymd  = '2018-01-01'::date) AND (ymd  = '2018-12-31'::date))\n               Rows Removed by Outer Scan Filter: 15564\n               BRIN cond: ((ymd  = '2018-01-01'::date) AND (ymd  = '2018-12-31'::date))\n               BRIN skipped: 424704\n Planning time: 30.992 ms\n Execution time: 818.994 ms\n(14 rows)", 
            "title": "\u64cd\u4f5c"
        }, 
        {
            "location": "/partition/", 
            "text": "\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\n\n\n\n\u672c\u7ae0\u3067\u306fPostgreSQL\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u6a5f\u80fd\u3068PG-Strom\u3092\u4f75\u7528\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001\u672c\u7ae0\u306e\u5185\u5bb9\u306f PostgreSQL v10 \u4ee5\u964d\u3067PG-Strom\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306b\u306e\u307f\u6709\u52b9\u3067\u3059\u3002\n\n\nPostgreSQL\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u6a5f\u80fd\u306b\u3064\u3044\u3066\u3001\u8a73\u3057\u304f\u306f\nPostgreSQL\u6587\u66f8\uff1a\u30c6\u30fc\u30d6\u30eb\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\n\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u6982\u8981\n\n\nPostgreSQL v10\u306b\u304a\u3044\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u6a5f\u80fd\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3057\u305f\u3002\n\u3053\u308c\u306f\u3001\u8ad6\u7406\u7684\u306b\u306f\u4e00\u500b\u306e\u5927\u304d\u306a\u30c6\u30fc\u30d6\u30eb\u3067\u3042\u308b\u3082\u306e\u3092\u7269\u7406\u7684\u306b\u3088\u308a\u5c0f\u3055\u306a\u30c6\u30fc\u30d6\u30eb\u306b\u5206\u5272\u3057\u3066\u683c\u7d0d\u3059\u308b\u4ed5\u7d44\u307f\u3067\u3001\u691c\u7d22\u6761\u4ef6\u3088\u308a\u660e\u3089\u304b\u306b\u30b9\u30ad\u30e3\u30f3\u306e\u5fc5\u8981\u304c\u306a\u3044\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u305f\u308a\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u7269\u7406\u7684\u306b\u5206\u6563\u3055\u305b\u308b\u4e8b\u3067\u3088\u308a\u5e83\u3044I/O\u5e2f\u57df\u3092\u78ba\u4fdd\u3059\u308b\u306a\u3069\u306e\u5229\u70b9\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nPostgreSQL v10\u3067\u306f\u7bc4\u56f2\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3001\u30ea\u30b9\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306e2\u7a2e\u985e\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3001\u3055\u3089\u306bPostgreSQL v11\u3067\u306f\u30cf\u30c3\u30b7\u30e5\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u56f3\u306f\u3001\u65e5\u4ed8\u578b\uff08DATE\u578b\uff09\u306e\u30ad\u30fc\u5024\u3092\u7528\u3044\u305f\u7bc4\u56f2\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\u30ad\u30fc\u5024\n2018-05-30\n\u3092\u6301\u3064\u30ec\u30b3\u30fc\u30c9\u306f\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\ntbl_2018\n\u306b\u632f\u308a\u5206\u3051\u3089\u308c\u3001\u540c\u69d8\u306b\u3001\u30ad\u30fc\u5024\n2014-03-21\n\u3092\u6301\u3064\u30ec\u30b3\u30fc\u30c9\u306f\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\ntbl_2014\n\u306b\u632f\u308a\u5206\u3051\u3089\u308c\u308b\u30fb\u30fb\u30fb\u3068\u3044\u3063\u305f\u5177\u5408\u3067\u3059\u3002\n\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u3092\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u6642\u3001\u4f8b\u3048\u3070\nWHERE ymd \n '2016-07-01'::date\n\u3068\u3044\u3046\u6761\u4ef6\u53e5\u304c\u4ed8\u52a0\u3055\u308c\u3066\u3044\u308b\u3068\u3001\ntbl_2014\n\u304a\u3088\u3073\ntbl_2015\n\u306b\u8a72\u5f53\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u304c\u5b58\u5728\u3057\u306a\u3044\u4e8b\u306f\u81ea\u660e\u3067\u3059\u306e\u3067\u3001PostgreSQL\u306e\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306f\ntbl_2016\n\u3001\ntbl_2017\n\u3001\ntbl_2018\n\u3060\u3051\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u7d50\u5408\u3059\u308b\nAppend\n\u30ce\u30fc\u30c9\u3092\u631f\u3080\u4e8b\u3067\u3001\u3042\u305f\u304b\u3082\u5358\u4e00\u306e\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u8aad\u307f\u51fa\u3057\u305f\u304b\u306e\u3088\u3046\u306b\u632f\u821e\u3046\u5b9f\u884c\u8a08\u753b\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n\n\nPostgreSQL\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3068PG-Strom\u3092\u4f75\u7528\u3059\u308b\u5834\u5408\u3001\u307e\u305a\u3001\u30b9\u30ad\u30e3\u30f3\u304c\u5fc5\u8981\u3067\u3042\u308b\u3068\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u304c\u5224\u65ad\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306b\u5bfe\u3057\u3001\u500b\u3005\u306b\u5b9f\u884c\u30b3\u30b9\u30c8\u3092\u63a8\u5b9a\u3057\u305f\u4e0a\u3067\nGpuScan\n\u304c\u9078\u629e\u3055\u308c\u308b\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001\nGpuScan\n\u306e\u5b9f\u884c\u7d50\u679c\u3092\nAppend\n\u30ce\u30fc\u30c9\u3067\u675f\u306d\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u305f\u3060\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306b\u7d9a\u304d\u3001JOIN\u3084GROUP BY\u306a\u3069PG-Strom\u3067\u9ad8\u901f\u5316\u304c\u53ef\u80fd\u306a\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u6700\u9069\u5316\u306e\u89b3\u70b9\u304b\u3089\u691c\u8a0e\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\u4f8b\u3048\u3070\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u30c6\u30fc\u30d6\u30eb\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3066\u5225\u306e\u30c6\u30fc\u30d6\u30eb\u3068JOIN\u3057\u3001GROUP BY\u306b\u3088\u308b\u96c6\u8a08\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u5834\u5408\u3001\u6761\u4ef6\u304c\u63c3\u3048\u3070\u3001\u5404\u30b9\u30c6\u30c3\u30d7\u9593\u306e\u30c7\u30fc\u30bf\u4ea4\u63db\u306fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u4e0a\u3067\u884c\u3046\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306fGPU\u3068CPU\u306e\u9593\u306e\u30c7\u30fc\u30bf\u79fb\u52d5\u3092\u6700\u5c0f\u5316\u3059\u308b\u3068\u3044\u3046\u89b3\u70b9\u304b\u3089\u3001\u6700\u3082PG-Strom\u304c\u5f97\u610f\u3068\u3059\u308b\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3067\u3059\u3002\n\n\n\u4e00\u65b9\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u540c\u69d8\u306e\u51e6\u7406\u3092\u884c\u3046\u5834\u5408\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u3068JOIN\u3084GROUP BY\u306e\u9593\u306b\nAppend\n\u51e6\u7406\u304c\u631f\u307e\u3063\u3066\u3057\u307e\u3046\u306e\u304c\u8ab2\u984c\u3067\u3059\u3002\u3053\u306e\u5b9f\u884c\u8a08\u753b\u306e\u4e0b\u3067\u306f\u3001GpuScan\u304c\u51e6\u7406\u3057\u305f\u30c7\u30fc\u30bf\u3092\u4e00\u5ea6\u30db\u30b9\u30c8\u30b7\u30b9\u30c6\u30e0\u3078\u8ee2\u9001\u3057\u3001\nAppend\n\u51e6\u7406\u3092\u884c\u3063\u305f\u4e0a\u3067\u3001\u305d\u306e\u5f8c\u306eGpuJoin\u3084GpuPreAgg\u51e6\u7406\u3092\u884c\u3046\u305f\u3081\u306b\u518d\u3073\u30c7\u30fc\u30bf\u3092GPU\u3078\u8ee2\u9001\u3059\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u6c7a\u3057\u3066\u52b9\u7387\u306e\u826f\u3044\u51e6\u7406\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\u3053\u306e\u3088\u3046\u306aCPU-GPU\u9593\u306e\u30c7\u30fc\u30bf\u306e\u30d4\u30f3\u30dd\u30f3\u3092\u907f\u3051\u308b\u305f\u3081\u3001PG-Strom\u306f\u53ef\u80fd\u306a\u9650\u308aJOIN\u3084GROUP BY\u3092\nAppend\n\u3088\u308a\u3082\u5148\u306b\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3092\u8a66\u307f\u307e\u3059\u3002\n\n\n\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u304c\u6210\u529f\u308c\u3070\u3001\u30c7\u30fc\u30bf\u4ea4\u63db\u3092\u52b9\u7387\u5316\u3067\u304d\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u7279\u306bGROUP BY\u51e6\u7406\u306b\u3088\u3063\u3066\u884c\u6570\u3092\u5927\u5e45\u306b\u524a\u6e1b\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308b\u305f\u3081\u3001\nAppend\n\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u30db\u30b9\u30c8\u30b7\u30b9\u30c6\u30e0\u306e\u8ca0\u8377\u3092\u9855\u8457\u306b\u6e1b\u3089\u3059\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\n\u4ee5\u4e0b\u306e\u4f8b\u306f\u3001\u65e5\u4ed8\u578b\uff08date\u578b\uff09\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\nymd\n\u3092\u30ad\u30fc\u3068\u3057\u3066\u5e74\u5358\u4f4d\u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\npt\n\u306b\u5bfe\u3057\u3066\u3001JOIN\u3068GROUP BY\u3092\u542b\u3080\u30af\u30a8\u30ea\u3092\u6295\u5165\u3057\u305f\u6642\u306e\u5b9f\u884c\u8a08\u753b\u3067\u3059\u3002\n\n\n\u691c\u7d22\u6761\u4ef6\u306b\u3088\u308a2016\u5e74\u4ee5\u524d\u306e\u30c7\u30fc\u30bf\u3092\u542b\u3080\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306f\u81ea\u660e\u306b\u6392\u9664\u3055\u308c\u3001\u3055\u3089\u306b\npt_2017\n\u3001\npt_2018\n\u3001\npt_2019\n\u5404\u30c6\u30fc\u30d6\u30eb\u306eJOIN\u3068GROUP BY\u51e6\u7406\u304c\u4e00\u4f53\u3068\u306a\u3063\u3066\nAppend\n\u306e\u524d\u306b\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\n# EXPLAIN SELECT cat,count(*),avg(ax)\n            FROM pt NATURAL JOIN t1\n           WHERE ymd \n '2017-01-01'::date\n           GROUP BY cat;\n                                   QUERY PLAN\n--------------------------------------------------------------------------------\n HashAggregate  (cost=196410.07..196412.57 rows=200 width=48)\n   Group Key: pt_2017.cat\n   -\n  Gather  (cost=66085.69..196389.07 rows=1200 width=72)\n         Workers Planned: 2\n         -\n  Parallel Append  (cost=65085.69..195269.07 rows=600 width=72)\n               -\n  Parallel Custom Scan (GpuPreAgg)  (cost=65085.69..65089.69 rows=200 width=72)\n                     Reduction: Local\n                     Combined GpuJoin: enabled\n                     -\n  Parallel Custom Scan (GpuJoin) on pt_2017  (cost=32296.64..74474.20 rows=1050772 width=40)\n                           Outer Scan: pt_2017  (cost=28540.80..66891.11 rows=1050772 width=36)\n                           Outer Scan Filter: (ymd \n '2017-01-01'::date)\n                           Depth 1: GpuHashJoin  (nrows 1050772...2521854)\n                                    HashKeys: pt_2017.aid\n                                    JoinQuals: (pt_2017.aid = t1.aid)\n                                    KDS-Hash (size: 10.78MB)\n                           -\n  Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n               -\n  Parallel Custom Scan (GpuPreAgg)  (cost=65078.35..65082.35 rows=200 width=72)\n                     Reduction: Local\n                     Combined GpuJoin: enabled\n                     -\n  Parallel Custom Scan (GpuJoin) on pt_2018  (cost=32296.65..74465.75 rows=1050649 width=40)\n                           Outer Scan: pt_2018  (cost=28540.81..66883.43 rows=1050649 width=36)\n                           Outer Scan Filter: (ymd \n '2017-01-01'::date)\n                           Depth 1: GpuHashJoin  (nrows 1050649...2521557)\n                                    HashKeys: pt_2018.aid\n                                    JoinQuals: (pt_2018.aid = t1.aid)\n                                    KDS-Hash (size: 10.78MB)\n                           -\n  Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n               -\n  Parallel Custom Scan (GpuPreAgg)  (cost=65093.03..65097.03 rows=200 width=72)\n                     Reduction: Local\n                     Combined GpuJoin: enabled\n                     -\n  Parallel Custom Scan (GpuJoin) on pt_2019  (cost=32296.65..74482.64 rows=1050896 width=40)\n                           Outer Scan: pt_2019  (cost=28540.80..66898.79 rows=1050896 width=36)\n                           Outer Scan Filter: (ymd \n '2017-01-01'::date)\n                           Depth 1: GpuHashJoin  (nrows 1050896...2522151)\n                                    HashKeys: pt_2019.aid\n                                    JoinQuals: (pt_2019.aid = t1.aid)\n                                    KDS-Hash (size: 10.78MB)\n                           -\n  Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n(38 rows)\n\n\n\n\n\u8a2d\u5b9a\u3068\u904b\u7528\n\n\n\u4ee5\u4e0b\u306eGUC\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308a\u3001PG-Strom\u306fJOIN\u3084GROUP BY\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u3078\u306e\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\n\n\n\u578b\n\n\n\u521d\u671f\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npg_strom.enable_partitionwise_gpujoin\n\n\nbool\n\n\non\n\n\nGpuJoin\u3092\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8981\u7d20\u3078\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002PostgreSQL v10\u4ee5\u964d\u3067\u306e\u307f\u5bfe\u5fdc\u3002\n\n\n\n\n\n\npg_strom.enable_partitionwise_gpupreagg\n\n\nbool\n\n\non\n\n\nGpuPreAgg\u3092\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8981\u7d20\u3078\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002PostgreSQL v10\u4ee5\u964d\u3067\u306e\u307f\u5bfe\u5fdc\u3002\n\n\n\n\n\n\n\n\n\u3053\u308c\u3089\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u521d\u671f\u5024\u306f\non\n\u3067\u3059\u304c\u3001\u3053\u308c\u3092\noff\n\u306b\u3057\u305f\u5834\u5408\u3001\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u51e6\u7406\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002\n\n\nEXPLAIN\u30b3\u30de\u30f3\u30c9\u3067\u524d\u7bc0\u306e\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u8a08\u753b\u3092\u8868\u793a\u3057\u305f\u3068\u3053\u308d\u3001\u5b9f\u884c\u8a08\u753b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306b\u306f\nGpuScan\n\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u51e6\u7406\u7d50\u679c\u306f\u4e00\u5ea6\u30db\u30b9\u30c8\u30b7\u30b9\u30c6\u30e0\u306b\u8fd4\u3055\u308c\u3001\nAppend\n\u306b\u3088\u3063\u3066\u7d50\u5408\u3055\u308c\u305f\u5f8c\u3001\u518d\u3073\nGpuJoin\n\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306bGPU\u3078\u3068\u8ee2\u9001\u3055\u308c\u307e\u3059\u3002\n\n\npostgres=# set pg_strom.enable_partitionwise_gpujoin = off;\nSET\npostgres=# set pg_strom.enable_partitionwise_gpupreagg = off;\nSET\npostgres=# EXPLAIN SELECT cat,count(*),avg(ax) FROM pt NATURAL JOIN t1 WHERE ymd \n '2017-01-01'::date group by cat;\n                                                           QUERY PLAN\n--------------------------------------------------------------------------------------------------------------------------------\n Finalize GroupAggregate  (cost=341392.92..341399.42 rows=200 width=48)\n   Group Key: pt.cat\n   -\n  Sort  (cost=341392.92..341393.92 rows=400 width=72)\n         Sort Key: pt.cat\n         -\n  Gather  (cost=341333.63..341375.63 rows=400 width=72)\n               Workers Planned: 2\n               -\n  Partial HashAggregate  (cost=340333.63..340335.63 rows=200 width=72)\n                     Group Key: pt.cat\n                     -\n  Parallel Custom Scan (GpuJoin)  (cost=283591.92..283591.92 rows=7565562 width=40)\n                           Depth 1: GpuHashJoin  (nrows 3152318...7565562)\n                                    HashKeys: pt.aid\n                                    JoinQuals: (pt.aid = t1.aid)\n                                    KDS-Hash (size: 10.78MB)\n                           -\n  Append  (cost=28540.80..200673.34 rows=3152318 width=36)\n                                 -\n  Parallel Custom Scan (GpuScan) on pt_2017  (cost=28540.80..66891.11 rows=1050772 width=36)\n                                       GPU Filter: (ymd \n '2017-01-01'::date)\n                                 -\n  Parallel Custom Scan (GpuScan) on pt_2018  (cost=28540.81..66883.43 rows=1050649 width=36)\n                                       GPU Filter: (ymd \n '2017-01-01'::date)\n                                 -\n  Parallel Custom Scan (GpuScan) on pt_2019  (cost=28540.80..66898.79 rows=1050896 width=36)\n                                       GPU Filter: (ymd \n '2017-01-01'::date)\n                           -\n  Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n(21 rows)\n\n\n\n\nSSD\u3068GPU\u306e\u914d\u7f6e\u306b\u95a2\u3059\u308b\u8003\u616e\n\n\nPostgreSQL\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3068SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u4f75\u7528\u3059\u308b\u5834\u5408\u3001\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u304c\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u4fdd\u5b58\u3059\u308bNVMe-SSD\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u7269\u7406\u7684\u306a\u914d\u7f6e\u306b\u306f\u7279\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\n\n\u5236\u9650\u4e8b\u9805\n\n\n\u5b9f\u9a13\u7684\u6a5f\u80fd\n\n\nGpuJoin\u3068GpuPreAgg\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u3078\u306e\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u306f\u3001\u73fe\u6642\u70b9\u3067\u306f\u5b9f\u9a13\u7684\u306a\u6a5f\u80fd\u3067\u3042\u308a\u3001\u4e88\u671f\u305b\u306c\u4e0d\u5177\u5408\u3084\u30af\u30e9\u30c3\u30b7\u30e5\u3092\u5f15\u304d\u8d77\u3053\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u5834\u5408\u306f\npg_strom.enable_partitionwise_gpujoin\n\u3084\npg_strom.enable_partitionwise_gpupreagg\n\u3092\u7528\u3044\u3066\u5f53\u8a72\u6a5f\u80fd\u3092\u7121\u52b9\u5316\u3059\u308b\u3068\u5171\u306b\u3001\nPG-Strom Issues\n\u3078\u969c\u5bb3\u30ec\u30dd\u30fc\u30c8\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002", 
            "title": "\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3"
        }, 
        {
            "location": "/partition/#_1", 
            "text": "PostgreSQL v10\u306b\u304a\u3044\u3066\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u6a5f\u80fd\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3057\u305f\u3002\n\u3053\u308c\u306f\u3001\u8ad6\u7406\u7684\u306b\u306f\u4e00\u500b\u306e\u5927\u304d\u306a\u30c6\u30fc\u30d6\u30eb\u3067\u3042\u308b\u3082\u306e\u3092\u7269\u7406\u7684\u306b\u3088\u308a\u5c0f\u3055\u306a\u30c6\u30fc\u30d6\u30eb\u306b\u5206\u5272\u3057\u3066\u683c\u7d0d\u3059\u308b\u4ed5\u7d44\u307f\u3067\u3001\u691c\u7d22\u6761\u4ef6\u3088\u308a\u660e\u3089\u304b\u306b\u30b9\u30ad\u30e3\u30f3\u306e\u5fc5\u8981\u304c\u306a\u3044\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u305f\u308a\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u7269\u7406\u7684\u306b\u5206\u6563\u3055\u305b\u308b\u4e8b\u3067\u3088\u308a\u5e83\u3044I/O\u5e2f\u57df\u3092\u78ba\u4fdd\u3059\u308b\u306a\u3069\u306e\u5229\u70b9\u304c\u3042\u308a\u307e\u3059\u3002  PostgreSQL v10\u3067\u306f\u7bc4\u56f2\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3001\u30ea\u30b9\u30c8\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306e2\u7a2e\u985e\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3001\u3055\u3089\u306bPostgreSQL v11\u3067\u306f\u30cf\u30c3\u30b7\u30e5\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002  \u4ee5\u4e0b\u306e\u56f3\u306f\u3001\u65e5\u4ed8\u578b\uff08DATE\u578b\uff09\u306e\u30ad\u30fc\u5024\u3092\u7528\u3044\u305f\u7bc4\u56f2\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\u30ad\u30fc\u5024 2018-05-30 \u3092\u6301\u3064\u30ec\u30b3\u30fc\u30c9\u306f\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb tbl_2018 \u306b\u632f\u308a\u5206\u3051\u3089\u308c\u3001\u540c\u69d8\u306b\u3001\u30ad\u30fc\u5024 2014-03-21 \u3092\u6301\u3064\u30ec\u30b3\u30fc\u30c9\u306f\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb tbl_2014 \u306b\u632f\u308a\u5206\u3051\u3089\u308c\u308b\u30fb\u30fb\u30fb\u3068\u3044\u3063\u305f\u5177\u5408\u3067\u3059\u3002  \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u3092\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u6642\u3001\u4f8b\u3048\u3070 WHERE ymd   '2016-07-01'::date \u3068\u3044\u3046\u6761\u4ef6\u53e5\u304c\u4ed8\u52a0\u3055\u308c\u3066\u3044\u308b\u3068\u3001 tbl_2014 \u304a\u3088\u3073 tbl_2015 \u306b\u8a72\u5f53\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u304c\u5b58\u5728\u3057\u306a\u3044\u4e8b\u306f\u81ea\u660e\u3067\u3059\u306e\u3067\u3001PostgreSQL\u306e\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306f tbl_2016 \u3001 tbl_2017 \u3001 tbl_2018 \u3060\u3051\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u7d50\u5408\u3059\u308b Append \u30ce\u30fc\u30c9\u3092\u631f\u3080\u4e8b\u3067\u3001\u3042\u305f\u304b\u3082\u5358\u4e00\u306e\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u8aad\u307f\u51fa\u3057\u305f\u304b\u306e\u3088\u3046\u306b\u632f\u821e\u3046\u5b9f\u884c\u8a08\u753b\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002   PostgreSQL\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3068PG-Strom\u3092\u4f75\u7528\u3059\u308b\u5834\u5408\u3001\u307e\u305a\u3001\u30b9\u30ad\u30e3\u30f3\u304c\u5fc5\u8981\u3067\u3042\u308b\u3068\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u304c\u5224\u65ad\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306b\u5bfe\u3057\u3001\u500b\u3005\u306b\u5b9f\u884c\u30b3\u30b9\u30c8\u3092\u63a8\u5b9a\u3057\u305f\u4e0a\u3067 GpuScan \u304c\u9078\u629e\u3055\u308c\u308b\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001 GpuScan \u306e\u5b9f\u884c\u7d50\u679c\u3092 Append \u30ce\u30fc\u30c9\u3067\u675f\u306d\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002  \u305f\u3060\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306b\u7d9a\u304d\u3001JOIN\u3084GROUP BY\u306a\u3069PG-Strom\u3067\u9ad8\u901f\u5316\u304c\u53ef\u80fd\u306a\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u6700\u9069\u5316\u306e\u89b3\u70b9\u304b\u3089\u691c\u8a0e\u304c\u5fc5\u8981\u3067\u3059\u3002  \u4f8b\u3048\u3070\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u30c6\u30fc\u30d6\u30eb\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3066\u5225\u306e\u30c6\u30fc\u30d6\u30eb\u3068JOIN\u3057\u3001GROUP BY\u306b\u3088\u308b\u96c6\u8a08\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u5834\u5408\u3001\u6761\u4ef6\u304c\u63c3\u3048\u3070\u3001\u5404\u30b9\u30c6\u30c3\u30d7\u9593\u306e\u30c7\u30fc\u30bf\u4ea4\u63db\u306fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u4e0a\u3067\u884c\u3046\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306fGPU\u3068CPU\u306e\u9593\u306e\u30c7\u30fc\u30bf\u79fb\u52d5\u3092\u6700\u5c0f\u5316\u3059\u308b\u3068\u3044\u3046\u89b3\u70b9\u304b\u3089\u3001\u6700\u3082PG-Strom\u304c\u5f97\u610f\u3068\u3059\u308b\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3067\u3059\u3002  \u4e00\u65b9\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5316\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u540c\u69d8\u306e\u51e6\u7406\u3092\u884c\u3046\u5834\u5408\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u3068JOIN\u3084GROUP BY\u306e\u9593\u306b Append \u51e6\u7406\u304c\u631f\u307e\u3063\u3066\u3057\u307e\u3046\u306e\u304c\u8ab2\u984c\u3067\u3059\u3002\u3053\u306e\u5b9f\u884c\u8a08\u753b\u306e\u4e0b\u3067\u306f\u3001GpuScan\u304c\u51e6\u7406\u3057\u305f\u30c7\u30fc\u30bf\u3092\u4e00\u5ea6\u30db\u30b9\u30c8\u30b7\u30b9\u30c6\u30e0\u3078\u8ee2\u9001\u3057\u3001 Append \u51e6\u7406\u3092\u884c\u3063\u305f\u4e0a\u3067\u3001\u305d\u306e\u5f8c\u306eGpuJoin\u3084GpuPreAgg\u51e6\u7406\u3092\u884c\u3046\u305f\u3081\u306b\u518d\u3073\u30c7\u30fc\u30bf\u3092GPU\u3078\u8ee2\u9001\u3059\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u6c7a\u3057\u3066\u52b9\u7387\u306e\u826f\u3044\u51e6\u7406\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002  \u3053\u306e\u3088\u3046\u306aCPU-GPU\u9593\u306e\u30c7\u30fc\u30bf\u306e\u30d4\u30f3\u30dd\u30f3\u3092\u907f\u3051\u308b\u305f\u3081\u3001PG-Strom\u306f\u53ef\u80fd\u306a\u9650\u308aJOIN\u3084GROUP BY\u3092 Append \u3088\u308a\u3082\u5148\u306b\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3092\u8a66\u307f\u307e\u3059\u3002  \u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u304c\u6210\u529f\u308c\u3070\u3001\u30c7\u30fc\u30bf\u4ea4\u63db\u3092\u52b9\u7387\u5316\u3067\u304d\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u7279\u306bGROUP BY\u51e6\u7406\u306b\u3088\u3063\u3066\u884c\u6570\u3092\u5927\u5e45\u306b\u524a\u6e1b\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308b\u305f\u3081\u3001 Append \u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u30db\u30b9\u30c8\u30b7\u30b9\u30c6\u30e0\u306e\u8ca0\u8377\u3092\u9855\u8457\u306b\u6e1b\u3089\u3059\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002   \u4ee5\u4e0b\u306e\u4f8b\u306f\u3001\u65e5\u4ed8\u578b\uff08date\u578b\uff09\u306e\u30d5\u30a3\u30fc\u30eb\u30c9 ymd \u3092\u30ad\u30fc\u3068\u3057\u3066\u5e74\u5358\u4f4d\u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b pt \u306b\u5bfe\u3057\u3066\u3001JOIN\u3068GROUP BY\u3092\u542b\u3080\u30af\u30a8\u30ea\u3092\u6295\u5165\u3057\u305f\u6642\u306e\u5b9f\u884c\u8a08\u753b\u3067\u3059\u3002  \u691c\u7d22\u6761\u4ef6\u306b\u3088\u308a2016\u5e74\u4ee5\u524d\u306e\u30c7\u30fc\u30bf\u3092\u542b\u3080\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306f\u81ea\u660e\u306b\u6392\u9664\u3055\u308c\u3001\u3055\u3089\u306b pt_2017 \u3001 pt_2018 \u3001 pt_2019 \u5404\u30c6\u30fc\u30d6\u30eb\u306eJOIN\u3068GROUP BY\u51e6\u7406\u304c\u4e00\u4f53\u3068\u306a\u3063\u3066 Append \u306e\u524d\u306b\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u5206\u304b\u308a\u307e\u3059\u3002  # EXPLAIN SELECT cat,count(*),avg(ax)\n            FROM pt NATURAL JOIN t1\n           WHERE ymd   '2017-01-01'::date\n           GROUP BY cat;\n                                   QUERY PLAN\n--------------------------------------------------------------------------------\n HashAggregate  (cost=196410.07..196412.57 rows=200 width=48)\n   Group Key: pt_2017.cat\n   -   Gather  (cost=66085.69..196389.07 rows=1200 width=72)\n         Workers Planned: 2\n         -   Parallel Append  (cost=65085.69..195269.07 rows=600 width=72)\n               -   Parallel Custom Scan (GpuPreAgg)  (cost=65085.69..65089.69 rows=200 width=72)\n                     Reduction: Local\n                     Combined GpuJoin: enabled\n                     -   Parallel Custom Scan (GpuJoin) on pt_2017  (cost=32296.64..74474.20 rows=1050772 width=40)\n                           Outer Scan: pt_2017  (cost=28540.80..66891.11 rows=1050772 width=36)\n                           Outer Scan Filter: (ymd   '2017-01-01'::date)\n                           Depth 1: GpuHashJoin  (nrows 1050772...2521854)\n                                    HashKeys: pt_2017.aid\n                                    JoinQuals: (pt_2017.aid = t1.aid)\n                                    KDS-Hash (size: 10.78MB)\n                           -   Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n               -   Parallel Custom Scan (GpuPreAgg)  (cost=65078.35..65082.35 rows=200 width=72)\n                     Reduction: Local\n                     Combined GpuJoin: enabled\n                     -   Parallel Custom Scan (GpuJoin) on pt_2018  (cost=32296.65..74465.75 rows=1050649 width=40)\n                           Outer Scan: pt_2018  (cost=28540.81..66883.43 rows=1050649 width=36)\n                           Outer Scan Filter: (ymd   '2017-01-01'::date)\n                           Depth 1: GpuHashJoin  (nrows 1050649...2521557)\n                                    HashKeys: pt_2018.aid\n                                    JoinQuals: (pt_2018.aid = t1.aid)\n                                    KDS-Hash (size: 10.78MB)\n                           -   Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n               -   Parallel Custom Scan (GpuPreAgg)  (cost=65093.03..65097.03 rows=200 width=72)\n                     Reduction: Local\n                     Combined GpuJoin: enabled\n                     -   Parallel Custom Scan (GpuJoin) on pt_2019  (cost=32296.65..74482.64 rows=1050896 width=40)\n                           Outer Scan: pt_2019  (cost=28540.80..66898.79 rows=1050896 width=36)\n                           Outer Scan Filter: (ymd   '2017-01-01'::date)\n                           Depth 1: GpuHashJoin  (nrows 1050896...2522151)\n                                    HashKeys: pt_2019.aid\n                                    JoinQuals: (pt_2019.aid = t1.aid)\n                                    KDS-Hash (size: 10.78MB)\n                           -   Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n(38 rows)", 
            "title": "\u6982\u8981"
        }, 
        {
            "location": "/partition/#_2", 
            "text": "\u4ee5\u4e0b\u306eGUC\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308a\u3001PG-Strom\u306fJOIN\u3084GROUP BY\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u3078\u306e\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002     \u30d1\u30e9\u30e1\u30fc\u30bf\u540d  \u578b  \u521d\u671f\u5024  \u8aac\u660e      pg_strom.enable_partitionwise_gpujoin  bool  on  GpuJoin\u3092\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8981\u7d20\u3078\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002PostgreSQL v10\u4ee5\u964d\u3067\u306e\u307f\u5bfe\u5fdc\u3002    pg_strom.enable_partitionwise_gpupreagg  bool  on  GpuPreAgg\u3092\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8981\u7d20\u3078\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002PostgreSQL v10\u4ee5\u964d\u3067\u306e\u307f\u5bfe\u5fdc\u3002     \u3053\u308c\u3089\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u521d\u671f\u5024\u306f on \u3067\u3059\u304c\u3001\u3053\u308c\u3092 off \u306b\u3057\u305f\u5834\u5408\u3001\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u51e6\u7406\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002  EXPLAIN\u30b3\u30de\u30f3\u30c9\u3067\u524d\u7bc0\u306e\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u8a08\u753b\u3092\u8868\u793a\u3057\u305f\u3068\u3053\u308d\u3001\u5b9f\u884c\u8a08\u753b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306b\u306f GpuScan \u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u51e6\u7406\u7d50\u679c\u306f\u4e00\u5ea6\u30db\u30b9\u30c8\u30b7\u30b9\u30c6\u30e0\u306b\u8fd4\u3055\u308c\u3001 Append \u306b\u3088\u3063\u3066\u7d50\u5408\u3055\u308c\u305f\u5f8c\u3001\u518d\u3073 GpuJoin \u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306bGPU\u3078\u3068\u8ee2\u9001\u3055\u308c\u307e\u3059\u3002  postgres=# set pg_strom.enable_partitionwise_gpujoin = off;\nSET\npostgres=# set pg_strom.enable_partitionwise_gpupreagg = off;\nSET\npostgres=# EXPLAIN SELECT cat,count(*),avg(ax) FROM pt NATURAL JOIN t1 WHERE ymd   '2017-01-01'::date group by cat;\n                                                           QUERY PLAN\n--------------------------------------------------------------------------------------------------------------------------------\n Finalize GroupAggregate  (cost=341392.92..341399.42 rows=200 width=48)\n   Group Key: pt.cat\n   -   Sort  (cost=341392.92..341393.92 rows=400 width=72)\n         Sort Key: pt.cat\n         -   Gather  (cost=341333.63..341375.63 rows=400 width=72)\n               Workers Planned: 2\n               -   Partial HashAggregate  (cost=340333.63..340335.63 rows=200 width=72)\n                     Group Key: pt.cat\n                     -   Parallel Custom Scan (GpuJoin)  (cost=283591.92..283591.92 rows=7565562 width=40)\n                           Depth 1: GpuHashJoin  (nrows 3152318...7565562)\n                                    HashKeys: pt.aid\n                                    JoinQuals: (pt.aid = t1.aid)\n                                    KDS-Hash (size: 10.78MB)\n                           -   Append  (cost=28540.80..200673.34 rows=3152318 width=36)\n                                 -   Parallel Custom Scan (GpuScan) on pt_2017  (cost=28540.80..66891.11 rows=1050772 width=36)\n                                       GPU Filter: (ymd   '2017-01-01'::date)\n                                 -   Parallel Custom Scan (GpuScan) on pt_2018  (cost=28540.81..66883.43 rows=1050649 width=36)\n                                       GPU Filter: (ymd   '2017-01-01'::date)\n                                 -   Parallel Custom Scan (GpuScan) on pt_2019  (cost=28540.80..66898.79 rows=1050896 width=36)\n                                       GPU Filter: (ymd   '2017-01-01'::date)\n                           -   Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n(21 rows)", 
            "title": "\u8a2d\u5b9a\u3068\u904b\u7528"
        }, 
        {
            "location": "/partition/#ssdgpu", 
            "text": "PostgreSQL\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u3068SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u4f75\u7528\u3059\u308b\u5834\u5408\u3001\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u304c\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u4fdd\u5b58\u3059\u308bNVMe-SSD\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u7269\u7406\u7684\u306a\u914d\u7f6e\u306b\u306f\u7279\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002", 
            "title": "SSD\u3068GPU\u306e\u914d\u7f6e\u306b\u95a2\u3059\u308b\u8003\u616e"
        }, 
        {
            "location": "/partition/#_3", 
            "text": "\u5b9f\u9a13\u7684\u6a5f\u80fd  GpuJoin\u3068GpuPreAgg\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5b50\u30c6\u30fc\u30d6\u30eb\u3078\u306e\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u306f\u3001\u73fe\u6642\u70b9\u3067\u306f\u5b9f\u9a13\u7684\u306a\u6a5f\u80fd\u3067\u3042\u308a\u3001\u4e88\u671f\u305b\u306c\u4e0d\u5177\u5408\u3084\u30af\u30e9\u30c3\u30b7\u30e5\u3092\u5f15\u304d\u8d77\u3053\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u5834\u5408\u306f pg_strom.enable_partitionwise_gpujoin \u3084 pg_strom.enable_partitionwise_gpupreagg \u3092\u7528\u3044\u3066\u5f53\u8a72\u6a5f\u80fd\u3092\u7121\u52b9\u5316\u3059\u308b\u3068\u5171\u306b\u3001 PG-Strom Issues \u3078\u969c\u5bb3\u30ec\u30dd\u30fc\u30c8\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002", 
            "title": "\u5236\u9650\u4e8b\u9805"
        }, 
        {
            "location": "/troubles/", 
            "text": "\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\n\n\n\n\u554f\u984c\u306e\u5207\u308a\u5206\u3051\n\n\n\u7279\u5b9a\u306e\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u305f\u969b\u306b\u4f55\u304c\u3057\u304b\u306e\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u305d\u308c\u304c\u4f55\u306b\u8d77\u56e0\u3059\u308b\u3082\u306e\u3067\u3042\u308b\u306e\u304b\u3092\u7279\u5b9a\u3059\u308b\u306e\u306f\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u7b2c\u4e00\u6b69\u3067\u3059\u3002\n\n\n\u6b8b\u5ff5\u306a\u304c\u3089\u3001PostgreSQL\u958b\u767a\u8005\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3068\u6bd4\u3079PG-Strom\u306e\u958b\u767a\u8005\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306f\u975e\u5e38\u306b\u5c11\u306a\u3044\u6570\u306e\u958b\u767a\u8005\u306b\u3088\u3063\u3066\u652f\u3048\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u54c1\u8cea\u3084\u5b9f\u7e3e\u3068\u3044\u3063\u305f\u89b3\u70b9\u304b\u3089\u3001\u307e\u305aPG-Strom\u304c\u60aa\u3055\u3092\u3057\u3066\u3044\u306a\u3044\u304b\u7591\u3046\u306e\u306f\u59a5\u5f53\u306a\u5224\u65ad\u3067\u3059\u3002\n\n\nPG-Strom\u306e\u5168\u6a5f\u80fd\u3092\u4e00\u5ea6\u306b\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u306b\u306f\npg_strom.enabled\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u4e8b\u3067PG-Strom\u306f\u7121\u52b9\u5316\u3055\u308c\u3001\u6a19\u6e96\u306ePostgreSQL\u3068\u5168\u304f\u540c\u4e00\u306e\u72b6\u614b\u3068\u306a\u308a\u307e\u3059\u3002\n\u305d\u308c\u3067\u3082\u306a\u304a\u554f\u984c\u304c\u518d\u73fe\u3059\u308b\u304b\u3069\u3046\u304b\u306f\u4e00\u3064\u306e\u5224\u65ad\u6750\u6599\u3068\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n# SET pg_strom.enabled = off;\n\n\n\n\n\u3053\u306e\u4ed6\u306b\u3082\u3001GpuScan\u3001GpuJoin\u3001GpuPreAgg\u3068\u3044\u3063\u305f\u7279\u5b9a\u306e\u5b9f\u884c\u8a08\u753b\u306e\u307f\u3092\u7121\u52b9\u5316\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u3082\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u3053\u308c\u3089\u306e\u8a73\u7d30\u306f\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9/GPU\u30d1\u30e9\u30e1\u30fc\u30bf\n\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306e\u63a1\u53d6\n\n\n\u30b7\u30b9\u30c6\u30e0\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u3092\u5f15\u304d\u8d77\u3053\u3059\u3088\u3046\u306a\u91cd\u5927\u306a\u30c8\u30e9\u30d6\u30eb\u306e\u89e3\u6790\u306b\u306f\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306e\u63a1\u53d6\u304c\u6b20\u304b\u305b\u307e\u305b\u3093\u3002\n\u672c\u7bc0\u3067\u306f\u3001PostgreSQL\u3068PG-Strom\u30d7\u30ed\u30bb\u30b9\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7(CPU\u5074)\u3001\u304a\u3088\u3073PG-Strom\u306eGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7(GPU\u5074)\u3092\u53d6\u5f97\u3057\u3001\u969c\u5bb3\u767a\u751f\u6642\u306e\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u63a1\u53d6\u3059\u308b\u305f\u3081\u306e\u624b\u6bb5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\nPostgreSQL\u8d77\u52d5\u6642\u8a2d\u5b9a\u306e\u8ffd\u52a0\n\n\n\u30d7\u30ed\u30bb\u30b9\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u6642\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7(CPU\u5074)\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001PostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u304c\u751f\u6210\u3059\u308b\u4e8b\u306e\u3067\u304d\u308b core \u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u3092\u7121\u5236\u9650\u306b\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306fPostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u3092\u8d77\u52d5\u3059\u308b\u30b7\u30a7\u30eb\u4e0a\u3067\nulimit -c\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u5909\u66f4\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30a8\u30e9\u30fc\u6642\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7(GPU\u5074)\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001PostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u304c\u74b0\u5883\u5909\u6570\nCUDA_ENABLE_COREDUMP_ON_EXCEPTION\n\u306b\n1\n\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nsystemd\u304b\u3089PostgreSQL\u3092\u8d77\u52d5\u3059\u308b\u5834\u5408\u3001\n/etc/systemd/system/postgresql-\nversion\n.service.d/\n\u4ee5\u4e0b\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u3053\u308c\u3089\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\nRPM\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u306e\npg_strom.conf\n\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n[Service]\nLimitNOFILE=65536\nLimitCORE=infinity\n#Environment=CUDA_ENABLE_COREDUMP_ON_EXCEPTION=1\n\n\n\n\nCUDA9.1\u306b\u304a\u3044\u3066\u306f\u3001\u901a\u5e38\u3001GPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306e\u751f\u6210\u306b\u306f\u6570\u5206\u4ee5\u4e0a\u306e\u6642\u9593\u3092\u8981\u3057\u3001\u305d\u306e\u9593\u3001\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3057\u305fPostgreSQL\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u5fdc\u7b54\u306f\u5b8c\u5168\u306b\u505c\u6b62\u3057\u3066\u3057\u307e\u3057\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u306f\u7279\u5b9a\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u306b\u304a\u3044\u3066\u767a\u751f\u3059\u308bGPU\u30ab\u30fc\u30cd\u30eb\u306b\u8d77\u56e0\u3059\u308b\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u8abf\u67fb\u3092\u884c\u3046\u5834\u5408\u306b\u3060\u3051\u3001\nCUDA_ENABLE_COREDUMP_ON_EXCEPTION\n\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u4e8b\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\nRPM\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u304a\u3051\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u306f\u3001\nCUDA_ENABLE_COREDUMP_ON_EXCEPTION\n\u74b0\u5883\u5909\u6570\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nPostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u3001\nMax core file size\n\u304cunlimited\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n# cat /proc/\nPID of postmaster\n/limits\nLimit                     Soft Limit           Hard Limit           Units\n    :                         :                    :                  :\nMax core file size        unlimited            unlimited            bytes\n    :                         :                    :                  :\n\n\n\n\ndebuginfo\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u304b\u3089\u610f\u5473\u306e\u3042\u308b\u60c5\u5831\u3092\u8aad\u307f\u53d6\u308b\u306b\u306f\u30b7\u30f3\u30dc\u30eb\u60c5\u5831\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\u3053\u308c\u3089\u306f\n-debuginfo\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u683c\u7d0d\u3055\u308c\u3066\u304a\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bPostgreSQL\u304a\u3088\u3073PG-Strom\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5fdc\u3058\u3066\u305d\u308c\u305e\u308c\u8ffd\u52a0\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n# yum install postgresql10-debuginfo pg_strom-PG10-debuginfo\n            :\n================================================================================\n Package                  Arch    Version             Repository           Size\n================================================================================\nInstalling:\n pg_strom-PG10-debuginfo  x86_64  1.9-180301.el7      heterodb-debuginfo  766 k\n postgresql10-debuginfo   x86_64  10.3-1PGDG.rhel7    pgdg10              9.7 M\n\nTransaction Summary\n================================================================================\nInstall  2 Packages\n            :\nInstalled:\n  pg_strom-PG10-debuginfo.x86_64 0:1.9-180301.el7\n  postgresql10-debuginfo.x86_64 0:10.3-1PGDG.rhel7\n\nComplete!\n\n\n\n\nCPU\u5074\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u306e\u78ba\u8a8d\n\n\n\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306e\u4f5c\u6210\u3055\u308c\u308b\u30d1\u30b9\u306f\u3001\u30ab\u30fc\u30cd\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf\nkernel.core_pattern\n\u304a\u3088\u3073\nkernel.core_uses_pid\n\u306e\u5024\u306b\u3088\u3063\u3066\u6c7a\u307e\u308a\u307e\u3059\u3002\n\u901a\u5e38\u306f\u30d7\u30ed\u30bb\u30b9\u306e\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\u306e\u3067\u3001systemd\u304b\u3089PostgreSQL\u3092\u8d77\u52d5\u3057\u305f\u5834\u5408\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u304c\u69cb\u7bc9\u3055\u308c\u308b\n/var/lib/pgdata\n\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\ncore.\nPID\n\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\ngdb\n\u3092\u7528\u3044\u3066\u30af\u30e9\u30c3\u30b7\u30e5\u306b\u81f3\u308b\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\ngdb\n\u306e\n-c\n\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30b3\u30a2\u30d5\u30a1\u30a4\u30eb\u3092\u3001\n-f\n\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n# gdb -c /var/lib/pgdata/core.134680 -f /usr/pgsql-10/bin/postgres\nGNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-100.el7_4.1\n       :\n(gdb) bt\n#0  0x00007fb942af3903 in __epoll_wait_nocancel () from /lib64/libc.so.6\n#1  0x00000000006f71ae in WaitEventSetWaitBlock (nevents=1,\n    occurred_events=0x7ffee51e1d70, cur_timeout=-1, set=0x2833298)\n    at latch.c:1048\n#2  WaitEventSetWait (set=0x2833298, timeout=timeout@entry-1,\n    occurred_events=occurred_events@entry0x7ffee51e1d70,\n    nevents=nevents@entry1, wait_event_info=wait_event_info@entry100663296)\n    at latch.c:1000\n#3  0x00000000006210fb in secure_read (port=0x2876120,\n    ptr=0xcaa7e0 \nPqRecvBuffer\n, len=8192) at be-secure.c:166\n#4  0x000000000062b6e8 in pq_recvbuf () at pqcomm.c:963\n#5  0x000000000062c345 in pq_getbyte () at pqcomm.c:1006\n#6  0x0000000000718682 in SocketBackend (inBuf=0x7ffee51e1ef0)\n    at postgres.c:328\n#7  ReadCommand (inBuf=0x7ffee51e1ef0) at postgres.c:501\n#8  PostgresMain (argc=\noptimized out\n, argv=argv@entry0x287bb68,\n    dbname=0x28333f8 \npostgres\n, username=\noptimized out\n) at postgres.c:4030\n#9  0x000000000047adbc in BackendRun (port=0x2876120) at postmaster.c:4405\n#10 BackendStartup (port=0x2876120) at postmaster.c:4077\n#11 ServerLoop () at postmaster.c:1755\n#12 0x00000000006afb7f in PostmasterMain (argc=argc@entry3,\n    argv=argv@entry0x2831280) at postmaster.c:1363\n#13 0x000000000047bbef in main (argc=3, argv=0x2831280) at main.c:228\n\n\n\n\ngdb\u306e\nbt\n\u30b3\u30de\u30f3\u30c9\u3067\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3053\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u30af\u30a8\u30ea\u3092\u5f85\u3063\u3066\u3044\u308b\u72b6\u614b\u306ePostgreSQL\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\nSIGSEGV\n\u30b7\u30b0\u30ca\u30eb\u3092\u9001\u51fa\u3057\u3066\u30af\u30e9\u30c3\u30b7\u30e5\u3092\u5f15\u304d\u8d77\u3053\u3057\u305f\u305f\u3081\u3001\nWaitEventSetWait\n\u5ef6\u9577\u4e0a\u306e\n__epoll_wait_nocancel\n\u3067\u30d7\u30ed\u30bb\u30b9\u304c\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\nGPU\u5074\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u306e\u78ba\u8a8d\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306f\u3001\uff08\nCUDA_COREDUMP_FILE\n\u74b0\u5883\u5909\u6570\u3092\u7528\u3044\u3066\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\uff09PostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u306e\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u751f\u6210\u3055\u308c\u307e\u3059\u3002\nsystemd\u304b\u3089PostgreSQL\u3092\u8d77\u52d5\u3057\u305f\u5834\u5408\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u304c\u69cb\u7bc9\u3055\u308c\u308b\n/var/lib/pgdata\n\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u306e\u540d\u524d\u3067GPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\ncore_\ntimestamp\n_\nhostname\n_\nPID\n.nvcudmp\n\n\n\u306a\u304a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u306fGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306b\u306f\u30b7\u30f3\u30dc\u30eb\u60c5\u5831\u306a\u3069\u306e\u30c7\u30d0\u30c3\u30b0\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u306e\u72b6\u614b\u3067\u306f\u969c\u5bb3\u89e3\u6790\u3092\u884c\u3046\u4e8b\u306f\u307b\u3068\u3093\u3069\u4e0d\u53ef\u80fd\u3067\u3059\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3063\u3066PG-Strom\u304c\u751f\u6210\u3059\u308bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u30c7\u30d0\u30c3\u30b0\u60c5\u5831\u3092\u542b\u3081\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u305f\u3060\u3057\u3001\u3053\u306e\u8a2d\u5b9a\u306f\u5b9f\u884c\u6642\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u4f4e\u4e0b\u3055\u305b\u308b\u305f\u3081\u3001\u6052\u5e38\u7684\u306a\u4f7f\u7528\u306f\u975e\u63a8\u5968\u3067\u3059\u3002\n\u30c8\u30e9\u30d6\u30eb\u89e3\u6790\u6642\u306b\u3060\u3051\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nnvme=# set pg_strom.debug_jit_compile_options = on;\nSET\n\n\n\n\n\u751f\u6210\u3055\u308c\u305fGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\ncuda-gdb\n\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\n# /usr/local/cuda/bin/cuda-gdb\nNVIDIA (R) CUDA Debugger\n9.1 release\nPortions Copyright (C) 2007-2017 NVIDIA Corporation\n        :\nFor help, type \nhelp\n.\nType \napropos word\n to search for commands related to \nword\n.\n(cuda-gdb)\n\n\n\n\n\u5f15\u6570\u306a\u3057\u3067\ncuda-gdb\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u4e0a\u3067\ntarget\n\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u5148\u307b\u3069\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n\n(cuda-gdb) target cudacore /var/lib/pgdata/core_1521131828_magro.heterodb.com_216238.nvcudmp\nOpening GPU coredump: /var/lib/pgdata/core_1521131828_magro.heterodb.com_216238.nvcudmp\n[New Thread 216240]\n\nCUDA Exception: Warp Illegal Address\nThe exception was triggered at PC 0x7ff4dc82f930 (cuda_gpujoin.h:1159)\n[Current focus set to CUDA kernel 0, grid 1, block (0,0,0), thread (0,0,0), device 0, sm 0, warp 0, lane 0]\n#0  0x00007ff4dc82f938 in _INTERNAL_8_pg_strom_0124cb94::gpujoin_exec_hashjoin (kcxt=0x7ff4f7fffbf8, kgjoin=0x7fe9f4800078,\n    kmrels=0x7fe9f8800000, kds_src=0x7fe9f0800030, depth=3, rd_stack=0x7fe9f4806118, wr_stack=0x7fe9f480c118, l_state=0x7ff4f7fffc48,\n    matched=0x7ff4f7fffc7c \n) at /usr/pgsql-10/share/extension/cuda_gpujoin.h:1159\n1159            while (khitem \n khitem-\nhash != hash_value)\n\n\n\n\n\u3053\u306e\u72b6\u614b\u3067\nbt\n\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3001\u554f\u984c\u767a\u751f\u500b\u6240\u3078\u306e\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u63a1\u53d6\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n(cuda-gdb) bt\n#0  0x00007ff4dc82f938 in _INTERNAL_8_pg_strom_0124cb94::gpujoin_exec_hashjoin (kcxt=0x7ff4f7fffbf8, kgjoin=0x7fe9f4800078,\n    kmrels=0x7fe9f8800000, kds_src=0x7fe9f0800030, depth=3, rd_stack=0x7fe9f4806118, wr_stack=0x7fe9f480c118, l_state=0x7ff4f7fffc48,\n    matched=0x7ff4f7fffc7c \n) at /usr/pgsql-10/share/extension/cuda_gpujoin.h:1159\n#1  0x00007ff4dc9428f0 in gpujoin_main\n(30,1,1),(256,1,1)\n (kgjoin=0x7fe9f4800078, kmrels=0x7fe9f8800000, kds_src=0x7fe9f0800030,\n    kds_dst=0x7fe9e8800030, kparams_gpreagg=0x0) at /usr/pgsql-10/share/extension/cuda_gpujoin.h:1347\n\n\n\n\n\u3088\u308a\u8a73\u7d30\u306a\ncuda-gdb\n\u30b3\u30de\u30f3\u30c9\u306e\u5229\u7528\u6cd5\u306f\nCUDA Toolkit Documentation - CUDA-GDB\n\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002", 
            "title": "\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"
        }, 
        {
            "location": "/troubles/#_1", 
            "text": "\u7279\u5b9a\u306e\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u305f\u969b\u306b\u4f55\u304c\u3057\u304b\u306e\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u305d\u308c\u304c\u4f55\u306b\u8d77\u56e0\u3059\u308b\u3082\u306e\u3067\u3042\u308b\u306e\u304b\u3092\u7279\u5b9a\u3059\u308b\u306e\u306f\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u7b2c\u4e00\u6b69\u3067\u3059\u3002  \u6b8b\u5ff5\u306a\u304c\u3089\u3001PostgreSQL\u958b\u767a\u8005\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3068\u6bd4\u3079PG-Strom\u306e\u958b\u767a\u8005\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306f\u975e\u5e38\u306b\u5c11\u306a\u3044\u6570\u306e\u958b\u767a\u8005\u306b\u3088\u3063\u3066\u652f\u3048\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u54c1\u8cea\u3084\u5b9f\u7e3e\u3068\u3044\u3063\u305f\u89b3\u70b9\u304b\u3089\u3001\u307e\u305aPG-Strom\u304c\u60aa\u3055\u3092\u3057\u3066\u3044\u306a\u3044\u304b\u7591\u3046\u306e\u306f\u59a5\u5f53\u306a\u5224\u65ad\u3067\u3059\u3002  PG-Strom\u306e\u5168\u6a5f\u80fd\u3092\u4e00\u5ea6\u306b\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u306b\u306f pg_strom.enabled \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u4e8b\u3067PG-Strom\u306f\u7121\u52b9\u5316\u3055\u308c\u3001\u6a19\u6e96\u306ePostgreSQL\u3068\u5168\u304f\u540c\u4e00\u306e\u72b6\u614b\u3068\u306a\u308a\u307e\u3059\u3002\n\u305d\u308c\u3067\u3082\u306a\u304a\u554f\u984c\u304c\u518d\u73fe\u3059\u308b\u304b\u3069\u3046\u304b\u306f\u4e00\u3064\u306e\u5224\u65ad\u6750\u6599\u3068\u306a\u308b\u3067\u3057\u3087\u3046\u3002  # SET pg_strom.enabled = off;  \u3053\u306e\u4ed6\u306b\u3082\u3001GpuScan\u3001GpuJoin\u3001GpuPreAgg\u3068\u3044\u3063\u305f\u7279\u5b9a\u306e\u5b9f\u884c\u8a08\u753b\u306e\u307f\u3092\u7121\u52b9\u5316\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u3082\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002  \u3053\u308c\u3089\u306e\u8a73\u7d30\u306f \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9/GPU\u30d1\u30e9\u30e1\u30fc\u30bf \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002", 
            "title": "\u554f\u984c\u306e\u5207\u308a\u5206\u3051"
        }, 
        {
            "location": "/troubles/#_2", 
            "text": "\u30b7\u30b9\u30c6\u30e0\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u3092\u5f15\u304d\u8d77\u3053\u3059\u3088\u3046\u306a\u91cd\u5927\u306a\u30c8\u30e9\u30d6\u30eb\u306e\u89e3\u6790\u306b\u306f\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306e\u63a1\u53d6\u304c\u6b20\u304b\u305b\u307e\u305b\u3093\u3002\n\u672c\u7bc0\u3067\u306f\u3001PostgreSQL\u3068PG-Strom\u30d7\u30ed\u30bb\u30b9\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7(CPU\u5074)\u3001\u304a\u3088\u3073PG-Strom\u306eGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7(GPU\u5074)\u3092\u53d6\u5f97\u3057\u3001\u969c\u5bb3\u767a\u751f\u6642\u306e\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u63a1\u53d6\u3059\u308b\u305f\u3081\u306e\u624b\u6bb5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002", 
            "title": "\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306e\u63a1\u53d6"
        }, 
        {
            "location": "/troubles/#postgresql", 
            "text": "\u30d7\u30ed\u30bb\u30b9\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u6642\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7(CPU\u5074)\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001PostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u304c\u751f\u6210\u3059\u308b\u4e8b\u306e\u3067\u304d\u308b core \u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u3092\u7121\u5236\u9650\u306b\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306fPostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u3092\u8d77\u52d5\u3059\u308b\u30b7\u30a7\u30eb\u4e0a\u3067 ulimit -c \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u5909\u66f4\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  GPU\u30ab\u30fc\u30cd\u30eb\u306e\u30a8\u30e9\u30fc\u6642\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7(GPU\u5074)\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001PostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u304c\u74b0\u5883\u5909\u6570 CUDA_ENABLE_COREDUMP_ON_EXCEPTION \u306b 1 \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  systemd\u304b\u3089PostgreSQL\u3092\u8d77\u52d5\u3059\u308b\u5834\u5408\u3001 /etc/systemd/system/postgresql- version .service.d/ \u4ee5\u4e0b\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u3053\u308c\u3089\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  RPM\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u306e pg_strom.conf \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002  [Service]\nLimitNOFILE=65536\nLimitCORE=infinity\n#Environment=CUDA_ENABLE_COREDUMP_ON_EXCEPTION=1  CUDA9.1\u306b\u304a\u3044\u3066\u306f\u3001\u901a\u5e38\u3001GPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306e\u751f\u6210\u306b\u306f\u6570\u5206\u4ee5\u4e0a\u306e\u6642\u9593\u3092\u8981\u3057\u3001\u305d\u306e\u9593\u3001\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3057\u305fPostgreSQL\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u5fdc\u7b54\u306f\u5b8c\u5168\u306b\u505c\u6b62\u3057\u3066\u3057\u307e\u3057\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u306f\u7279\u5b9a\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u306b\u304a\u3044\u3066\u767a\u751f\u3059\u308bGPU\u30ab\u30fc\u30cd\u30eb\u306b\u8d77\u56e0\u3059\u308b\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u8abf\u67fb\u3092\u884c\u3046\u5834\u5408\u306b\u3060\u3051\u3001 CUDA_ENABLE_COREDUMP_ON_EXCEPTION \u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u4e8b\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\nRPM\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u304a\u3051\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u306f\u3001 CUDA_ENABLE_COREDUMP_ON_EXCEPTION \u74b0\u5883\u5909\u6570\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3044\u307e\u3059\u3002  PostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u3001 Max core file size \u304cunlimited\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002  \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  # cat /proc/ PID of postmaster /limits\nLimit                     Soft Limit           Hard Limit           Units\n    :                         :                    :                  :\nMax core file size        unlimited            unlimited            bytes\n    :                         :                    :                  :", 
            "title": "PostgreSQL\u8d77\u52d5\u6642\u8a2d\u5b9a\u306e\u8ffd\u52a0"
        }, 
        {
            "location": "/troubles/#debuginfo", 
            "text": "\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u304b\u3089\u610f\u5473\u306e\u3042\u308b\u60c5\u5831\u3092\u8aad\u307f\u53d6\u308b\u306b\u306f\u30b7\u30f3\u30dc\u30eb\u60c5\u5831\u304c\u5fc5\u8981\u3067\u3059\u3002  \u3053\u308c\u3089\u306f -debuginfo \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u683c\u7d0d\u3055\u308c\u3066\u304a\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bPostgreSQL\u304a\u3088\u3073PG-Strom\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5fdc\u3058\u3066\u305d\u308c\u305e\u308c\u8ffd\u52a0\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002  # yum install postgresql10-debuginfo pg_strom-PG10-debuginfo\n            :\n================================================================================\n Package                  Arch    Version             Repository           Size\n================================================================================\nInstalling:\n pg_strom-PG10-debuginfo  x86_64  1.9-180301.el7      heterodb-debuginfo  766 k\n postgresql10-debuginfo   x86_64  10.3-1PGDG.rhel7    pgdg10              9.7 M\n\nTransaction Summary\n================================================================================\nInstall  2 Packages\n            :\nInstalled:\n  pg_strom-PG10-debuginfo.x86_64 0:1.9-180301.el7\n  postgresql10-debuginfo.x86_64 0:10.3-1PGDG.rhel7\n\nComplete!", 
            "title": "debuginfo\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/troubles/#cpu", 
            "text": "\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306e\u4f5c\u6210\u3055\u308c\u308b\u30d1\u30b9\u306f\u3001\u30ab\u30fc\u30cd\u30eb\u30d1\u30e9\u30e1\u30fc\u30bf kernel.core_pattern \u304a\u3088\u3073 kernel.core_uses_pid \u306e\u5024\u306b\u3088\u3063\u3066\u6c7a\u307e\u308a\u307e\u3059\u3002\n\u901a\u5e38\u306f\u30d7\u30ed\u30bb\u30b9\u306e\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\u306e\u3067\u3001systemd\u304b\u3089PostgreSQL\u3092\u8d77\u52d5\u3057\u305f\u5834\u5408\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u304c\u69cb\u7bc9\u3055\u308c\u308b /var/lib/pgdata \u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002  core. PID \u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001 gdb \u3092\u7528\u3044\u3066\u30af\u30e9\u30c3\u30b7\u30e5\u306b\u81f3\u308b\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002  gdb \u306e -c \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30b3\u30a2\u30d5\u30a1\u30a4\u30eb\u3092\u3001 -f \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002  # gdb -c /var/lib/pgdata/core.134680 -f /usr/pgsql-10/bin/postgres\nGNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-100.el7_4.1\n       :\n(gdb) bt\n#0  0x00007fb942af3903 in __epoll_wait_nocancel () from /lib64/libc.so.6\n#1  0x00000000006f71ae in WaitEventSetWaitBlock (nevents=1,\n    occurred_events=0x7ffee51e1d70, cur_timeout=-1, set=0x2833298)\n    at latch.c:1048\n#2  WaitEventSetWait (set=0x2833298, timeout=timeout@entry-1,\n    occurred_events=occurred_events@entry0x7ffee51e1d70,\n    nevents=nevents@entry1, wait_event_info=wait_event_info@entry100663296)\n    at latch.c:1000\n#3  0x00000000006210fb in secure_read (port=0x2876120,\n    ptr=0xcaa7e0  PqRecvBuffer , len=8192) at be-secure.c:166\n#4  0x000000000062b6e8 in pq_recvbuf () at pqcomm.c:963\n#5  0x000000000062c345 in pq_getbyte () at pqcomm.c:1006\n#6  0x0000000000718682 in SocketBackend (inBuf=0x7ffee51e1ef0)\n    at postgres.c:328\n#7  ReadCommand (inBuf=0x7ffee51e1ef0) at postgres.c:501\n#8  PostgresMain (argc= optimized out , argv=argv@entry0x287bb68,\n    dbname=0x28333f8  postgres , username= optimized out ) at postgres.c:4030\n#9  0x000000000047adbc in BackendRun (port=0x2876120) at postmaster.c:4405\n#10 BackendStartup (port=0x2876120) at postmaster.c:4077\n#11 ServerLoop () at postmaster.c:1755\n#12 0x00000000006afb7f in PostmasterMain (argc=argc@entry3,\n    argv=argv@entry0x2831280) at postmaster.c:1363\n#13 0x000000000047bbef in main (argc=3, argv=0x2831280) at main.c:228  gdb\u306e bt \u30b3\u30de\u30f3\u30c9\u3067\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3053\u306e\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089\u306e\u30af\u30a8\u30ea\u3092\u5f85\u3063\u3066\u3044\u308b\u72b6\u614b\u306ePostgreSQL\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b SIGSEGV \u30b7\u30b0\u30ca\u30eb\u3092\u9001\u51fa\u3057\u3066\u30af\u30e9\u30c3\u30b7\u30e5\u3092\u5f15\u304d\u8d77\u3053\u3057\u305f\u305f\u3081\u3001 WaitEventSetWait \u5ef6\u9577\u4e0a\u306e __epoll_wait_nocancel \u3067\u30d7\u30ed\u30bb\u30b9\u304c\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002", 
            "title": "CPU\u5074\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u306e\u78ba\u8a8d"
        }, 
        {
            "location": "/troubles/#gpu", 
            "text": "GPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306f\u3001\uff08 CUDA_COREDUMP_FILE \u74b0\u5883\u5909\u6570\u3092\u7528\u3044\u3066\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\uff09PostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u306e\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u751f\u6210\u3055\u308c\u307e\u3059\u3002\nsystemd\u304b\u3089PostgreSQL\u3092\u8d77\u52d5\u3057\u305f\u5834\u5408\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u304c\u69cb\u7bc9\u3055\u308c\u308b /var/lib/pgdata \u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4ee5\u4e0b\u306e\u540d\u524d\u3067GPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002  core_ timestamp _ hostname _ PID .nvcudmp  \u306a\u304a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u306fGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u306b\u306f\u30b7\u30f3\u30dc\u30eb\u60c5\u5831\u306a\u3069\u306e\u30c7\u30d0\u30c3\u30b0\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u306e\u72b6\u614b\u3067\u306f\u969c\u5bb3\u89e3\u6790\u3092\u884c\u3046\u4e8b\u306f\u307b\u3068\u3093\u3069\u4e0d\u53ef\u80fd\u3067\u3059\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3063\u3066PG-Strom\u304c\u751f\u6210\u3059\u308bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u30c7\u30d0\u30c3\u30b0\u60c5\u5831\u3092\u542b\u3081\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \u305f\u3060\u3057\u3001\u3053\u306e\u8a2d\u5b9a\u306f\u5b9f\u884c\u6642\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u4f4e\u4e0b\u3055\u305b\u308b\u305f\u3081\u3001\u6052\u5e38\u7684\u306a\u4f7f\u7528\u306f\u975e\u63a8\u5968\u3067\u3059\u3002\n\u30c8\u30e9\u30d6\u30eb\u89e3\u6790\u6642\u306b\u3060\u3051\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002  nvme=# set pg_strom.debug_jit_compile_options = on;\nSET  \u751f\u6210\u3055\u308c\u305fGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f cuda-gdb \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002  # /usr/local/cuda/bin/cuda-gdb\nNVIDIA (R) CUDA Debugger\n9.1 release\nPortions Copyright (C) 2007-2017 NVIDIA Corporation\n        :\nFor help, type  help .\nType  apropos word  to search for commands related to  word .\n(cuda-gdb)  \u5f15\u6570\u306a\u3057\u3067 cuda-gdb \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001\u30d7\u30ed\u30f3\u30d7\u30c8\u4e0a\u3067 target \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u5148\u307b\u3069\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u30c0\u30f3\u30d7\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002  (cuda-gdb) target cudacore /var/lib/pgdata/core_1521131828_magro.heterodb.com_216238.nvcudmp\nOpening GPU coredump: /var/lib/pgdata/core_1521131828_magro.heterodb.com_216238.nvcudmp\n[New Thread 216240]\n\nCUDA Exception: Warp Illegal Address\nThe exception was triggered at PC 0x7ff4dc82f930 (cuda_gpujoin.h:1159)\n[Current focus set to CUDA kernel 0, grid 1, block (0,0,0), thread (0,0,0), device 0, sm 0, warp 0, lane 0]\n#0  0x00007ff4dc82f938 in _INTERNAL_8_pg_strom_0124cb94::gpujoin_exec_hashjoin (kcxt=0x7ff4f7fffbf8, kgjoin=0x7fe9f4800078,\n    kmrels=0x7fe9f8800000, kds_src=0x7fe9f0800030, depth=3, rd_stack=0x7fe9f4806118, wr_stack=0x7fe9f480c118, l_state=0x7ff4f7fffc48,\n    matched=0x7ff4f7fffc7c  ) at /usr/pgsql-10/share/extension/cuda_gpujoin.h:1159\n1159            while (khitem   khitem- hash != hash_value)  \u3053\u306e\u72b6\u614b\u3067 bt \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3001\u554f\u984c\u767a\u751f\u500b\u6240\u3078\u306e\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u63a1\u53d6\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  (cuda-gdb) bt\n#0  0x00007ff4dc82f938 in _INTERNAL_8_pg_strom_0124cb94::gpujoin_exec_hashjoin (kcxt=0x7ff4f7fffbf8, kgjoin=0x7fe9f4800078,\n    kmrels=0x7fe9f8800000, kds_src=0x7fe9f0800030, depth=3, rd_stack=0x7fe9f4806118, wr_stack=0x7fe9f480c118, l_state=0x7ff4f7fffc48,\n    matched=0x7ff4f7fffc7c  ) at /usr/pgsql-10/share/extension/cuda_gpujoin.h:1159\n#1  0x00007ff4dc9428f0 in gpujoin_main (30,1,1),(256,1,1)  (kgjoin=0x7fe9f4800078, kmrels=0x7fe9f8800000, kds_src=0x7fe9f0800030,\n    kds_dst=0x7fe9e8800030, kparams_gpreagg=0x0) at /usr/pgsql-10/share/extension/cuda_gpujoin.h:1347  \u3088\u308a\u8a73\u7d30\u306a cuda-gdb \u30b3\u30de\u30f3\u30c9\u306e\u5229\u7528\u6cd5\u306f CUDA Toolkit Documentation - CUDA-GDB \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002", 
            "title": "GPU\u5074\u30d0\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u306e\u78ba\u8a8d"
        }, 
        {
            "location": "/ssd2gpu/", 
            "text": "SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\n\n\n\n\u6982\u8981\n\n\nSQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u9ad8\u901f\u306b\u51e6\u7406\u3059\u308b\u306b\u306f\u3001\u30d7\u30ed\u30bb\u30c3\u30b5\u304c\u52b9\u7387\u3088\u304f\u51e6\u7406\u3092\u884c\u3046\u306e\u3068\u540c\u69d8\u306b\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3084\u30e1\u30e2\u30ea\u304b\u3089\u30d7\u30ed\u30bb\u30c3\u30b5\u3078\u9ad8\u901f\u306b\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u4e8b\u304c\u91cd\u8981\u3067\u3059\u3002\u51e6\u7406\u3059\u3079\u304d\u30c7\u30fc\u30bf\u304c\u30d7\u30ed\u30bb\u30c3\u30b5\u306b\u5c4a\u3044\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u30d7\u30ed\u30bb\u30c3\u30b5\u306f\u624b\u6301\u3061\u7121\u6c99\u6c70\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u6a5f\u80fd\u306f\u3001PCIe\u30d0\u30b9\u306b\u76f4\u7d50\u3059\u308b\u4e8b\u3067\u9ad8\u901f\u306aI/O\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308bNVMe-SSD\u3068\u3001\u540c\u3058PCIe\u30d0\u30b9\u4e0a\u306b\u63a5\u7d9a\u3055\u308c\u305fGPU\u3092\u30c0\u30a4\u30ec\u30af\u30c8\u306b\u63a5\u7d9a\u3057\u3001\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u9650\u754c\u306b\u8fd1\u3044\u901f\u5ea6\u3067\u30c7\u30fc\u30bf\u3092\u30d7\u30ed\u30bb\u30c3\u30b5\u306b\u4f9b\u7d66\u3059\u308b\u4e8b\u3067SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u9ad8\u901f\u306b\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002\n\n\n\u901a\u5e38\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306b\u683c\u7d0d\u3055\u308c\u305fPostgreSQL\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306f\u3001PCIe\u30d0\u30b9\u3092\u901a\u3057\u3066\u3044\u3063\u305f\u3093CPU/RAM\u3078\u3068\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u30af\u30a8\u30ea\u5b9f\u884c\u8a08\u753b\u306b\u3057\u305f\u304c\u3063\u3066WHERE\u53e5\u306b\u3088\u308b\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3084JOIN/GROUP BY\u3068\u3044\u3063\u305f\u51e6\u7406\u3092\u884c\u3046\u308f\u3051\u3067\u3059\u304c\u3001\u96c6\u8a08\u7cfb\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u7279\u6027\u4e0a\u3001\u5165\u529b\u3059\u308b\u30c7\u30fc\u30bf\u4ef6\u6570\u3088\u308a\u51fa\u529b\u3059\u308b\u30c7\u30fc\u30bf\u4ef6\u6570\u306e\u65b9\u304c\u306f\u308b\u304b\u306b\u5c11\u306a\u3044\u4ef6\u6570\u3068\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u6570\u5341\u5104\u884c\u3092\u8aad\u307f\u51fa\u3057\u305f\u7d50\u679c\u3092GROUP BY\u3067\u96c6\u7d04\u3057\u305f\u7d50\u679c\u304c\u9ad8\u3005\u6570\u767e\u884c\u3068\u3044\u3046\u4e8b\u3082\u73cd\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\u8a00\u3044\u63db\u3048\u308c\u3070\u3001\u6211\u3005\u306f\u30b4\u30df\u30c7\u30fc\u30bf\u3092\u904b\u3076\u305f\u3081\u306bPCIe\u30d0\u30b9\u4e0a\u306e\u5e2f\u57df\u3092\u6d88\u8cbb\u3057\u3066\u3044\u308b\u3068\u3082\u8a00\u3048\u307e\u3059\u304c\u3001CPU\u304c\u30ec\u30b3\u30fc\u30c9\u306e\u4e2d\u8eab\u3092\u8abf\u3079\u308b\u307e\u3067\u306f\u3001\u305d\u306e\u8981\u4e0d\u8981\u3092\u5224\u65ad\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u4e00\u822c\u7684\u306a\u5b9f\u88c5\u3067\u306f\u3053\u308c\u306f\u4e0d\u53ef\u907f\u3068\u8a00\u3048\u307e\u3059\u3002\n\n\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306f\u30c7\u30fc\u30bf\u306e\u6d41\u308c\u3092\u5909\u3048\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092PCIe\u30d0\u30b9\u4e0a\u306eP2P DMA\u3092\u7528\u3044\u3066GPU\u306b\u76f4\u63a5\u8ee2\u9001\u3057\u3001GPU\u3067SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u51e6\u7406\u3059\u308b\u4e8b\u3067CPU\u304c\u51e6\u7406\u3059\u3079\u304d\u30ec\u30b3\u30fc\u30c9\u6570\u3092\u6e1b\u3089\u3059\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002\u3044\u308f\u3070\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3068CPU/RAM\u306e\u9593\u306b\u4f4d\u7f6e\u3057\u3066SQL\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u3068\u3057\u3066GPU\u3092\u6d3b\u7528\u3057\u3001\u7d50\u679c\u3068\u3057\u3066I/O\u51e6\u7406\u3092\u9ad8\u901f\u5316\u3059\u308b\u305f\u3081\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3059\u3002\n\n\n\u672c\u6a5f\u80fd\u306f\u5185\u90e8\u7684\u306bNVIDIA\u306eGPUDirect RDMA\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u30ab\u30b9\u30bf\u30e0Linux kernel module\u3092\u5229\u7528\u3059\u308b\u4e8b\u3067\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3068\u4ed6\u306ePCIe\u30c7\u30d0\u30a4\u30b9\u306e\u9593\u3067P2P\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u3092\u53ef\u80fd\u306b\u3059\u308b\u57fa\u76e4\u6280\u8853\u3067\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u672c\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001PostgreSQL\u306e\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308bPG-Strom\u3060\u3051\u3067\u306f\u306a\u304f\u3001Linux kernel\u306e\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308bNVMe-Strom\u30c9\u30e9\u30a4\u30d0\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\u307e\u305f\u3001\u672c\u6a5f\u80fd\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u306e\u306fNVMe\u4ed5\u69d8\u306eSSD\u306e\u307f\u3067\u3059\u3002SAS\u3084SATA\u3068\u3044\u3063\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u63a5\u7d9a\u3055\u308c\u305fSSD\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u4eca\u307e\u3067\u306b\u52d5\u4f5c\u5b9f\u7e3e\u306e\u3042\u308bNVMe-SSD\u306b\u3064\u3044\u3066\u306f \n002: HW Validation List\n \u304c\u53c2\u8003\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n\u521d\u671f\u8a2d\u5b9a\n\n\n\u30c9\u30e9\u30a4\u30d0\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u306b\u306f\nnvme_strom\n\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306fNVMe-SSD\u3068GPU\u9593\u306eP2P DMA\u3092\u4ef2\u4ecb\u3059\u308bLinux kernel module\u3092\u542b\u3093\u3067\u304a\u308a\u3001\nHeteroDB Software Distribution Center\n\u304b\u3089\u5165\u624b\u53ef\u80fd\u3067\u3059\u3002\n\n\n\u65e2\u306b\nheterodb-swdc\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u3001\nyum\n\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n\n$ sudo yum install nvme_strom\n            :\n================================================================================\n Package             Arch            Version            Repository         Size\n================================================================================\nInstalling:\n nvme_strom          x86_64          0.8-1.el7          heterodb          178 k\n\nTransaction Summary\n================================================================================\nInstall  1 Package\n            :\nDKMS: install completed.\n  Verifying  : nvme_strom-0.8-1.el7.x86_64                                  1/1\n\nInstalled:\n  nvme_strom.x86_64 0:0.8-1.el7\n\nComplete!\n\n\n\n\nnvme_strom\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\nlsmod\n\u30b3\u30de\u30f3\u30c9\u3067\nnvme_strom\n\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n\n$ lsmod | grep nvme\nnvme_strom             12625  0\nnvme                   27722  4\nnvme_core              52964  9 nvme\n\n\n\n\n\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u306e\u8a2d\u8a08\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306f\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u767a\u52d5\u3057\u307e\u3059\u3002\n\n\n\n\n\u30b9\u30ad\u30e3\u30f3\u5bfe\u8c61\u306e\u30c6\u30fc\u30d6\u30eb\u304cNVMe-SSD\u3067\u69cb\u6210\u3055\u308c\u305f\u533a\u753b\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u3002\n\n\n/dev/nvmeXXXX\n\u30d6\u30ed\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u3001\u307e\u305f\u306f\n/dev/nvmeXXXX\n\u30d6\u30ed\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u306e\u307f\u304b\u3089\u69cb\u6210\u3055\u308c\u305fmd-raid0\u533a\u753b\u304c\u5bfe\u8c61\u3067\u3059\u3002\n\n\n\n\n\n\n\u30c6\u30fc\u30d6\u30eb\u30b5\u30a4\u30ba\u304c\npg_strom.nvme_strom_threshold\n\u3088\u308a\u3082\u5927\u304d\u3044\u4e8b\u3002\n\n\n\u3053\u306e\u8a2d\u5b9a\u5024\u306f\u4efb\u610f\u306b\u5909\u66f4\u53ef\u80fd\u3067\u3059\u304c\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u672c\u4f53\u642d\u8f09\u7269\u7406\u30e1\u30e2\u30ea\u306b\nshared_buffers\n\u306e\u8a2d\u5b9a\u5024\u306e1/3\u3092\u52a0\u3048\u305f\u5927\u304d\u3055\u3067\u3059\u3002\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nmd-raid0\u3092\u7528\u3044\u3066\u8907\u6570\u306eNVMe-SSD\u533a\u753b\u304b\u3089\u30b9\u30c8\u30e9\u30a4\u30d4\u30f3\u30b0\u8aad\u51fa\u3057\u3092\u884c\u3046\u306b\u306f\u3001HeteroDB\u793e\u306e\u63d0\u4f9b\u3059\u308b\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306e\u9069\u7528\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\n\u30c6\u30fc\u30d6\u30eb\u3092NVMe-SSD\u3067\u69cb\u6210\u3055\u308c\u305f\u533a\u753b\u306b\u914d\u7f6e\u3059\u308b\u306b\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u5168\u4f53\u3092NVMe-SSD\u30dc\u30ea\u30e5\u30fc\u30e0\u306b\u683c\u7d0d\u3059\u308b\u4ee5\u5916\u306b\u3082\u3001PostgreSQL\u306e\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u6a5f\u80fd\u3092\u7528\u3044\u3066\u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u3084\u7279\u5b9a\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u307f\u3092NVMe-SSD\u30dc\u30ea\u30e5\u30fc\u30e0\u306b\u914d\u7f6e\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u4f8b\u3048\u3070 \n/opt/nvme\n \u306bNVMe-SSD\u30dc\u30ea\u30e5\u30fc\u30e0\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\nPostgreSQL\u306e\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u306e\u6a29\u9650\u3067\u5f53\u8a72\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u66f8\u304d\u3067\u304d\u308b\u3088\u3046\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nCREATE TABLESPACE my_nvme LOCATION '/opt/nvme';\n\n\n\n\n\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u4e0a\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u3001\nCREATE TABLE\n\u69cb\u6587\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\nCREATE TABLE my_table (...) TABLESPACE my_nvme;\n\n\n\n\n\u3042\u308b\u3044\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u3092\u5909\u66f4\u3059\u308b\u306b\u306f\u3001\nALTER DATABASE\n\u69cb\u6587\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u3053\u306e\u5834\u5408\u3001\u65e2\u5b58\u30c6\u30fc\u30d6\u30eb\u306e\u914d\u7f6e\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u306f\u5909\u66f4\u3055\u308c\u306a\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nALTER DATABASE my_database SET TABLESPACE my_nvme;\n\n\n\n\n\u904b\u7528\n\n\nGUC\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308b\u5236\u5fa1\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306b\u95a2\u9023\u3059\u308bGUC\u30d1\u30e9\u30e1\u30fc\u30bf\u306f2\u3064\u3042\u308a\u307e\u3059\u3002\n\n\n\u4e00\u3064\u306f\npg_strom.nvme_strom_enabled\n\u3067\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8\u6a5f\u80fd\u306e\u6709\u52b9/\u7121\u52b9\u3092\u5358\u7d14\u306bon/off\u3057\u307e\u3059\u3002\n\u672c\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\noff\n\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30b5\u30a4\u30ba\u3084\u7269\u7406\u914d\u7f6e\u3068\u306f\u7121\u95a2\u4fc2\u306bSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306f\u4f7f\u7528\u3055\u308c\u307e\u305b\u3093\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\non\n\u3067\u3059\u3002\n\n\n\u3082\u3046\u4e00\u3064\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\npg_strom.nvme_strom_threshold\n\u3067\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u304c\u4f7f\u308f\u308c\u308b\u3079\u304d\u6700\u5c0f\u306e\u30c6\u30fc\u30d6\u30eb\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u7269\u7406\u914d\u7f6e\u304cNVMe-SSD\u533a\u753b\uff08\u307e\u305f\u306f\u3001NVMe-SSD\u306e\u307f\u3067\u69cb\u6210\u3055\u308c\u305fmd-raid0\u533a\u753b\uff09\u4e0a\u306b\u5b58\u5728\u3057\u3001\u304b\u3064\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30b5\u30a4\u30ba\u304c\u672c\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6307\u5b9a\u5024\u3088\u308a\u3082\u5927\u304d\u306a\u5834\u5408\u3001PG-Strom\u306fSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u672c\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u7269\u7406\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3068\nshared_buffers\n\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6307\u5b9a\u5024\u306e1/3\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u521d\u671f\u8a2d\u5b9a\u3067\u306f\u9593\u9055\u3044\u306a\u304f\u30aa\u30f3\u30e1\u30e2\u30ea\u3067\u51e6\u7406\u3057\u304d\u308c\u306a\u3044\u30b5\u30a4\u30ba\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u3060\u3051SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u884c\u3046\u3088\u3046\u8abf\u6574\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u3053\u308c\u306f\u3001\u4e00\u56de\u306e\u8aad\u307f\u51fa\u3057\u3067\u3042\u308c\u3070SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306b\u512a\u4f4d\u6027\u304c\u3042\u3063\u305f\u3068\u3057\u3066\u3082\u3001\u30aa\u30f3\u30e1\u30e2\u30ea\u51e6\u7406\u304c\u3067\u304d\u308b\u7a0b\u5ea6\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u306f\u3001\u4e8c\u56de\u76ee\u4ee5\u964d\u306e\u30c7\u30a3\u30b9\u30af\u30ad\u30e3\u30c3\u30b7\u30e5\u5229\u7528\u3092\u8003\u616e\u3059\u308b\u3068\u3001\u5fc5\u305a\u3057\u3082\u512a\u4f4d\u3068\u306f\u8a00\u3048\u306a\u3044\u3068\u3044\u3046\u4eee\u5b9a\u306b\u7acb\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002\n\n\n\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u7279\u6027\u306b\u3088\u3063\u3066\u306f\u5fc5\u305a\u3057\u3082\u3053\u306e\u8a2d\u5b9a\u304c\u6b63\u3057\u3044\u3068\u306f\u9650\u308a\u307e\u305b\u3093\u3002\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306e\u5229\u7528\u3092\u78ba\u8a8d\u3059\u308b\n\n\nEXPLAIN\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u5f53\u8a72\u30af\u30a8\u30ea\u3067SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u304c\u5229\u7528\u3055\u308c\u308b\u306e\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u30af\u30a8\u30ea\u306e\u4f8b\u3067\u306f\u3001\nCustom Scan (GpuJoin)\n\u306b\u3088\u308b\nlineorder\n\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u306b\nNVMe-Strom: enabled\n\u3068\u306e\u8868\u793a\u304c\u51fa\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001\nlineorder\n\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u306e\u8aad\u51fa\u3057\u306b\u306fSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u304c\u5229\u7528\u3055\u308c\u307e\u3059\u3002\n\n\n# explain (costs off)\nselect sum(lo_revenue), d_year, p_brand1\nfrom lineorder, date1, part, supplier\nwhere lo_orderdate = d_datekey\nand lo_partkey = p_partkey\nand lo_suppkey = s_suppkey\nand p_category = 'MFGR#12'\nand s_region = 'AMERICA'\n  group by d_year, p_brand1\n  order by d_year, p_brand1;\n                                          QUERY PLAN\n----------------------------------------------------------------------------------------------\n GroupAggregate\n   Group Key: date1.d_year, part.p_brand1\n   -\n  Sort\n         Sort Key: date1.d_year, part.p_brand1\n         -\n  Custom Scan (GpuPreAgg)\n               Reduction: Local\n               GPU Projection: pgstrom.psum((lo_revenue)::double precision), d_year, p_brand1\n               Combined GpuJoin: enabled\n               -\n  Custom Scan (GpuJoin) on lineorder\n                     GPU Projection: date1.d_year, part.p_brand1, lineorder.lo_revenue\n                     Outer Scan: lineorder\n                     Depth 1: GpuHashJoin  (nrows 2406009600...97764190)\n                              HashKeys: lineorder.lo_partkey\n                              JoinQuals: (lineorder.lo_partkey = part.p_partkey)\n                              KDS-Hash (size: 10.67MB)\n                     Depth 2: GpuHashJoin  (nrows 97764190...18544060)\n                              HashKeys: lineorder.lo_suppkey\n                              JoinQuals: (lineorder.lo_suppkey = supplier.s_suppkey)\n                              KDS-Hash (size: 131.59MB)\n                     Depth 3: GpuHashJoin  (nrows 18544060...18544060)\n                              HashKeys: lineorder.lo_orderdate\n                              JoinQuals: (lineorder.lo_orderdate = date1.d_datekey)\n                              KDS-Hash (size: 461.89KB)\n                     NVMe-Strom: enabled\n                     -\n  Custom Scan (GpuScan) on part\n                           GPU Projection: p_brand1, p_partkey\n                           GPU Filter: (p_category = 'MFGR#12'::bpchar)\n                     -\n  Custom Scan (GpuScan) on supplier\n                           GPU Projection: s_suppkey\n                           GPU Filter: (s_region = 'AMERICA'::bpchar)\n                     -\n  Seq Scan on date1\n(31 rows)\n\n\n\n\nVisibility Map\u306b\u95a2\u3059\u308b\u6ce8\u610f\u4e8b\u9805\n\n\n\u73fe\u5728\u306e\u3068\u3053\u308d\u3001PG-Strom\u306eGPU\u5074\u51e6\u7406\u3067\u306f\u884c\u5358\u4f4d\u306eMVCC\u53ef\u8996\u6027\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u53ef\u8996\u6027\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u305f\u3081\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u304c\u30db\u30b9\u30c8\u5074\u3060\u3051\u306b\u5b58\u5728\u3059\u308b\u305f\u3081\u3067\u3059\u304c\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d6\u30ed\u30c3\u30af\u3092\u76f4\u63a5GPU\u306b\u8ee2\u9001\u3059\u308b\u5834\u5408\u3001\u5c11\u3005\u5384\u4ecb\u306a\u554f\u984c\u304c\u751f\u3058\u307e\u3059\u3002\n\n\nNVMe-SSD\u306bP2P DMA\u3092\u8981\u6c42\u3059\u308b\u6642\u70b9\u3067\u306f\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5bb9\u306f\u307e\u3060CPU/RAM\u3078\u3068\u8aad\u307f\u51fa\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u5177\u4f53\u7684\u306b\u3069\u306e\u884c\u304c\u53ef\u8996\u3067\u3042\u308b\u306e\u304b\u3001\u3069\u306e\u884c\u304c\u4e0d\u53ef\u8996\u3067\u3042\u308b\u306e\u304b\u3092\u5224\u5225\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001PostgreSQL\u304c\u30ec\u30b3\u30fc\u30c9\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u66f8\u304d\u51fa\u3059\u969b\u306bMVCC\u95a2\u9023\u306e\u5c5e\u6027\u3068\u5171\u306b\u66f8\u304d\u8fbc\u3093\u3067\u3044\u308b\u305f\u3081\u3067\u3001\u4f3c\u305f\u3088\u3046\u306a\u554f\u984c\u304cIndexOnlyScan\u3092\u5b9f\u88c5\u3059\u308b\u969b\u306b\u8868\u9762\u5316\u3057\u307e\u3057\u305f\u3002\n\n\n\u3053\u308c\u306b\u5bfe\u51e6\u3059\u308b\u305f\u3081\u3001PostgreSQL\u306fVisibility Map\u3068\u547c\u3070\u308c\u308b\u30a4\u30f3\u30d5\u30e9\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u3042\u308b\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u4e2d\u306b\u5b58\u5728\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u304c\u5168\u3066\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304b\u3089\u53ef\u8996\u3067\u3042\u308b\u4e8b\u304c\u660e\u3089\u304b\u3067\u3042\u308c\u3070\u3001\u8a72\u5f53\u3059\u308b\u30d3\u30c3\u30c8\u3092\u7acb\u3066\u308b\u4e8b\u3067\u3001\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u8aad\u3080\u3053\u3068\u306a\u304f\u5f53\u8a72\u30d6\u30ed\u30c3\u30af\u306bMVCC\u4e0d\u53ef\u8996\u306a\u30ec\u30b3\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u304b\u5426\u304b\u3092\u5224\u5b9a\u3059\u308b\u4e8b\u3092\u53ef\u80fd\u3068\u3059\u308b\u3082\u306e\u3067\u3059\u3002\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306f\u3053\u306e\u30a4\u30f3\u30d5\u30e9\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001Visibility Map\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u304a\u308a\u3001\"all-visible\"\u3067\u3042\u308b\u30d6\u30ed\u30c3\u30af\u3060\u3051\u304cSSD-to-GPU P2P DMA\u3067\u8aad\u307f\u51fa\u3059\u3088\u3046\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u9001\u51fa\u3055\u308c\u307e\u3059\u3002\n\n\nVisibility Map\u306fVACUUM\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u4f5c\u6210\u3055\u308c\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u660e\u793a\u7684\u306bVACUUM\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u3067\u5f37\u5236\u7684\u306bVisibility Map\u3092\u69cb\u7bc9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\nVACUUM ANALYZE linerorder;", 
            "title": "SSDtoGPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c"
        }, 
        {
            "location": "/ssd2gpu/#_1", 
            "text": "SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u9ad8\u901f\u306b\u51e6\u7406\u3059\u308b\u306b\u306f\u3001\u30d7\u30ed\u30bb\u30c3\u30b5\u304c\u52b9\u7387\u3088\u304f\u51e6\u7406\u3092\u884c\u3046\u306e\u3068\u540c\u69d8\u306b\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3084\u30e1\u30e2\u30ea\u304b\u3089\u30d7\u30ed\u30bb\u30c3\u30b5\u3078\u9ad8\u901f\u306b\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u4e8b\u304c\u91cd\u8981\u3067\u3059\u3002\u51e6\u7406\u3059\u3079\u304d\u30c7\u30fc\u30bf\u304c\u30d7\u30ed\u30bb\u30c3\u30b5\u306b\u5c4a\u3044\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u30d7\u30ed\u30bb\u30c3\u30b5\u306f\u624b\u6301\u3061\u7121\u6c99\u6c70\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002  SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u6a5f\u80fd\u306f\u3001PCIe\u30d0\u30b9\u306b\u76f4\u7d50\u3059\u308b\u4e8b\u3067\u9ad8\u901f\u306aI/O\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308bNVMe-SSD\u3068\u3001\u540c\u3058PCIe\u30d0\u30b9\u4e0a\u306b\u63a5\u7d9a\u3055\u308c\u305fGPU\u3092\u30c0\u30a4\u30ec\u30af\u30c8\u306b\u63a5\u7d9a\u3057\u3001\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u9650\u754c\u306b\u8fd1\u3044\u901f\u5ea6\u3067\u30c7\u30fc\u30bf\u3092\u30d7\u30ed\u30bb\u30c3\u30b5\u306b\u4f9b\u7d66\u3059\u308b\u4e8b\u3067SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u9ad8\u901f\u306b\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002  \u901a\u5e38\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306b\u683c\u7d0d\u3055\u308c\u305fPostgreSQL\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306f\u3001PCIe\u30d0\u30b9\u3092\u901a\u3057\u3066\u3044\u3063\u305f\u3093CPU/RAM\u3078\u3068\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u30af\u30a8\u30ea\u5b9f\u884c\u8a08\u753b\u306b\u3057\u305f\u304c\u3063\u3066WHERE\u53e5\u306b\u3088\u308b\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3084JOIN/GROUP BY\u3068\u3044\u3063\u305f\u51e6\u7406\u3092\u884c\u3046\u308f\u3051\u3067\u3059\u304c\u3001\u96c6\u8a08\u7cfb\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u7279\u6027\u4e0a\u3001\u5165\u529b\u3059\u308b\u30c7\u30fc\u30bf\u4ef6\u6570\u3088\u308a\u51fa\u529b\u3059\u308b\u30c7\u30fc\u30bf\u4ef6\u6570\u306e\u65b9\u304c\u306f\u308b\u304b\u306b\u5c11\u306a\u3044\u4ef6\u6570\u3068\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u6570\u5341\u5104\u884c\u3092\u8aad\u307f\u51fa\u3057\u305f\u7d50\u679c\u3092GROUP BY\u3067\u96c6\u7d04\u3057\u305f\u7d50\u679c\u304c\u9ad8\u3005\u6570\u767e\u884c\u3068\u3044\u3046\u4e8b\u3082\u73cd\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002  \u8a00\u3044\u63db\u3048\u308c\u3070\u3001\u6211\u3005\u306f\u30b4\u30df\u30c7\u30fc\u30bf\u3092\u904b\u3076\u305f\u3081\u306bPCIe\u30d0\u30b9\u4e0a\u306e\u5e2f\u57df\u3092\u6d88\u8cbb\u3057\u3066\u3044\u308b\u3068\u3082\u8a00\u3048\u307e\u3059\u304c\u3001CPU\u304c\u30ec\u30b3\u30fc\u30c9\u306e\u4e2d\u8eab\u3092\u8abf\u3079\u308b\u307e\u3067\u306f\u3001\u305d\u306e\u8981\u4e0d\u8981\u3092\u5224\u65ad\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u4e00\u822c\u7684\u306a\u5b9f\u88c5\u3067\u306f\u3053\u308c\u306f\u4e0d\u53ef\u907f\u3068\u8a00\u3048\u307e\u3059\u3002   SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306f\u30c7\u30fc\u30bf\u306e\u6d41\u308c\u3092\u5909\u3048\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092PCIe\u30d0\u30b9\u4e0a\u306eP2P DMA\u3092\u7528\u3044\u3066GPU\u306b\u76f4\u63a5\u8ee2\u9001\u3057\u3001GPU\u3067SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u51e6\u7406\u3059\u308b\u4e8b\u3067CPU\u304c\u51e6\u7406\u3059\u3079\u304d\u30ec\u30b3\u30fc\u30c9\u6570\u3092\u6e1b\u3089\u3059\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002\u3044\u308f\u3070\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u3068CPU/RAM\u306e\u9593\u306b\u4f4d\u7f6e\u3057\u3066SQL\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306e\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u3068\u3057\u3066GPU\u3092\u6d3b\u7528\u3057\u3001\u7d50\u679c\u3068\u3057\u3066I/O\u51e6\u7406\u3092\u9ad8\u901f\u5316\u3059\u308b\u305f\u3081\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3059\u3002  \u672c\u6a5f\u80fd\u306f\u5185\u90e8\u7684\u306bNVIDIA\u306eGPUDirect RDMA\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u30ab\u30b9\u30bf\u30e0Linux kernel module\u3092\u5229\u7528\u3059\u308b\u4e8b\u3067\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3068\u4ed6\u306ePCIe\u30c7\u30d0\u30a4\u30b9\u306e\u9593\u3067P2P\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u3092\u53ef\u80fd\u306b\u3059\u308b\u57fa\u76e4\u6280\u8853\u3067\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u672c\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001PostgreSQL\u306e\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308bPG-Strom\u3060\u3051\u3067\u306f\u306a\u304f\u3001Linux kernel\u306e\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3042\u308bNVMe-Strom\u30c9\u30e9\u30a4\u30d0\u304c\u5fc5\u8981\u3067\u3059\u3002  \u307e\u305f\u3001\u672c\u6a5f\u80fd\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u306e\u306fNVMe\u4ed5\u69d8\u306eSSD\u306e\u307f\u3067\u3059\u3002SAS\u3084SATA\u3068\u3044\u3063\u305f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u63a5\u7d9a\u3055\u308c\u305fSSD\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u4eca\u307e\u3067\u306b\u52d5\u4f5c\u5b9f\u7e3e\u306e\u3042\u308bNVMe-SSD\u306b\u3064\u3044\u3066\u306f  002: HW Validation List  \u304c\u53c2\u8003\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002", 
            "title": "\u6982\u8981"
        }, 
        {
            "location": "/ssd2gpu/#_2", 
            "text": "", 
            "title": "\u521d\u671f\u8a2d\u5b9a"
        }, 
        {
            "location": "/ssd2gpu/#_3", 
            "text": "SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u306b\u306f nvme_strom \u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306fNVMe-SSD\u3068GPU\u9593\u306eP2P DMA\u3092\u4ef2\u4ecb\u3059\u308bLinux kernel module\u3092\u542b\u3093\u3067\u304a\u308a\u3001 HeteroDB Software Distribution Center \u304b\u3089\u5165\u624b\u53ef\u80fd\u3067\u3059\u3002  \u65e2\u306b heterodb-swdc \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u3001 yum \u30b3\u30de\u30f3\u30c9\u306b\u3088\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3082\u53ef\u80fd\u3067\u3059\u3002  $ sudo yum install nvme_strom\n            :\n================================================================================\n Package             Arch            Version            Repository         Size\n================================================================================\nInstalling:\n nvme_strom          x86_64          0.8-1.el7          heterodb          178 k\n\nTransaction Summary\n================================================================================\nInstall  1 Package\n            :\nDKMS: install completed.\n  Verifying  : nvme_strom-0.8-1.el7.x86_64                                  1/1\n\nInstalled:\n  nvme_strom.x86_64 0:0.8-1.el7\n\nComplete!  nvme_strom \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b lsmod \u30b3\u30de\u30f3\u30c9\u3067 nvme_strom \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002  $ lsmod | grep nvme\nnvme_strom             12625  0\nnvme                   27722  4\nnvme_core              52964  9 nvme", 
            "title": "\u30c9\u30e9\u30a4\u30d0\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"
        }, 
        {
            "location": "/ssd2gpu/#_4", 
            "text": "SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306f\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u767a\u52d5\u3057\u307e\u3059\u3002   \u30b9\u30ad\u30e3\u30f3\u5bfe\u8c61\u306e\u30c6\u30fc\u30d6\u30eb\u304cNVMe-SSD\u3067\u69cb\u6210\u3055\u308c\u305f\u533a\u753b\u306b\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u3002  /dev/nvmeXXXX \u30d6\u30ed\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u3001\u307e\u305f\u306f /dev/nvmeXXXX \u30d6\u30ed\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u306e\u307f\u304b\u3089\u69cb\u6210\u3055\u308c\u305fmd-raid0\u533a\u753b\u304c\u5bfe\u8c61\u3067\u3059\u3002    \u30c6\u30fc\u30d6\u30eb\u30b5\u30a4\u30ba\u304c pg_strom.nvme_strom_threshold \u3088\u308a\u3082\u5927\u304d\u3044\u4e8b\u3002  \u3053\u306e\u8a2d\u5b9a\u5024\u306f\u4efb\u610f\u306b\u5909\u66f4\u53ef\u80fd\u3067\u3059\u304c\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u672c\u4f53\u642d\u8f09\u7269\u7406\u30e1\u30e2\u30ea\u306b shared_buffers \u306e\u8a2d\u5b9a\u5024\u306e1/3\u3092\u52a0\u3048\u305f\u5927\u304d\u3055\u3067\u3059\u3002      Note  md-raid0\u3092\u7528\u3044\u3066\u8907\u6570\u306eNVMe-SSD\u533a\u753b\u304b\u3089\u30b9\u30c8\u30e9\u30a4\u30d4\u30f3\u30b0\u8aad\u51fa\u3057\u3092\u884c\u3046\u306b\u306f\u3001HeteroDB\u793e\u306e\u63d0\u4f9b\u3059\u308b\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u306e\u9069\u7528\u304c\u5fc5\u8981\u3067\u3059\u3002   \u30c6\u30fc\u30d6\u30eb\u3092NVMe-SSD\u3067\u69cb\u6210\u3055\u308c\u305f\u533a\u753b\u306b\u914d\u7f6e\u3059\u308b\u306b\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30af\u30e9\u30b9\u30bf\u5168\u4f53\u3092NVMe-SSD\u30dc\u30ea\u30e5\u30fc\u30e0\u306b\u683c\u7d0d\u3059\u308b\u4ee5\u5916\u306b\u3082\u3001PostgreSQL\u306e\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u6a5f\u80fd\u3092\u7528\u3044\u3066\u7279\u5b9a\u306e\u30c6\u30fc\u30d6\u30eb\u3084\u7279\u5b9a\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u307f\u3092NVMe-SSD\u30dc\u30ea\u30e5\u30fc\u30e0\u306b\u914d\u7f6e\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u4f8b\u3048\u3070  /opt/nvme  \u306bNVMe-SSD\u30dc\u30ea\u30e5\u30fc\u30e0\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\nPostgreSQL\u306e\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u306e\u6a29\u9650\u3067\u5f53\u8a72\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u66f8\u304d\u3067\u304d\u308b\u3088\u3046\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002  CREATE TABLESPACE my_nvme LOCATION '/opt/nvme';  \u3053\u306e\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u4e0a\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u3001 CREATE TABLE \u69cb\u6587\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002  CREATE TABLE my_table (...) TABLESPACE my_nvme;  \u3042\u308b\u3044\u306f\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u3092\u5909\u66f4\u3059\u308b\u306b\u306f\u3001 ALTER DATABASE \u69cb\u6587\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u3053\u306e\u5834\u5408\u3001\u65e2\u5b58\u30c6\u30fc\u30d6\u30eb\u306e\u914d\u7f6e\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u306f\u5909\u66f4\u3055\u308c\u306a\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002  ALTER DATABASE my_database SET TABLESPACE my_nvme;", 
            "title": "\u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u306e\u8a2d\u8a08"
        }, 
        {
            "location": "/ssd2gpu/#_5", 
            "text": "", 
            "title": "\u904b\u7528"
        }, 
        {
            "location": "/ssd2gpu/#guc", 
            "text": "SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306b\u95a2\u9023\u3059\u308bGUC\u30d1\u30e9\u30e1\u30fc\u30bf\u306f2\u3064\u3042\u308a\u307e\u3059\u3002  \u4e00\u3064\u306f pg_strom.nvme_strom_enabled \u3067\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8\u6a5f\u80fd\u306e\u6709\u52b9/\u7121\u52b9\u3092\u5358\u7d14\u306bon/off\u3057\u307e\u3059\u3002\n\u672c\u30d1\u30e9\u30e1\u30fc\u30bf\u304c off \u306b\u306a\u3063\u3066\u3044\u308b\u3068\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30b5\u30a4\u30ba\u3084\u7269\u7406\u914d\u7f6e\u3068\u306f\u7121\u95a2\u4fc2\u306bSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306f\u4f7f\u7528\u3055\u308c\u307e\u305b\u3093\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f on \u3067\u3059\u3002  \u3082\u3046\u4e00\u3064\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f pg_strom.nvme_strom_threshold \u3067\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u304c\u4f7f\u308f\u308c\u308b\u3079\u304d\u6700\u5c0f\u306e\u30c6\u30fc\u30d6\u30eb\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002  \u30c6\u30fc\u30d6\u30eb\u306e\u7269\u7406\u914d\u7f6e\u304cNVMe-SSD\u533a\u753b\uff08\u307e\u305f\u306f\u3001NVMe-SSD\u306e\u307f\u3067\u69cb\u6210\u3055\u308c\u305fmd-raid0\u533a\u753b\uff09\u4e0a\u306b\u5b58\u5728\u3057\u3001\u304b\u3064\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30b5\u30a4\u30ba\u304c\u672c\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6307\u5b9a\u5024\u3088\u308a\u3082\u5927\u304d\u306a\u5834\u5408\u3001PG-Strom\u306fSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u672c\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u7269\u7406\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3068 shared_buffers \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6307\u5b9a\u5024\u306e1/3\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u521d\u671f\u8a2d\u5b9a\u3067\u306f\u9593\u9055\u3044\u306a\u304f\u30aa\u30f3\u30e1\u30e2\u30ea\u3067\u51e6\u7406\u3057\u304d\u308c\u306a\u3044\u30b5\u30a4\u30ba\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u3060\u3051SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3092\u884c\u3046\u3088\u3046\u8abf\u6574\u3055\u308c\u3066\u3044\u307e\u3059\u3002  \u3053\u308c\u306f\u3001\u4e00\u56de\u306e\u8aad\u307f\u51fa\u3057\u3067\u3042\u308c\u3070SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306b\u512a\u4f4d\u6027\u304c\u3042\u3063\u305f\u3068\u3057\u3066\u3082\u3001\u30aa\u30f3\u30e1\u30e2\u30ea\u51e6\u7406\u304c\u3067\u304d\u308b\u7a0b\u5ea6\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u306f\u3001\u4e8c\u56de\u76ee\u4ee5\u964d\u306e\u30c7\u30a3\u30b9\u30af\u30ad\u30e3\u30c3\u30b7\u30e5\u5229\u7528\u3092\u8003\u616e\u3059\u308b\u3068\u3001\u5fc5\u305a\u3057\u3082\u512a\u4f4d\u3068\u306f\u8a00\u3048\u306a\u3044\u3068\u3044\u3046\u4eee\u5b9a\u306b\u7acb\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002  \u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u7279\u6027\u306b\u3088\u3063\u3066\u306f\u5fc5\u305a\u3057\u3082\u3053\u306e\u8a2d\u5b9a\u304c\u6b63\u3057\u3044\u3068\u306f\u9650\u308a\u307e\u305b\u3093\u3002", 
            "title": "GUC\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u308b\u5236\u5fa1"
        }, 
        {
            "location": "/ssd2gpu/#ssd-to-gpusql", 
            "text": "EXPLAIN \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u5f53\u8a72\u30af\u30a8\u30ea\u3067SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u304c\u5229\u7528\u3055\u308c\u308b\u306e\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u4ee5\u4e0b\u306e\u30af\u30a8\u30ea\u306e\u4f8b\u3067\u306f\u3001 Custom Scan (GpuJoin) \u306b\u3088\u308b lineorder \u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u306b NVMe-Strom: enabled \u3068\u306e\u8868\u793a\u304c\u51fa\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001 lineorder \u30c6\u30fc\u30d6\u30eb\u304b\u3089\u306e\u8aad\u51fa\u3057\u306b\u306fSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u304c\u5229\u7528\u3055\u308c\u307e\u3059\u3002  # explain (costs off)\nselect sum(lo_revenue), d_year, p_brand1\nfrom lineorder, date1, part, supplier\nwhere lo_orderdate = d_datekey\nand lo_partkey = p_partkey\nand lo_suppkey = s_suppkey\nand p_category = 'MFGR#12'\nand s_region = 'AMERICA'\n  group by d_year, p_brand1\n  order by d_year, p_brand1;\n                                          QUERY PLAN\n----------------------------------------------------------------------------------------------\n GroupAggregate\n   Group Key: date1.d_year, part.p_brand1\n   -   Sort\n         Sort Key: date1.d_year, part.p_brand1\n         -   Custom Scan (GpuPreAgg)\n               Reduction: Local\n               GPU Projection: pgstrom.psum((lo_revenue)::double precision), d_year, p_brand1\n               Combined GpuJoin: enabled\n               -   Custom Scan (GpuJoin) on lineorder\n                     GPU Projection: date1.d_year, part.p_brand1, lineorder.lo_revenue\n                     Outer Scan: lineorder\n                     Depth 1: GpuHashJoin  (nrows 2406009600...97764190)\n                              HashKeys: lineorder.lo_partkey\n                              JoinQuals: (lineorder.lo_partkey = part.p_partkey)\n                              KDS-Hash (size: 10.67MB)\n                     Depth 2: GpuHashJoin  (nrows 97764190...18544060)\n                              HashKeys: lineorder.lo_suppkey\n                              JoinQuals: (lineorder.lo_suppkey = supplier.s_suppkey)\n                              KDS-Hash (size: 131.59MB)\n                     Depth 3: GpuHashJoin  (nrows 18544060...18544060)\n                              HashKeys: lineorder.lo_orderdate\n                              JoinQuals: (lineorder.lo_orderdate = date1.d_datekey)\n                              KDS-Hash (size: 461.89KB)\n                     NVMe-Strom: enabled\n                     -   Custom Scan (GpuScan) on part\n                           GPU Projection: p_brand1, p_partkey\n                           GPU Filter: (p_category = 'MFGR#12'::bpchar)\n                     -   Custom Scan (GpuScan) on supplier\n                           GPU Projection: s_suppkey\n                           GPU Filter: (s_region = 'AMERICA'::bpchar)\n                     -   Seq Scan on date1\n(31 rows)", 
            "title": "SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306e\u5229\u7528\u3092\u78ba\u8a8d\u3059\u308b"
        }, 
        {
            "location": "/ssd2gpu/#visibility-map", 
            "text": "\u73fe\u5728\u306e\u3068\u3053\u308d\u3001PG-Strom\u306eGPU\u5074\u51e6\u7406\u3067\u306f\u884c\u5358\u4f4d\u306eMVCC\u53ef\u8996\u6027\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u53ef\u8996\u6027\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u305f\u3081\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u304c\u30db\u30b9\u30c8\u5074\u3060\u3051\u306b\u5b58\u5728\u3059\u308b\u305f\u3081\u3067\u3059\u304c\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d6\u30ed\u30c3\u30af\u3092\u76f4\u63a5GPU\u306b\u8ee2\u9001\u3059\u308b\u5834\u5408\u3001\u5c11\u3005\u5384\u4ecb\u306a\u554f\u984c\u304c\u751f\u3058\u307e\u3059\u3002  NVMe-SSD\u306bP2P DMA\u3092\u8981\u6c42\u3059\u308b\u6642\u70b9\u3067\u306f\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5bb9\u306f\u307e\u3060CPU/RAM\u3078\u3068\u8aad\u307f\u51fa\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u5177\u4f53\u7684\u306b\u3069\u306e\u884c\u304c\u53ef\u8996\u3067\u3042\u308b\u306e\u304b\u3001\u3069\u306e\u884c\u304c\u4e0d\u53ef\u8996\u3067\u3042\u308b\u306e\u304b\u3092\u5224\u5225\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001PostgreSQL\u304c\u30ec\u30b3\u30fc\u30c9\u3092\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u66f8\u304d\u51fa\u3059\u969b\u306bMVCC\u95a2\u9023\u306e\u5c5e\u6027\u3068\u5171\u306b\u66f8\u304d\u8fbc\u3093\u3067\u3044\u308b\u305f\u3081\u3067\u3001\u4f3c\u305f\u3088\u3046\u306a\u554f\u984c\u304cIndexOnlyScan\u3092\u5b9f\u88c5\u3059\u308b\u969b\u306b\u8868\u9762\u5316\u3057\u307e\u3057\u305f\u3002  \u3053\u308c\u306b\u5bfe\u51e6\u3059\u308b\u305f\u3081\u3001PostgreSQL\u306fVisibility Map\u3068\u547c\u3070\u308c\u308b\u30a4\u30f3\u30d5\u30e9\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u3042\u308b\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u4e2d\u306b\u5b58\u5728\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u304c\u5168\u3066\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304b\u3089\u53ef\u8996\u3067\u3042\u308b\u4e8b\u304c\u660e\u3089\u304b\u3067\u3042\u308c\u3070\u3001\u8a72\u5f53\u3059\u308b\u30d3\u30c3\u30c8\u3092\u7acb\u3066\u308b\u4e8b\u3067\u3001\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u8aad\u3080\u3053\u3068\u306a\u304f\u5f53\u8a72\u30d6\u30ed\u30c3\u30af\u306bMVCC\u4e0d\u53ef\u8996\u306a\u30ec\u30b3\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u304b\u5426\u304b\u3092\u5224\u5b9a\u3059\u308b\u4e8b\u3092\u53ef\u80fd\u3068\u3059\u308b\u3082\u306e\u3067\u3059\u3002  SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u306f\u3053\u306e\u30a4\u30f3\u30d5\u30e9\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001Visibility Map\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u304a\u308a\u3001\"all-visible\"\u3067\u3042\u308b\u30d6\u30ed\u30c3\u30af\u3060\u3051\u304cSSD-to-GPU P2P DMA\u3067\u8aad\u307f\u51fa\u3059\u3088\u3046\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u9001\u51fa\u3055\u308c\u307e\u3059\u3002  Visibility Map\u306fVACUUM\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u4f5c\u6210\u3055\u308c\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u660e\u793a\u7684\u306bVACUUM\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u3067\u5f37\u5236\u7684\u306bVisibility Map\u3092\u69cb\u7bc9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  VACUUM ANALYZE linerorder;", 
            "title": "Visibility Map\u306b\u95a2\u3059\u308b\u6ce8\u610f\u4e8b\u9805"
        }, 
        {
            "location": "/ccache/", 
            "text": "\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\n\n\n\n\u6982\u8981\n\n\nPG-Strom\u306f\u30d7\u30ed\u30bb\u30c3\u30b5\u3078\u9ad8\u901f\u306b\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u305f\u3081\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u95a2\u9023\u6a5f\u80fd\u3092\u3082\u3046\u4e00\u3064\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\n\n\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u3001\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306e\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u8aad\u307f\u51fa\u3057\u3001PostgreSQL\u6a19\u6e96\u306e\u30c7\u30fc\u30bf\u5f62\u5f0f\u3067\u3042\u308b\u884c\u30c7\u30fc\u30bf\u304b\u3089\u96c6\u8a08\u30fb\u89e3\u6790\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u9069\u3057\u305f\u5217\u30c7\u30fc\u30bf\u5f62\u5f0f\u3078\u3068\u5909\u63db\u3057\u3001\u30e1\u30e2\u30ea\u4e0a\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u6a5f\u80fd\u3067\u3059\u3002\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3068\u306f\u7570\u306a\u308a\u3001\u3053\u306e\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u7279\u5225\u306a\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u4e00\u65b9\u3067\u3001\u73fe\u5728\u3082\u306a\u304aRAM\u306e\u5bb9\u91cf\u306fSSD\u3088\u308a\u3082\u5c0f\u3055\u304f\u3001\u76ee\u5b89\u3068\u3057\u3066\u306f\u30b7\u30b9\u30c6\u30e0RAM\u30b5\u30a4\u30ba\u306e60%\uff5e75%\u7a0b\u5ea6\u306e\u300c\u5927\u898f\u6a21\u3067\u306a\u3044\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u300d\u3092\u53d6\u308a\u6271\u3046\u306e\u306b\u5411\u3044\u305f\u6a5f\u80fd\u3067\u3059\u3002\n\n\n\u672c\u6a5f\u80fd\u306f\u300c\u5217\u30b9\u30c8\u30a2\u300d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3059\u306a\u308f\u3061\u3001\u5217\u30c7\u30fc\u30bf\u306b\u5909\u63db\u3057\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u5185\u5bb9\u306f\u4f8b\u3048\u3070PostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u3092\u518d\u8d77\u52d5\u3059\u308c\u3070\u6d88\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u9818\u57df\u3092\u66f4\u65b0\u3059\u308b\u3088\u3046\u306a\nUPDATE\n\u6587\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001PG-Strom\u306f\u5f53\u8a72\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u5217\u30c7\u30fc\u30bf\u5f62\u5f0f\u306f\u672c\u8cea\u7684\u306b\u66f4\u65b0\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u5f31\u3044\u4e8b\u3092\u8e0f\u307e\u3048\u305f\u4e0a\u3067\u306e\u8a2d\u8a08\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u884c\u30b9\u30c8\u30a2\u306e\u66f4\u65b0\u306b\u5bfe\u3057\u3066\u6574\u5408\u6027\u3092\u4fdd\u3063\u305f\u307e\u307e\u5217\u30b9\u30c8\u30a2\u3092\u66f4\u65b0\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u306e\u5927\u5e45\u306a\u52a3\u5316\u306f\u4e0d\u53ef\u907f\u3067\u3059\u3002\u4e00\u65b9\u3067\u3001\u5358\u7d14\u306b\u66f4\u65b0\u3055\u308c\u305f\u30d6\u30ed\u30c3\u30af\u3092\u542b\u3080\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d88\u53bb\uff08invalidation\uff09\u3059\u308b\u3060\u3051\u3067\u3042\u308c\u3070\u3001\u307b\u3068\u3093\u3069\u51e6\u7406\u30b3\u30b9\u30c8\u306f\u304b\u304b\u308a\u307e\u305b\u3093\u3002\nPG-Strom\u306f\u884c\u30c7\u30fc\u30bf\u3067\u3042\u3063\u3066\u3082\u5217\u30c7\u30fc\u30bf\u3067\u3042\u3063\u3066\u3082\u3001\u8d77\u52d5\u3059\u308bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5909\u66f4\u3059\u308b\u3060\u3051\u3067\u5bfe\u5fdc\u53ef\u80fd\u3067\u3059\u3002\u3059\u306a\u308f\u3061\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u6d88\u53bb\u3055\u308c\u3001\u901a\u5e38\u901a\u308aPostgreSQL\u306eshared buffer\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3055\u3056\u308b\u3092\u5f97\u306a\u3044\u72b6\u6cc1\u3067\u3042\u3063\u3066\u3082\u67d4\u8edf\u306b\u5bfe\u5fdc\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002\n\n\n\n\n\u521d\u671f\u8a2d\u5b9a\n\n\n\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u683c\u7d0d\u5148\n\n\npg_strom.ccache_base_dir\n\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u3063\u3066\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u683c\u7d0d\u5148\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\n/dev/shm\n\u3067\u3001\u3053\u308c\u306f\u4e00\u822c\u7684\u306aLinx\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u304a\u3044\u3066\ntmpfs\n\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30d1\u30b9\u3067\u3042\u308a\u3001\u3053\u306e\u914d\u4e0b\u306b\u4f5c\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u4e8c\u6b21\u8a18\u61b6\u88c5\u7f6e\u306e\u30d0\u30c3\u30ad\u30f3\u30b0\u30b9\u30c8\u30a2\u3092\u6301\u305f\u306a\u3044\u63ee\u767a\u6027\u306e\u30c7\u30fc\u30bf\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5909\u66f4\u3059\u308b\u4e8b\u3067\u3001\u4f8b\u3048\u3070NVMe-SSD\u7b49\u3001\u3088\u308a\u5927\u5bb9\u91cf\u304b\u3064\u30ea\u30fc\u30ba\u30ca\u30d6\u30eb\u306b\u9ad8\u901f\u306a\u30b9\u30c8\u30ec\u30fc\u30b8\u9818\u57df\u3092\u30d0\u30c3\u30ad\u30f3\u30b0\u30b9\u30c8\u30a2\u3068\u3059\u308b\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u69cb\u7bc9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u66f4\u65b0\u306f\u305f\u3068\u3048\u4e00\u884c\u3067\u3042\u3063\u3066\u3082\u305d\u306e\u524d\u5f8c\u306e\u9818\u57df\u3092\u542b\u3080\u30c1\u30e3\u30f3\u30af\u5168\u4f53\uff08128MB\u5358\u4f4d\uff09\u306e\u7121\u52b9\u5316\u3092\u5f15\u304d\u8d77\u3053\u3059\u4e8b\u306f\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002I/O\u3092\u4f34\u3046\u8aad\u307f\u66f8\u304d\u304c\u983b\u767a\u3059\u308b\u3088\u3046\u306a\u72b6\u6cc1\u306b\u306a\u308b\u3068\u3001\u610f\u56f3\u3057\u306a\u3044\u6027\u80fd\u52a3\u5316\u3092\u62db\u304f\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u306e\u8a2d\u5b9a\n\n\nPG-Strom\u306f\u4e00\u3064\u307e\u305f\u306f\u8907\u6570\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u3092\u4f7f\u7528\u3057\u3066\u3001\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u975e\u540c\u671f\u304b\u3064\u81ea\u52d5\u7684\u306b\u69cb\u7bc9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u51e6\u7406\u3092\u884c\u3046\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u3092\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u30fc\u3068\u547c\u3073\u307e\u3059\u3002\n\n\n\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u30fc\u306f\u3001\u30e6\u30fc\u30b6\u306eSQL\u3092\u51e6\u7406\u3059\u308b\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u52d5\u4f5c\u3068\u306f\u975e\u540c\u671f\u306b\u3001\u6307\u5b9a\u3055\u308c\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u3046\u3061\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u69cb\u7bc9\u3059\u3079\u304d\u5bfe\u8c61\u3092\u30e9\u30a6\u30f3\u30c9\u30ed\u30d3\u30f3\u3067\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u3053\u308c\u3092\u5217\u30c7\u30fc\u30bf\u3078\u3068\u5909\u63db\u3057\u305f\u4e0a\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002\n\n\n\u4e00\u5ea6\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u69cb\u7bc9\u3055\u308c\u308b\u3068\u3001\u4ed6\u306e\u5168\u3066\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304b\u3089\u3053\u308c\u3092\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u4e00\u822c\u7684\u306a\u30c7\u30a3\u30b9\u30af\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30e1\u30ab\u30cb\u30ba\u30e0\u3068\u306f\u7570\u306a\u308a\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u69cb\u7bc9\u3055\u308c\u3066\u3044\u306a\u3044\u9818\u57df\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3042\u3063\u3066\u3082\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3059\u308b\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u5834\u5408\u306f\u3001\u901a\u5e38\u306ePostgreSQL\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3092\u901a\u3057\u3066\u884c\u30c7\u30fc\u30bf\u3092\u53c2\u7167\u3059\u308b\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u306e\u6570\u306f\u8d77\u52d5\u6642\u306b\u6c7a\u307e\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u5897\u3084\u3059\u306b\u306f\u5f8c\u8ff0\u306e\npg_strom.ccache_num_builders\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u3001PostgreSQL\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u307e\u305f\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u306f\u7279\u5b9a\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u7d10\u4ed8\u3051\u3089\u308c\u307e\u3059\u306e\u3067\u3001\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u5c11\u306a\u304f\u3068\u3082\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u6570\u4ee5\u4e0a\u306e\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u4e8b\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u3092\u7d10\u3065\u3051\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001\npg_strom.ccache_databases\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6307\u5b9a\u306b\u306f\u7279\u6a29\u30e6\u30fc\u30b6\u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001PostgreSQL\u306e\u5b9f\u884c\u4e2d\u306b\u3082\u5909\u66f4\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\uff08\u3082\u3061\u308d\u3093\u3001\npostgresql.conf\n\u306b\u8a18\u8f09\u3057\u3066\u8d77\u52d5\u6642\u306b\u8a2d\u5b9a\u3059\u308b\u4e8b\u3082\u53ef\u80fd\u3067\u3059\u3002\uff09\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\u3092\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u6307\u5b9a\u3059\u308b\u3068\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c\u9806\u756a\u306b\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u3066\u3044\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c5\u30d7\u30ed\u30bb\u30b9\u5b58\u5728\u3057\u3001\npostgres,my_test,benchmark\n\u3068\u3044\u30463\u3064\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\npg_strom.ccache_databases\n\u306b\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\npostgres\n\u304a\u3088\u3073\nmy_test\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u306f2\u30d7\u30ed\u30bb\u30b9\u306e\u3001\nbenchmark\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u306f1\u30d7\u30ed\u30bb\u30b9\u306e\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306e\u8a2d\u5b9a\n\n\nDB\u7ba1\u7406\u8005\u306f\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u683c\u7d0d\u3059\u3079\u304d\u30c6\u30fc\u30d6\u30eb\u3092\u4e88\u3081\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nSQL\u95a2\u6570\npgstrom_ccache_enabled(regclass)\n\u306f\u3001\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u3092\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u69cb\u7bc9\u5bfe\u8c61\u306b\u52a0\u3048\u307e\u3059\u3002\n\u9006\u306b\u3001SQL\u95a2\u6570\npgstrom_ccache_disabled(regclass)\n\u306f\u3001\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306e\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u69cb\u7bc9\u5bfe\u8c61\u304b\u3089\u5916\u3057\u307e\u3059\u3002\n\n\n\u5185\u90e8\u7684\u306b\u306f\u3001\u3053\u308c\u3089\u306e\u64cd\u4f5c\u306f\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u66f4\u65b0\u6642\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u7121\u52b9\u5316\u3092\u884c\u3046\u30c8\u30ea\u30ac\u95a2\u6570\u306e\u8a2d\u5b9a\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7121\u52b9\u5316\u3059\u308b\u624b\u6bb5\u3092\u6301\u305f\u306a\u3044\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u306f\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f5c\u6210\u3057\u306a\u3044\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002\n\n\npostgres=# select pgstrom_ccache_enabled('t0');\n pgstrom_ccache_enabled\n------------------------\n enabled\n(1 row)\n\n\n\n\n\u904b\u7528\n\n\n\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\n\n\n\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\npgstrom.ccache_info\n\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\n\u30c1\u30e3\u30f3\u30af\u5358\u4f4d\u3067\u3001\u30c6\u30fc\u30d6\u30eb\u3001\u30d6\u30ed\u30c3\u30af\u756a\u53f7\u3084\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4f5c\u6210\u6642\u523b\u3001\u6700\u7d42\u30a2\u30af\u30bb\u30b9\u6642\u523b\u306a\u3069\u3092\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\ncontrib_regression_pg_strom=# SELECT * FROM pgstrom.ccache_info ;\n database_id | table_id | block_nr | nitems  |  length   |             ctime             |             atime\n-------------+----------+----------+---------+-----------+-------------------------------+-------------------------------\n       13323 | 25887    |   622592 | 1966080 | 121897472 | 2018-02-18 14:31:30.898389+09 | 2018-02-18 14:38:43.711287+09\n       13323 | 25887    |   425984 | 1966080 | 121897472 | 2018-02-18 14:28:39.356952+09 | 2018-02-18 14:38:43.514788+09\n       13323 | 25887    |    98304 | 1966080 | 121897472 | 2018-02-18 14:28:01.542261+09 | 2018-02-18 14:38:42.930281+09\n         :       :             :         :          :                :                               :\n       13323 | 25887    |    16384 | 1963079 | 121711472 | 2018-02-18 14:28:00.647021+09 | 2018-02-18 14:38:42.909112+09\n       13323 | 25887    |   737280 | 1966080 | 121897472 | 2018-02-18 14:34:32.249899+09 | 2018-02-18 14:38:43.882029+09\n       13323 | 25887    |   770048 | 1966080 | 121897472 | 2018-02-18 14:28:57.321121+09 | 2018-02-18 14:38:43.90157+09\n(50 rows)\n\n\n\n\n\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5229\u7528\u3092\u78ba\u8a8d\u3059\u308b\n\n\n\u3042\u308b\u30af\u30a8\u30ea\u304c\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u304b\u3069\u3046\u304b\u3001\nEXPLAIN\n\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306e\u30af\u30a8\u30ea\u306f\u3001\u30c6\u30fc\u30d6\u30eb\nt0\n\u3068\nt1\n\u3092\u30b8\u30e7\u30a4\u30f3\u3057\u307e\u3059\u304c\u3001\nt0\n\u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u3092\u542b\u3080\nCustom Scan (GpuJoin)\n\u306b\nCCache: enabled\n\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\nt0\n\u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u306e\u969b\u306b\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u4e8b\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u5b9f\u969b\u306b\u4f7f\u308f\u308c\u308b\u304b\u3069\u3046\u304b\u306f\u30af\u30a8\u30ea\u304c\u5b9f\u884c\u3055\u308c\u308b\u307e\u3067\u5206\u304b\u308a\u307e\u305b\u3093\u3002\u4e26\u884c\u3059\u308b\u66f4\u65b0\u51e6\u7406\u306e\u5f71\u97ff\u3067\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u7834\u68c4\u3055\u308c\u308b\u53ef\u80fd\u6027\u3082\u3042\u308b\u304b\u3089\u3067\u3059\u3002\n\n\npostgres=# EXPLAIN SELECT id,ax FROM t0 NATURAL JOIN t1 WHERE aid \n 1000;\n\n                                  QUERY PLAN\n-------------------------------------------------------------------------------\n Custom Scan (GpuJoin) on t0  (cost=12398.65..858048.45 rows=1029348 width=12)\n   GPU Projection: t0.id, t1.ax\n   Outer Scan: t0  (cost=10277.55..864623.44 rows=1029348 width=8)\n   Outer Scan Filter: (aid \n 1000)\n   Depth 1: GpuHashJoin  (nrows 1029348...1029348)\n            HashKeys: t0.aid\n            JoinQuals: (t0.aid = t1.aid)\n            KDS-Hash (size: 10.78MB)\n   CCache: enabled\n   -\n  Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n(10 rows)\n\n\n\n\nEXPLAIN ANALYZE\n\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30af\u30a8\u30ea\u304c\u5b9f\u969b\u306b\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f55\u56de\u53c2\u7167\u3057\u305f\u306e\u304b\u3092\u77e5\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u5148\u307b\u3069\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\nt0\n\u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u3092\u542b\u3080\nCustom Scan (GpuJoin)\n\u306b\nCCache Hits: 50\n\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3078\u306e\u53c2\u7167\u304c50\u56de\u884c\u308f\u308c\u305f\u4e8b\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30c1\u30e3\u30f3\u30af\u30b5\u30a4\u30ba\u306f128MB\u3067\u3059\u306e\u3067\u3001\u5408\u8a08\u30676.4GB\u5206\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30af\u30bb\u30b9\u304c\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u3088\u308a\u4ee3\u66ff\u3055\u308c\u305f\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002\n\n\npostgres=# EXPLAIN ANALYZE SELECT id,ax FROM t0 NATURAL JOIN t1 WHERE aid \n 1000;\n\n                                    QUERY PLAN\n\n-------------------------------------------------------------------------------------------\n Custom Scan (GpuJoin) on t0  (cost=12398.65..858048.45 rows=1029348 width=12)\n                              (actual time=91.766..723.549 rows=1000224 loops=1)\n   GPU Projection: t0.id, t1.ax\n   Outer Scan: t0  (cost=10277.55..864623.44 rows=1029348 width=8)\n                   (actual time=7.129..398.270 rows=100000000 loops=1)\n   Outer Scan Filter: (aid \n 1000)\n   Rows Removed by Outer Scan Filter: 98999776\n   Depth 1: GpuHashJoin  (plan nrows: 1029348...1029348, actual nrows: 1000224...1000224)\n            HashKeys: t0.aid\n            JoinQuals: (t0.aid = t1.aid)\n            KDS-Hash (size plan: 10.78MB, exec: 64.00MB)\n   CCache Hits: 50\n   -\n  Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n                       (actual time=0.011..13.542 rows=100000 loops=1)\n Planning time: 23.390 ms\n Execution time: 1409.073 ms\n(13 rows)\n\n\n\n\nDROP DATABASE\n\u30b3\u30de\u30f3\u30c9\u306b\u95a2\u3059\u308b\u6ce8\u610f\u4e8b\u9805\n\n\n\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u3092\u4f7f\u7528\u3057\u3066\u975e\u540c\u671f\u306b\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u69cb\u7bc9\u3059\u308b\u5834\u5408\u3001\u5185\u90e8\u7684\u306b\u306f\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u304c\u6307\u5b9a\u3055\u308c\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3057\u7d9a\u3051\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\nDROP DATABASE\n\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u6642\u3001PostgreSQL\u306f\u5f53\u8a72\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308b\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u306e\u6642\u3001\u30e6\u30fc\u30b6\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u4e00\u3064\u3082\u5b58\u5728\u3057\u3066\u3044\u306a\u3044\u306b\u3082\u95a2\u308f\u3089\u305a\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u4fdd\u6301\u3057\u7d9a\u3051\u308b\u4e8b\u3067\nDROP DATABASE\n\u30b3\u30de\u30f3\u30c9\u304c\u5931\u6557\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\n\u3053\u308c\u3092\u907f\u3051\u308b\u306b\u306f\u3001\nDROP DATABASE\n\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u524d\u306b\u3001\npg_strom.ccache_databases\n\u30d1\u30e9\u30e1\u30fc\u30bf\u304b\u3089\u5f53\u8a72\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u9664\u5916\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u306f\u76f4\u3061\u306b\u518d\u8d77\u52d5\u3057\u3001\u65b0\u3057\u3044\u8a2d\u5b9a\u306b\u57fa\u3065\u3044\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u8a66\u307f\u307e\u3059\u3002", 
            "title": "\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5"
        }, 
        {
            "location": "/ccache/#_1", 
            "text": "PG-Strom\u306f\u30d7\u30ed\u30bb\u30c3\u30b5\u3078\u9ad8\u901f\u306b\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u305f\u3081\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u95a2\u9023\u6a5f\u80fd\u3092\u3082\u3046\u4e00\u3064\u6301\u3063\u3066\u3044\u307e\u3059\u3002  \u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u3001\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306e\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u8aad\u307f\u51fa\u3057\u3001PostgreSQL\u6a19\u6e96\u306e\u30c7\u30fc\u30bf\u5f62\u5f0f\u3067\u3042\u308b\u884c\u30c7\u30fc\u30bf\u304b\u3089\u96c6\u8a08\u30fb\u89e3\u6790\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u9069\u3057\u305f\u5217\u30c7\u30fc\u30bf\u5f62\u5f0f\u3078\u3068\u5909\u63db\u3057\u3001\u30e1\u30e2\u30ea\u4e0a\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u6a5f\u80fd\u3067\u3059\u3002  SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3068\u306f\u7570\u306a\u308a\u3001\u3053\u306e\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u7279\u5225\u306a\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u4e00\u65b9\u3067\u3001\u73fe\u5728\u3082\u306a\u304aRAM\u306e\u5bb9\u91cf\u306fSSD\u3088\u308a\u3082\u5c0f\u3055\u304f\u3001\u76ee\u5b89\u3068\u3057\u3066\u306f\u30b7\u30b9\u30c6\u30e0RAM\u30b5\u30a4\u30ba\u306e60%\uff5e75%\u7a0b\u5ea6\u306e\u300c\u5927\u898f\u6a21\u3067\u306a\u3044\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u300d\u3092\u53d6\u308a\u6271\u3046\u306e\u306b\u5411\u3044\u305f\u6a5f\u80fd\u3067\u3059\u3002  \u672c\u6a5f\u80fd\u306f\u300c\u5217\u30b9\u30c8\u30a2\u300d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3059\u306a\u308f\u3061\u3001\u5217\u30c7\u30fc\u30bf\u306b\u5909\u63db\u3057\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u5185\u5bb9\u306f\u4f8b\u3048\u3070PostgreSQL\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u3092\u518d\u8d77\u52d5\u3059\u308c\u3070\u6d88\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u9818\u57df\u3092\u66f4\u65b0\u3059\u308b\u3088\u3046\u306a UPDATE \u6587\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001PG-Strom\u306f\u5f53\u8a72\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u5217\u30c7\u30fc\u30bf\u5f62\u5f0f\u306f\u672c\u8cea\u7684\u306b\u66f4\u65b0\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u5f31\u3044\u4e8b\u3092\u8e0f\u307e\u3048\u305f\u4e0a\u3067\u306e\u8a2d\u8a08\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u884c\u30b9\u30c8\u30a2\u306e\u66f4\u65b0\u306b\u5bfe\u3057\u3066\u6574\u5408\u6027\u3092\u4fdd\u3063\u305f\u307e\u307e\u5217\u30b9\u30c8\u30a2\u3092\u66f4\u65b0\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u66f8\u304d\u8fbc\u307f\u6027\u80fd\u306e\u5927\u5e45\u306a\u52a3\u5316\u306f\u4e0d\u53ef\u907f\u3067\u3059\u3002\u4e00\u65b9\u3067\u3001\u5358\u7d14\u306b\u66f4\u65b0\u3055\u308c\u305f\u30d6\u30ed\u30c3\u30af\u3092\u542b\u3080\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d88\u53bb\uff08invalidation\uff09\u3059\u308b\u3060\u3051\u3067\u3042\u308c\u3070\u3001\u307b\u3068\u3093\u3069\u51e6\u7406\u30b3\u30b9\u30c8\u306f\u304b\u304b\u308a\u307e\u305b\u3093\u3002\nPG-Strom\u306f\u884c\u30c7\u30fc\u30bf\u3067\u3042\u3063\u3066\u3082\u5217\u30c7\u30fc\u30bf\u3067\u3042\u3063\u3066\u3082\u3001\u8d77\u52d5\u3059\u308bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5909\u66f4\u3059\u308b\u3060\u3051\u3067\u5bfe\u5fdc\u53ef\u80fd\u3067\u3059\u3002\u3059\u306a\u308f\u3061\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u6d88\u53bb\u3055\u308c\u3001\u901a\u5e38\u901a\u308aPostgreSQL\u306eshared buffer\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3055\u3056\u308b\u3092\u5f97\u306a\u3044\u72b6\u6cc1\u3067\u3042\u3063\u3066\u3082\u67d4\u8edf\u306b\u5bfe\u5fdc\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\u306e\u3067\u3059\u3002", 
            "title": "\u6982\u8981"
        }, 
        {
            "location": "/ccache/#_2", 
            "text": "", 
            "title": "\u521d\u671f\u8a2d\u5b9a"
        }, 
        {
            "location": "/ccache/#_3", 
            "text": "pg_strom.ccache_base_dir \u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3088\u3063\u3066\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u683c\u7d0d\u5148\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f /dev/shm \u3067\u3001\u3053\u308c\u306f\u4e00\u822c\u7684\u306aLinx\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u304a\u3044\u3066 tmpfs \u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30d1\u30b9\u3067\u3042\u308a\u3001\u3053\u306e\u914d\u4e0b\u306b\u4f5c\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u4e8c\u6b21\u8a18\u61b6\u88c5\u7f6e\u306e\u30d0\u30c3\u30ad\u30f3\u30b0\u30b9\u30c8\u30a2\u3092\u6301\u305f\u306a\u3044\u63ee\u767a\u6027\u306e\u30c7\u30fc\u30bf\u3068\u306a\u308a\u307e\u3059\u3002  \u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5909\u66f4\u3059\u308b\u4e8b\u3067\u3001\u4f8b\u3048\u3070NVMe-SSD\u7b49\u3001\u3088\u308a\u5927\u5bb9\u91cf\u304b\u3064\u30ea\u30fc\u30ba\u30ca\u30d6\u30eb\u306b\u9ad8\u901f\u306a\u30b9\u30c8\u30ec\u30fc\u30b8\u9818\u57df\u3092\u30d0\u30c3\u30ad\u30f3\u30b0\u30b9\u30c8\u30a2\u3068\u3059\u308b\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u69cb\u7bc9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u66f4\u65b0\u306f\u305f\u3068\u3048\u4e00\u884c\u3067\u3042\u3063\u3066\u3082\u305d\u306e\u524d\u5f8c\u306e\u9818\u57df\u3092\u542b\u3080\u30c1\u30e3\u30f3\u30af\u5168\u4f53\uff08128MB\u5358\u4f4d\uff09\u306e\u7121\u52b9\u5316\u3092\u5f15\u304d\u8d77\u3053\u3059\u4e8b\u306f\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002I/O\u3092\u4f34\u3046\u8aad\u307f\u66f8\u304d\u304c\u983b\u767a\u3059\u308b\u3088\u3046\u306a\u72b6\u6cc1\u306b\u306a\u308b\u3068\u3001\u610f\u56f3\u3057\u306a\u3044\u6027\u80fd\u52a3\u5316\u3092\u62db\u304f\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002", 
            "title": "\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u683c\u7d0d\u5148"
        }, 
        {
            "location": "/ccache/#_4", 
            "text": "PG-Strom\u306f\u4e00\u3064\u307e\u305f\u306f\u8907\u6570\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u3092\u4f7f\u7528\u3057\u3066\u3001\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u975e\u540c\u671f\u304b\u3064\u81ea\u52d5\u7684\u306b\u69cb\u7bc9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u51e6\u7406\u3092\u884c\u3046\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u3092\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u30fc\u3068\u547c\u3073\u307e\u3059\u3002  \u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u30fc\u306f\u3001\u30e6\u30fc\u30b6\u306eSQL\u3092\u51e6\u7406\u3059\u308b\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u52d5\u4f5c\u3068\u306f\u975e\u540c\u671f\u306b\u3001\u6307\u5b9a\u3055\u308c\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u3046\u3061\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u69cb\u7bc9\u3059\u3079\u304d\u5bfe\u8c61\u3092\u30e9\u30a6\u30f3\u30c9\u30ed\u30d3\u30f3\u3067\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u3053\u308c\u3092\u5217\u30c7\u30fc\u30bf\u3078\u3068\u5909\u63db\u3057\u305f\u4e0a\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002  \u4e00\u5ea6\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u69cb\u7bc9\u3055\u308c\u308b\u3068\u3001\u4ed6\u306e\u5168\u3066\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304b\u3089\u3053\u308c\u3092\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u4e00\u822c\u7684\u306a\u30c7\u30a3\u30b9\u30af\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30e1\u30ab\u30cb\u30ba\u30e0\u3068\u306f\u7570\u306a\u308a\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u69cb\u7bc9\u3055\u308c\u3066\u3044\u306a\u3044\u9818\u57df\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3042\u3063\u3066\u3082\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3059\u308b\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u5834\u5408\u306f\u3001\u901a\u5e38\u306ePostgreSQL\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3092\u901a\u3057\u3066\u884c\u30c7\u30fc\u30bf\u3092\u53c2\u7167\u3059\u308b\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002  \u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u306e\u6570\u306f\u8d77\u52d5\u6642\u306b\u6c7a\u307e\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u5897\u3084\u3059\u306b\u306f\u5f8c\u8ff0\u306e pg_strom.ccache_num_builders \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u3001PostgreSQL\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u307e\u305f\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u306f\u7279\u5b9a\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u7d10\u4ed8\u3051\u3089\u308c\u307e\u3059\u306e\u3067\u3001\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u5c11\u306a\u304f\u3068\u3082\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u6570\u4ee5\u4e0a\u306e\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u4e8b\u304c\u5fc5\u8981\u3067\u3059\u3002  \u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u3092\u7d10\u3065\u3051\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001 pg_strom.ccache_databases \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6307\u5b9a\u306b\u306f\u7279\u6a29\u30e6\u30fc\u30b6\u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001PostgreSQL\u306e\u5b9f\u884c\u4e2d\u306b\u3082\u5909\u66f4\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\uff08\u3082\u3061\u308d\u3093\u3001 postgresql.conf \u306b\u8a18\u8f09\u3057\u3066\u8d77\u52d5\u6642\u306b\u8a2d\u5b9a\u3059\u308b\u4e8b\u3082\u53ef\u80fd\u3067\u3059\u3002\uff09  \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\u3092\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u6307\u5b9a\u3059\u308b\u3068\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c\u9806\u756a\u306b\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u3066\u3044\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c5\u30d7\u30ed\u30bb\u30b9\u5b58\u5728\u3057\u3001 postgres,my_test,benchmark \u3068\u3044\u30463\u3064\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092 pg_strom.ccache_databases \u306b\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001 postgres \u304a\u3088\u3073 my_test \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u306f2\u30d7\u30ed\u30bb\u30b9\u306e\u3001 benchmark \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u306f1\u30d7\u30ed\u30bb\u30b9\u306e\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002", 
            "title": "\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u306e\u8a2d\u5b9a"
        }, 
        {
            "location": "/ccache/#_5", 
            "text": "DB\u7ba1\u7406\u8005\u306f\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u683c\u7d0d\u3059\u3079\u304d\u30c6\u30fc\u30d6\u30eb\u3092\u4e88\u3081\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  SQL\u95a2\u6570 pgstrom_ccache_enabled(regclass) \u306f\u3001\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u3092\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u69cb\u7bc9\u5bfe\u8c61\u306b\u52a0\u3048\u307e\u3059\u3002\n\u9006\u306b\u3001SQL\u95a2\u6570 pgstrom_ccache_disabled(regclass) \u306f\u3001\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306e\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u69cb\u7bc9\u5bfe\u8c61\u304b\u3089\u5916\u3057\u307e\u3059\u3002  \u5185\u90e8\u7684\u306b\u306f\u3001\u3053\u308c\u3089\u306e\u64cd\u4f5c\u306f\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u66f4\u65b0\u6642\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u7121\u52b9\u5316\u3092\u884c\u3046\u30c8\u30ea\u30ac\u95a2\u6570\u306e\u8a2d\u5b9a\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3064\u307e\u308a\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7121\u52b9\u5316\u3059\u308b\u624b\u6bb5\u3092\u6301\u305f\u306a\u3044\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u306f\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f5c\u6210\u3057\u306a\u3044\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002  postgres=# select pgstrom_ccache_enabled('t0');\n pgstrom_ccache_enabled\n------------------------\n enabled\n(1 row)", 
            "title": "\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306e\u8a2d\u5b9a"
        }, 
        {
            "location": "/ccache/#_6", 
            "text": "", 
            "title": "\u904b\u7528"
        }, 
        {
            "location": "/ccache/#_7", 
            "text": "\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f pgstrom.ccache_info \u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002  \u30c1\u30e3\u30f3\u30af\u5358\u4f4d\u3067\u3001\u30c6\u30fc\u30d6\u30eb\u3001\u30d6\u30ed\u30c3\u30af\u756a\u53f7\u3084\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4f5c\u6210\u6642\u523b\u3001\u6700\u7d42\u30a2\u30af\u30bb\u30b9\u6642\u523b\u306a\u3069\u3092\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  contrib_regression_pg_strom=# SELECT * FROM pgstrom.ccache_info ;\n database_id | table_id | block_nr | nitems  |  length   |             ctime             |             atime\n-------------+----------+----------+---------+-----------+-------------------------------+-------------------------------\n       13323 | 25887    |   622592 | 1966080 | 121897472 | 2018-02-18 14:31:30.898389+09 | 2018-02-18 14:38:43.711287+09\n       13323 | 25887    |   425984 | 1966080 | 121897472 | 2018-02-18 14:28:39.356952+09 | 2018-02-18 14:38:43.514788+09\n       13323 | 25887    |    98304 | 1966080 | 121897472 | 2018-02-18 14:28:01.542261+09 | 2018-02-18 14:38:42.930281+09\n         :       :             :         :          :                :                               :\n       13323 | 25887    |    16384 | 1963079 | 121711472 | 2018-02-18 14:28:00.647021+09 | 2018-02-18 14:38:42.909112+09\n       13323 | 25887    |   737280 | 1966080 | 121897472 | 2018-02-18 14:34:32.249899+09 | 2018-02-18 14:38:43.882029+09\n       13323 | 25887    |   770048 | 1966080 | 121897472 | 2018-02-18 14:28:57.321121+09 | 2018-02-18 14:38:43.90157+09\n(50 rows)", 
            "title": "\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b"
        }, 
        {
            "location": "/ccache/#_8", 
            "text": "\u3042\u308b\u30af\u30a8\u30ea\u304c\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u304b\u3069\u3046\u304b\u3001 EXPLAIN \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u4ee5\u4e0b\u306e\u30af\u30a8\u30ea\u306f\u3001\u30c6\u30fc\u30d6\u30eb t0 \u3068 t1 \u3092\u30b8\u30e7\u30a4\u30f3\u3057\u307e\u3059\u304c\u3001 t0 \u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u3092\u542b\u3080 Custom Scan (GpuJoin) \u306b CCache: enabled \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001 t0 \u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u306e\u969b\u306b\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f7f\u7528\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u4e8b\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u5b9f\u969b\u306b\u4f7f\u308f\u308c\u308b\u304b\u3069\u3046\u304b\u306f\u30af\u30a8\u30ea\u304c\u5b9f\u884c\u3055\u308c\u308b\u307e\u3067\u5206\u304b\u308a\u307e\u305b\u3093\u3002\u4e26\u884c\u3059\u308b\u66f4\u65b0\u51e6\u7406\u306e\u5f71\u97ff\u3067\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u7834\u68c4\u3055\u308c\u308b\u53ef\u80fd\u6027\u3082\u3042\u308b\u304b\u3089\u3067\u3059\u3002  postgres=# EXPLAIN SELECT id,ax FROM t0 NATURAL JOIN t1 WHERE aid   1000;\n\n                                  QUERY PLAN\n-------------------------------------------------------------------------------\n Custom Scan (GpuJoin) on t0  (cost=12398.65..858048.45 rows=1029348 width=12)\n   GPU Projection: t0.id, t1.ax\n   Outer Scan: t0  (cost=10277.55..864623.44 rows=1029348 width=8)\n   Outer Scan Filter: (aid   1000)\n   Depth 1: GpuHashJoin  (nrows 1029348...1029348)\n            HashKeys: t0.aid\n            JoinQuals: (t0.aid = t1.aid)\n            KDS-Hash (size: 10.78MB)\n   CCache: enabled\n   -   Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n(10 rows)  EXPLAIN ANALYZE \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30af\u30a8\u30ea\u304c\u5b9f\u969b\u306b\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4f55\u56de\u53c2\u7167\u3057\u305f\u306e\u304b\u3092\u77e5\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u5148\u307b\u3069\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001 t0 \u306b\u5bfe\u3059\u308b\u30b9\u30ad\u30e3\u30f3\u3092\u542b\u3080 Custom Scan (GpuJoin) \u306b CCache Hits: 50 \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3078\u306e\u53c2\u7167\u304c50\u56de\u884c\u308f\u308c\u305f\u4e8b\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30c1\u30e3\u30f3\u30af\u30b5\u30a4\u30ba\u306f128MB\u3067\u3059\u306e\u3067\u3001\u5408\u8a08\u30676.4GB\u5206\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30af\u30bb\u30b9\u304c\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u3088\u308a\u4ee3\u66ff\u3055\u308c\u305f\u4e8b\u3068\u306a\u308a\u307e\u3059\u3002  postgres=# EXPLAIN ANALYZE SELECT id,ax FROM t0 NATURAL JOIN t1 WHERE aid   1000;\n\n                                    QUERY PLAN\n\n-------------------------------------------------------------------------------------------\n Custom Scan (GpuJoin) on t0  (cost=12398.65..858048.45 rows=1029348 width=12)\n                              (actual time=91.766..723.549 rows=1000224 loops=1)\n   GPU Projection: t0.id, t1.ax\n   Outer Scan: t0  (cost=10277.55..864623.44 rows=1029348 width=8)\n                   (actual time=7.129..398.270 rows=100000000 loops=1)\n   Outer Scan Filter: (aid   1000)\n   Rows Removed by Outer Scan Filter: 98999776\n   Depth 1: GpuHashJoin  (plan nrows: 1029348...1029348, actual nrows: 1000224...1000224)\n            HashKeys: t0.aid\n            JoinQuals: (t0.aid = t1.aid)\n            KDS-Hash (size plan: 10.78MB, exec: 64.00MB)\n   CCache Hits: 50\n   -   Seq Scan on t1  (cost=0.00..1935.00 rows=100000 width=12)\n                       (actual time=0.011..13.542 rows=100000 loops=1)\n Planning time: 23.390 ms\n Execution time: 1409.073 ms\n(13 rows)", 
            "title": "\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5229\u7528\u3092\u78ba\u8a8d\u3059\u308b"
        }, 
        {
            "location": "/ccache/#drop-database", 
            "text": "\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u3092\u4f7f\u7528\u3057\u3066\u975e\u540c\u671f\u306b\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u69cb\u7bc9\u3059\u308b\u5834\u5408\u3001\u5185\u90e8\u7684\u306b\u306f\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u304c\u6307\u5b9a\u3055\u308c\u305f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3057\u7d9a\u3051\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002 DROP DATABASE \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u6642\u3001PostgreSQL\u306f\u5f53\u8a72\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308b\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u306e\u6642\u3001\u30e6\u30fc\u30b6\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u4e00\u3064\u3082\u5b58\u5728\u3057\u3066\u3044\u306a\u3044\u306b\u3082\u95a2\u308f\u3089\u305a\u3001\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u304c\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u4fdd\u6301\u3057\u7d9a\u3051\u308b\u4e8b\u3067 DROP DATABASE \u30b3\u30de\u30f3\u30c9\u304c\u5931\u6557\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002  \u3053\u308c\u3092\u907f\u3051\u308b\u306b\u306f\u3001 DROP DATABASE \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u524d\u306b\u3001 pg_strom.ccache_databases \u30d1\u30e9\u30e1\u30fc\u30bf\u304b\u3089\u5f53\u8a72\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u9664\u5916\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c0\u306f\u76f4\u3061\u306b\u518d\u8d77\u52d5\u3057\u3001\u65b0\u3057\u3044\u8a2d\u5b9a\u306b\u57fa\u3065\u3044\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u8a66\u307f\u307e\u3059\u3002", 
            "title": "DROP DATABASE\u30b3\u30de\u30f3\u30c9\u306b\u95a2\u3059\u308b\u6ce8\u610f\u4e8b\u9805"
        }, 
        {
            "location": "/gstore_fdw/", 
            "text": "GPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2(gstore_fdw)\n\n\n\n\u6982\u8981\n\n\n\u901a\u5e38\u3001PG-Strom\u306fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u4e00\u6642\u7684\u306b\u3060\u3051\u5229\u7528\u3057\u307e\u3059\u3002\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u4e2d\u306b\u5fc5\u8981\u306a\u3060\u3051\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u5272\u308a\u5f53\u3066\u3001\u305d\u306e\u9818\u57df\u306b\u30c7\u30fc\u30bf\u3092\u8ee2\u9001\u3057\u3066SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306bGPU\u30ab\u30fc\u30cd\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002GPU\u30ab\u30fc\u30cd\u30eb\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u5f53\u8a72\u9818\u57df\u306f\u901f\u3084\u304b\u306b\u958b\u653e\u3055\u308c\u3001\u4ed6\u306e\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3067\u307e\u305f\u5229\u7528\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n\u3053\u308c\u306f\u8907\u6570\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4e26\u884c\u5b9f\u884c\u3084GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3088\u308a\u3082\u5de8\u5927\u306a\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306e\u8a2d\u8a08\u3067\u3059\u304c\u3001\u72b6\u6cc1\u306b\u3088\u3063\u3066\u306f\u5fc5\u305a\u3057\u3082\u9069\u5207\u3067\u306f\u306a\u3044\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\n\n\u5178\u578b\u7684\u306a\u4f8b\u306f\u3001\u305d\u308c\u307b\u3069\u5de8\u5927\u3067\u306f\u306a\u304fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306b\u8f09\u308b\u7a0b\u5ea6\u306e\u5927\u304d\u3055\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u3001\u7e70\u308a\u8fd4\u3057\u69d8\u3005\u306a\u6761\u4ef6\u3067\u8a08\u7b97\u3092\u884c\u3046\u3068\u3044\u3063\u305f\u5229\u7528\u30b7\u30fc\u30f3\u3067\u3059\u3002\u3053\u308c\u306f\u6a5f\u68b0\u5b66\u7fd2\u3084\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3001\u985e\u4f3c\u5ea6\u30b5\u30fc\u30c1\u3068\u3044\u3063\u305f\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u304c\u8a72\u5f53\u3057\u307e\u3059\u3002\nS\n\n\n\u73fe\u5728\u306eGPU\u306b\u3068\u3063\u3066\u3001\u6570GB\u7a0b\u5ea6\u306e\u30c7\u30fc\u30bf\u3092\u30aa\u30f3\u30e1\u30e2\u30ea\u3067\u51e6\u7406\u3059\u308b\u4e8b\u306f\u305d\u308c\u307b\u3069\u96e3\u3057\u3044\u51e6\u7406\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001PL/CUDA\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306e\u5ea6\u306bGPU\u3078\u30ed\u30fc\u30c9\u3059\u3079\u304d\u30c7\u30fc\u30bf\u3092CPU\u3067\u52a0\u5de5\u3057\u3001\u3053\u308c\u3092GPU\u3078\u8ee2\u9001\u3059\u308b\u306e\u306f\u30b3\u30b9\u30c8\u306e\u304b\u304b\u308b\u51e6\u7406\u3067\u3059\u3002\n\n\n\u52a0\u3048\u3066\u3001PostgreSQL\u306e\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u306b\u306f1GB\u306e\u30b5\u30a4\u30ba\u4e0a\u9650\u304c\u3042\u308b\u305f\u3081\u3001\u3053\u308c\u3092PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066\u4e0e\u3048\u308b\u5834\u5408\u3001\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u81ea\u4f53\u306f\u5341\u5206\u306bGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306b\u8f09\u308b\u3082\u306e\u3067\u3042\u3063\u3066\u3082\u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u306f\u4e00\u5b9a\u306e\u5236\u7d04\u304c\u5b58\u5728\u3059\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nGPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2(gstore_fdw)\u306f\u3001\u3042\u3089\u304b\u3058\u3081GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u3066\u304a\u304f\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002\n\u3053\u308c\u306b\u3088\u308a\u3001PL/CUDA\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306e\u5ea6\u306b\u5f15\u6570\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u305f\u308a\u30c7\u30fc\u30bf\u3092\u8ee2\u9001\u3059\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u308b\u307b\u304b\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u5bb9\u91cf\u304c\u8a31\u3059\u9650\u308a\u30c7\u30fc\u30bf\u3092\u78ba\u4fdd\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u306e\u3067\u3001\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u306e1GB\u30b5\u30a4\u30ba\u5236\u9650\u3082\u7121\u304f\u306a\u308a\u307e\u3059\u3002\n\n\ngstore_fdw\u306f\u305d\u306e\u540d\u306e\u901a\u308a\u3001PostgreSQL\u306e\u5916\u90e8\u30c7\u30fc\u30bf\u30e9\u30c3\u30d1\uff08Foreign Data Wrapper\uff09\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\ngstore_fdw\u306e\u5236\u5fa1\u3059\u308b\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\uff08Foreign Table\uff09\u306b\u5bfe\u3057\u3066\nINSERT\n\u3001\nUPDATE\n\u3001\nDELETE\n\u306e\u5404\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u3067\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u4e0a\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u66f4\u65b0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u540c\u69d8\u306b\nSELECT\n\u6587\u3092\u7528\u3044\u3066\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3059\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u901a\u3057\u3066GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306b\u683c\u7d0d\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306f\u3001PL/CUDA\u95a2\u6570\u304b\u3089\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\u73fe\u5728\u306e\u3068\u3053\u308d\u3001SQL\u304b\u3089\u900f\u904e\u7684\u306b\u751f\u6210\u3055\u308c\u305fGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u5f53\u8a72GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092\u53c2\u7167\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u304c\u3001\u5c06\u6765\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u304a\u3044\u3066\u6539\u826f\u304c\u4e88\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\u521d\u671f\u8a2d\u5b9a\n\n\n\u901a\u5e38\u3001\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e3\u30b9\u30c6\u30c3\u30d7\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\nCREATE FOREIGN DATA WRAPPER\n\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u5916\u90e8\u30c7\u30fc\u30bf\u30e9\u30c3\u30d1\u3092\u5b9a\u7fa9\u3059\u308b\n\n\nCREATE SERVER\n\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u5916\u90e8\u30b5\u30fc\u30d0\u3092\u5b9a\u7fa9\u3059\u308b\n\n\nCREATE FOREIGN TABLE\n\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9\u3059\u308b\n\n\n\n\n\u3053\u306e\u3046\u3061\u3001\u6700\u521d\u306e2\u30b9\u30c6\u30c3\u30d7\u306f\nCREATE EXTENSION pg_strom\n\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306b\u542b\u307e\u308c\u3066\u304a\u308a\u3001\u500b\u5225\u306b\u5b9f\u884c\u304c\u5fc5\u8981\u306a\u306e\u306f\u6700\u5f8c\u306e\nCREATE FOREIGN TABLE\n\u306e\u307f\u3067\u3059\u3002\n\n\nCREATE FOREIGN TABLE ft (\n    id int,\n    signature smallint[] OPTIONS (compression 'pglz')\n)\nSERVER gstore_fdw OPTIONS(pinning '0', format 'pgstrom');\n\n\n\n\nCREATE FOREIGN TABLE\n\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u969b\u3001\u3044\u304f\u3064\u304b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\nSERVER gstore_fdw\n\u306f\u5fc5\u9808\u3067\u3059\u3002\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u304cgstore_fdw\u306b\u3088\u3063\u3066\u5236\u5fa1\u3055\u308c\u308b\u3053\u3068\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nOPTIONS\n\u53e5\u3067\u306f\u4ee5\u4e0b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u540d\u524d\n\n\n\u5bfe\u8c61\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npinning\n\n\n\u30c6\u30fc\u30d6\u30eb\n\n\n\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3059\u308bGPU\u306e\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n\n\n\n\nformat\n\n\n\u30c6\u30fc\u30d6\u30eb\n\n\nGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u4e0a\u306e\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\npgstrom\n\u3067\u3059\u3002\n\n\n\n\n\n\ncompression\n\n\n\u30ab\u30e9\u30e0\n\n\n\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u3092\u5727\u7e2e\u3057\u3066\u4fdd\u6301\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30b9\u30c8\u306f\u975e\u5727\u7e2e\u3067\u3059\u3002\n\n\n\n\n\n\n\n\nformat\n\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u9078\u629e\u53ef\u80fd\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u73fe\u5728\u306e\u3068\u3053\u308d\npgstrom\n\u306e\u307f\u3067\u3059\u3002\u3053\u308c\u306f\u3001PG-Strom\u304c\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5185\u90e8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u540c\u4e00\u3067\u3059\u3002\n\u7d14\u7c8b\u306bSQL\u3092\u7528\u3044\u3066\u30c7\u30fc\u30bf\u306e\u5165\u51fa\u529b\u3092\u884c\u3046\u3060\u3051\u3067\u3042\u308c\u3070\u30e6\u30fc\u30b6\u304c\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u610f\u8b58\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001PL/CUDA\u95a2\u6570\u3092\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3057\u305f\u308a\u3001IPC\u30cf\u30f3\u30c9\u30eb\u3092\u7528\u3044\u3066\u5916\u90e8\u30d7\u30ed\u30b0\u30e9\u30e0\u3068GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u5171\u6709\u3059\u308b\u5834\u5408\u306b\u306f\u8003\u616e\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\ncompression\n\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u9078\u629e\u53ef\u80fd\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u73fe\u5728\u306e\u3068\u3053\u308d\nplgz\n\u306e\u307f\u3067\u3059\u3002\u3053\u308c\u306f\u3001PostgreSQL\u304c\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u3092\u5727\u7e2e\u3059\u308b\u969b\u306b\u7528\u3044\u3066\u3044\u308b\u3082\u306e\u3068\u540c\u4e00\u306e\u5f62\u5f0f\u3067\u3001PL/CUDA\u95a2\u6570\u304b\u3089\u306fGPU\u5185\u95a2\u6570\npglz_decompress()\n\u3092\u547c\u3073\u51fa\u3059\u4e8b\u3067\u5c55\u958b\u304c\u53ef\u80fd\u3067\u3059\u3002\u5727\u7e2e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u7279\u6027\u4e0a\u3001\u4f8b\u3048\u3070\u30c7\u30fc\u30bf\u306e\u5927\u534a\u304c0\u3067\u3042\u308b\u3088\u3046\u306a\u758e\u884c\u5217\u3092\u8868\u73fe\u3059\u308b\u969b\u306b\u6709\u7528\u3067\u3059\u3002\n\n\n\u904b\u7528\n\n\n\u30c7\u30fc\u30bf\u306e\u30ed\u30fc\u30c9\n\n\n\u901a\u5e38\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u540c\u69d8\u306bINSERT\u3001UPDATE\u3001DELETE\u306b\u3088\u3063\u3066\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u80cc\u5f8c\u306b\u5b58\u5728\u3059\u308bGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u66f4\u65b0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u305f\u3060\u3057\u3001gstore_fdw\u306f\u3053\u308c\u3089\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u958b\u59cb\u6642\u306b\nSHARE UPDATE EXCLUSIVE\n\u30ed\u30c3\u30af\u3092\u7372\u5f97\u3059\u308b\u4e8b\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306f\u3042\u308b\u6642\u70b9\u306b\u304a\u3044\u3066\uff11\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u307f\u304cgstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u66f4\u65b0\u3067\u304d\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\n\u3053\u306e\u5236\u7d04\u306f\u3001PL/CUDA\u95a2\u6570\u304b\u3089gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3059\u308b\u3068\u304d\u306b\u500b\u3005\u306e\u30ec\u30b3\u30fc\u30c9\u5358\u4f4d\u3067\u53ef\u8996\u6027\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u5fc5\u8981\u304c\u306a\u3044\u3068\u3044\u3046\u7279\u6027\u3092\u5f97\u308b\u305f\u3081\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u3067\u3059\u3002\n\n\n\u307e\u305f\u3001gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306b\u66f8\u304d\u8fbc\u307e\u308c\u305f\u5185\u5bb9\u306f\u3001\u901a\u5e38\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u540c\u69d8\u306b\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u30b3\u30df\u30c3\u30c8\u3055\u308c\u308b\u307e\u3067\u306f\u4ed6\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u306f\u4e0d\u53ef\u8996\u3067\u3059\u3002\n\u3053\u306e\u7279\u6027\u306f\u3001\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u539f\u5b50\u6027\u3092\u62c5\u4fdd\u3059\u308b\u306b\u306f\u91cd\u8981\u306a\u6027\u8cea\u3067\u3059\u304c\u3001\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u53c2\u7167\u3059\u308b\u53ef\u80fd\u6027\u306e\u3042\u308b\u5168\u3066\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u30b3\u30df\u30c3\u30c8\u307e\u305f\u306f\u30a2\u30dc\u30fc\u30c8\u3059\u308b\u307e\u3067\u306e\u9593\u306f\u3001\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306egstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u3092GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306b\u4fdd\u6301\u3057\u3066\u304a\u304b\u306d\u3070\u306a\u3089\u306a\u3044\u4e8b\u3092\u610f\u5473\u3057\u307e\u3059\u3002\n\n\n\u305d\u306e\u305f\u3081\u3001\u901a\u5e38\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u540c\u69d8\u306bINSERT\u3001UPDATE\u3001DELETE\u304c\u53ef\u80fd\u3067\u3042\u308b\u3068\u306f\u3044\u3048\u3001\u6570\u884c\u3092\u66f4\u65b0\u3057\u3066\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u30b3\u30df\u30c3\u30c8\u3059\u308b\u3068\u3044\u3046\u4e8b\u3092\u7e70\u308a\u8fd4\u3059\u306e\u306f\u907f\u3051\u308b\u3079\u304d\u3067\u3059\u3002\u57fa\u672c\u7684\u306b\u306f\u5927\u91cf\u884c\u306eINSERT\u306b\u3088\u308b\u30d0\u30eb\u30af\u30ed\u30fc\u30c9\u3092\u884c\u3046\u3079\u304d\u3067\u3059\u3002\n\n\n\u901a\u5e38\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u306f\u7570\u306a\u308a\u3001gstore_fdw\u306b\u8a18\u9332\u3055\u308c\u305f\u5185\u5bb9\u306f\u63ee\u767a\u6027\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u96fb\u6e90\u65ad\u3084PostgreSQL\u306e\u518d\u8d77\u52d5\u306b\u3088\u3063\u3066gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u306f\u5bb9\u6613\u306b\u5931\u308f\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306b\u30ed\u30fc\u30c9\u3059\u308b\u30c7\u30fc\u30bf\u306f\u3001\u4ed6\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u304b\u3089\u5bb9\u6613\u306b\u5fa9\u5143\u53ef\u80fd\u306a\u5f62\u306b\u3057\u3066\u304a\u304f\u3079\u304d\u3067\u3059\u3002\n\n\n\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u6d88\u8cbb\u91cf\u306e\u78ba\u8a8d\n\n\ngstore_fdw\u306b\u3088\u3063\u3066\u6d88\u8cbb\u3055\u308c\u308b\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\npgstrom.gstore_fdw_chunk_info\n\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\n\n\npostgres=# select * from pgstrom.gstore_fdw_chunk_info ;\n database_oid | table_oid | revision | xmin | xmax | pinning | format  |  rawsize  |  nitems\n--------------+-----------+----------+------+------+---------+---------+-----------+----------\n        13806 |     26800 |        3 |    2 |    0 |       0 | pgstrom | 660000496 | 15000000\n        13806 |     26797 |        2 |    2 |    0 |       0 | pgstrom | 440000496 | 10000000\n(2 rows)\n\n\n\n\nnvidia-smi\n\u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u3001\u5404GPU\u30c7\u30d0\u30a4\u30b9\u304c\u5b9f\u969b\u306b\u3069\u306e\u7a0b\u5ea6\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u6d88\u8cbb\u3057\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\nGstore_fdw\u304c\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u306f\u3001PG-Strom GPU memory keeper\u30d7\u30ed\u30bb\u30b9\u304c\u4fdd\u6301\u30fb\u7ba1\u7406\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4e0a\u8a18rawsize\u306e\u5408\u8a08\u7d041100MB\u306b\u52a0\u3048\u3001CUDA\u304c\u5185\u90e8\u7684\u306b\u78ba\u4fdd\u3059\u308b\u9818\u57df\u3092\u5408\u308f\u305b\u30661211MB\u304c\u5360\u6709\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\n$ nvidia-smi\nWed Apr  4 15:11:50 2018\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 390.30                 Driver Version: 390.30                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla P40           Off  | 00000000:02:00.0 Off |                    0 |\n| N/A   39C    P0    52W / 250W |   1221MiB / 22919MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID   Type   Process name                             Usage      |\n|=============================================================================|\n|    0      6885      C   ...bgworker: PG-Strom GPU memory keeper     1211MiB |\n+-----------------------------------------------------------------------------+\n\n\n\n\n\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\n\n\ngstore_fdw\u304cGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u4e0a\u306b\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3059\u308b\u969b\u306e\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u306e\u8a73\u7d30\u306f\u30ce\u30fc\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\npgstrom\n\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u8a73\u7d30\n\n\n\n\n\u5916\u90e8\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u306e\u30c7\u30fc\u30bf\u9023\u643a\n\n\nCUDA\u306b\u306f\ncuIpcGetMemHandle()\n\u304a\u3088\u3073\ncuIpcOpenMemHandle()\n\u3068\u3044\u3046API\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u524d\u8005\u3092\u7528\u3044\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30e6\u30cb\u30fc\u30af\u306a\u8b58\u5225\u5b50\u3092\u53d6\u5f97\u3057\u3001\u5f8c\u8005\u3092\u7528\u3044\u3066\u5225\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u540c\u4e00\u306eGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u53c2\u7167\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\u8a00\u3044\u63db\u3048\u308c\u3070\u3001\u30db\u30b9\u30c8\u30b7\u30b9\u30c6\u30e0\u306b\u304a\u3051\u308b\u5171\u6709\u30e1\u30e2\u30ea\u306e\u3088\u3046\u306a\u4ed5\u7d44\u307f\u3092\u5099\u3048\u3066\u3044\u307e\u3059\u3002\n\n\n\u3053\u306e\u30e6\u30cb\u30fc\u30af\u306a\u8b58\u5225\u5b50\u306f\nCUipcMemHandle\n\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3001\u5185\u90e8\u7684\u306b\u306f\u5358\u7d14\u306a64\u30d0\u30a4\u30c8\u306e\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u3067\u3059\u3002\n\u672c\u7bc0\u3067\u306f\nCUipcMemHandle\n\u8b58\u5225\u5b50\u3092\u5229\u7528\u3057\u3066\u3001PostgreSQL\u3068\u5916\u90e8\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u9593\u3067GPU\u3092\u4ecb\u3057\u305f\u30c7\u30fc\u30bf\u4ea4\u63db\u3092\u884c\u3046\u305f\u3081\u306e\u95a2\u6570\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\nSQL\u95a2\u6570\u306e\u4e00\u89a7\n\n\ngstore_export_ipchandle(reggstore)\n\n\n\u672c\u95a2\u6570\u306f\u3001gstore_fdw\u5236\u5fa1\u4e0b\u306e\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u304cGPU\u4e0a\u306b\u78ba\u4fdd\u3057\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\nCUipcMemHandle\n\u8b58\u5225\u5b50\u3092\u53d6\u5f97\u3057\u3001bytea\u578b\u306e\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u3068\u3057\u3066\u51fa\u529b\u3057\u307e\u3059\u3002\n\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u304c\u7a7a\u3067GPU\u4e0a\u306b\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066\u3044\u306a\u3051\u308c\u3070NULL\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\u7b2c1\u5f15\u6570(\nftable_oid\n): \u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306eOID\u3002\nreggstore\n\u578b\u306a\u306e\u3067\u3001\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u6587\u5b57\u5217\u3067\u6307\u5b9a\u3059\u308b\u4e8b\u3082\u3067\u304d\u308b\u3002\n\n\n\u623b\u308a\u5024: \nCUipcMemHandle\n\u8b58\u5225\u5b50\u306ebytea\u578b\u8868\u73fe\u3002\n\n\n\n\n# select gstore_export_ipchandle('ft');\n                                                      gstore_export_ipchandle\n\n------------------------------------------------------------------------------------------------------------------------------------\n \\xe057880100000000de3a000000000000904e7909000000000000800900000000000000000000000000020000000000005c000000000000001200d0c10101005c\n(1 row)\n\n\n\n\nlo_import_gpu(int, bytea, bigint, bigint, oid=0)\n\n\n\u672c\u95a2\u6570\u306f\u3001\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304cGPU\u4e0a\u306b\u78ba\u4fdd\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092PostgreSQL\u5074\u3067\u4e00\u6642\u7684\u306b\u30aa\u30fc\u30d7\u30f3\u3057\u3001\u5f53\u8a72\u9818\u57df\u306e\u5185\u5bb9\u3092\u8aad\u307f\u51fa\u3057\u3066PostgreSQL\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u66f8\u304d\u51fa\u3057\u307e\u3059\u3002\n\u7b2c5\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u304b\u3089\u8aad\u307f\u51fa\u3057\u305f\u5185\u5bb9\u3067\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u6240\u6709\u8005\u30fb\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u8a2d\u5b9a\u306f\u4fdd\u6301\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u65b0\u305f\u306b\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u304b\u3089\u8aad\u307f\u51fa\u3057\u305f\u5185\u5bb9\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n\n\n\n\n\u7b2c1\u5f15\u6570(\ndevice_nr\n): \u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\n\n\n\u7b2c2\u5f15\u6570(\nipc_mhandle\n): \nCUipcMemHandle\n\u8b58\u5225\u5b50\u306ebytea\u578b\u8868\u73fe\u3002\n\n\n\u7b2c3\u5f15\u6570(\noffset\n): \u8aad\u51fa\u3057\u958b\u59cb\u4f4d\u7f6e\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u5148\u982d\u304b\u3089\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\n\n\n\u7b2c4\u5f15\u6570(\nlength\n): \u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u306e\u8aad\u51fa\u3057\u30b5\u30a4\u30ba\n\n\n\u7b2c5\u5f15\u6570(\nloid\n): \u66f8\u304d\u8fbc\u3080\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eOID\u3002\u7701\u7565\u3057\u305f\u5834\u5408 0 \u304c\u6307\u5b9a\u3055\u308c\u305f\u3082\u306e\u3068\u898b\u306a\u3059\u3002\n\n\n\u623b\u308a\u5024: \u66f8\u304d\u8fbc\u3093\u3060\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eOID\n\n\n\n\nlo_export_gpu(oid, int, bytea, bigint, bigint)\n\n\n\u672c\u95a2\u6570\u306f\u3001\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304cGPU\u4e0a\u306b\u78ba\u4fdd\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092PostgreSQL\u5074\u3067\u4e00\u6642\u7684\u306b\u30aa\u30fc\u30d7\u30f3\u3057\u3001\u5f53\u8a72\u9818\u57df\u3078PostgreSQL\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5185\u5bb9\u3092\u66f8\u304d\u51fa\u3057\u307e\u3059\u3002\n\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b5\u30a4\u30ba\u304c\u6307\u5b9a\u3055\u308c\u305f\u66f8\u304d\u8fbc\u307f\u30b5\u30a4\u30ba\u3088\u308a\u3082\u5c0f\u3055\u3044\u5834\u5408\u3001\u6b8b\u308a\u306e\u9818\u57df\u306f 0 \u3067\u30af\u30ea\u30a2\u3055\u308c\u307e\u3059\u3002\n\n\n\n\n\u7b2c1\u5f15\u6570(\nloid\n): \u8aad\u307f\u51fa\u3059\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eOID\n\n\n\u7b2c2\u5f15\u6570(\ndevice_nr\n): \u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\n\n\n\u7b2c3\u5f15\u6570(\nipc_mhandle\n): \nCUipcMemHandle\n\u8b58\u5225\u5b50\u306ebytea\u578b\u8868\u73fe\u3002\n\n\n\u7b2c4\u5f15\u6570(\noffset\n): \u66f8\u304d\u8fbc\u307f\u958b\u59cb\u4f4d\u7f6e\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u5148\u982d\u304b\u3089\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\n\n\n\u7b2c5\u5f15\u6570(\nlength\n): \u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u306e\u66f8\u304d\u8fbc\u307f\u30b5\u30a4\u30ba\n\n\n\u623b\u308a\u5024: \u5b9f\u969b\u306b\u66f8\u304d\u8fbc\u3093\u3060\u30d0\u30a4\u30c8\u6570\u3002\u6307\u5b9a\u3055\u308c\u305f\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5927\u304d\u3055\u304c\nlength\n\u3088\u308a\u3082\u5c0f\u3055\u306a\u5834\u5408\u3001\nlength\n\u3088\u308a\u3082\u5c0f\u3055\u306a\u5024\u3092\u8fd4\u3059\u4e8b\u304c\u3042\u308b\u3002", 
            "title": "Gstore_fdw"
        }, 
        {
            "location": "/gstore_fdw/#_1", 
            "text": "\u901a\u5e38\u3001PG-Strom\u306fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u4e00\u6642\u7684\u306b\u3060\u3051\u5229\u7528\u3057\u307e\u3059\u3002\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u4e2d\u306b\u5fc5\u8981\u306a\u3060\u3051\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u5272\u308a\u5f53\u3066\u3001\u305d\u306e\u9818\u57df\u306b\u30c7\u30fc\u30bf\u3092\u8ee2\u9001\u3057\u3066SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306bGPU\u30ab\u30fc\u30cd\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002GPU\u30ab\u30fc\u30cd\u30eb\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u5f53\u8a72\u9818\u57df\u306f\u901f\u3084\u304b\u306b\u958b\u653e\u3055\u308c\u3001\u4ed6\u306e\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3067\u307e\u305f\u5229\u7528\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002  \u3053\u308c\u306f\u8907\u6570\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4e26\u884c\u5b9f\u884c\u3084GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3088\u308a\u3082\u5de8\u5927\u306a\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u3092\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081\u306e\u8a2d\u8a08\u3067\u3059\u304c\u3001\u72b6\u6cc1\u306b\u3088\u3063\u3066\u306f\u5fc5\u305a\u3057\u3082\u9069\u5207\u3067\u306f\u306a\u3044\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002  \u5178\u578b\u7684\u306a\u4f8b\u306f\u3001\u305d\u308c\u307b\u3069\u5de8\u5927\u3067\u306f\u306a\u304fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306b\u8f09\u308b\u7a0b\u5ea6\u306e\u5927\u304d\u3055\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u3001\u7e70\u308a\u8fd4\u3057\u69d8\u3005\u306a\u6761\u4ef6\u3067\u8a08\u7b97\u3092\u884c\u3046\u3068\u3044\u3063\u305f\u5229\u7528\u30b7\u30fc\u30f3\u3067\u3059\u3002\u3053\u308c\u306f\u6a5f\u68b0\u5b66\u7fd2\u3084\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3001\u985e\u4f3c\u5ea6\u30b5\u30fc\u30c1\u3068\u3044\u3063\u305f\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u304c\u8a72\u5f53\u3057\u307e\u3059\u3002\nS  \u73fe\u5728\u306eGPU\u306b\u3068\u3063\u3066\u3001\u6570GB\u7a0b\u5ea6\u306e\u30c7\u30fc\u30bf\u3092\u30aa\u30f3\u30e1\u30e2\u30ea\u3067\u51e6\u7406\u3059\u308b\u4e8b\u306f\u305d\u308c\u307b\u3069\u96e3\u3057\u3044\u51e6\u7406\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001PL/CUDA\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306e\u5ea6\u306bGPU\u3078\u30ed\u30fc\u30c9\u3059\u3079\u304d\u30c7\u30fc\u30bf\u3092CPU\u3067\u52a0\u5de5\u3057\u3001\u3053\u308c\u3092GPU\u3078\u8ee2\u9001\u3059\u308b\u306e\u306f\u30b3\u30b9\u30c8\u306e\u304b\u304b\u308b\u51e6\u7406\u3067\u3059\u3002  \u52a0\u3048\u3066\u3001PostgreSQL\u306e\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u306b\u306f1GB\u306e\u30b5\u30a4\u30ba\u4e0a\u9650\u304c\u3042\u308b\u305f\u3081\u3001\u3053\u308c\u3092PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066\u4e0e\u3048\u308b\u5834\u5408\u3001\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u81ea\u4f53\u306f\u5341\u5206\u306bGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306b\u8f09\u308b\u3082\u306e\u3067\u3042\u3063\u3066\u3082\u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u306f\u4e00\u5b9a\u306e\u5236\u7d04\u304c\u5b58\u5728\u3059\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002  GPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2(gstore_fdw)\u306f\u3001\u3042\u3089\u304b\u3058\u3081GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3057\u3066\u304a\u304f\u305f\u3081\u306e\u6a5f\u80fd\u3067\u3059\u3002\n\u3053\u308c\u306b\u3088\u308a\u3001PL/CUDA\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306e\u5ea6\u306b\u5f15\u6570\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u305f\u308a\u30c7\u30fc\u30bf\u3092\u8ee2\u9001\u3059\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u308b\u307b\u304b\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u5bb9\u91cf\u304c\u8a31\u3059\u9650\u308a\u30c7\u30fc\u30bf\u3092\u78ba\u4fdd\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u306e\u3067\u3001\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u306e1GB\u30b5\u30a4\u30ba\u5236\u9650\u3082\u7121\u304f\u306a\u308a\u307e\u3059\u3002  gstore_fdw\u306f\u305d\u306e\u540d\u306e\u901a\u308a\u3001PostgreSQL\u306e\u5916\u90e8\u30c7\u30fc\u30bf\u30e9\u30c3\u30d1\uff08Foreign Data Wrapper\uff09\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002\ngstore_fdw\u306e\u5236\u5fa1\u3059\u308b\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\uff08Foreign Table\uff09\u306b\u5bfe\u3057\u3066 INSERT \u3001 UPDATE \u3001 DELETE \u306e\u5404\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u3067\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u4e0a\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u66f4\u65b0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u540c\u69d8\u306b SELECT \u6587\u3092\u7528\u3044\u3066\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u51fa\u3059\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u901a\u3057\u3066GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306b\u683c\u7d0d\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306f\u3001PL/CUDA\u95a2\u6570\u304b\u3089\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\u73fe\u5728\u306e\u3068\u3053\u308d\u3001SQL\u304b\u3089\u900f\u904e\u7684\u306b\u751f\u6210\u3055\u308c\u305fGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u5f53\u8a72GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092\u53c2\u7167\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u304c\u3001\u5c06\u6765\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u304a\u3044\u3066\u6539\u826f\u304c\u4e88\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002", 
            "title": "\u6982\u8981"
        }, 
        {
            "location": "/gstore_fdw/#_2", 
            "text": "\u901a\u5e38\u3001\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e3\u30b9\u30c6\u30c3\u30d7\u304c\u5fc5\u8981\u3067\u3059\u3002   CREATE FOREIGN DATA WRAPPER \u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u5916\u90e8\u30c7\u30fc\u30bf\u30e9\u30c3\u30d1\u3092\u5b9a\u7fa9\u3059\u308b  CREATE SERVER \u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u5916\u90e8\u30b5\u30fc\u30d0\u3092\u5b9a\u7fa9\u3059\u308b  CREATE FOREIGN TABLE \u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9\u3059\u308b   \u3053\u306e\u3046\u3061\u3001\u6700\u521d\u306e2\u30b9\u30c6\u30c3\u30d7\u306f CREATE EXTENSION pg_strom \u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306b\u542b\u307e\u308c\u3066\u304a\u308a\u3001\u500b\u5225\u306b\u5b9f\u884c\u304c\u5fc5\u8981\u306a\u306e\u306f\u6700\u5f8c\u306e CREATE FOREIGN TABLE \u306e\u307f\u3067\u3059\u3002  CREATE FOREIGN TABLE ft (\n    id int,\n    signature smallint[] OPTIONS (compression 'pglz')\n)\nSERVER gstore_fdw OPTIONS(pinning '0', format 'pgstrom');  CREATE FOREIGN TABLE \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u969b\u3001\u3044\u304f\u3064\u304b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  SERVER gstore_fdw \u306f\u5fc5\u9808\u3067\u3059\u3002\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u304cgstore_fdw\u306b\u3088\u3063\u3066\u5236\u5fa1\u3055\u308c\u308b\u3053\u3068\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002  OPTIONS \u53e5\u3067\u306f\u4ee5\u4e0b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002     \u540d\u524d  \u5bfe\u8c61  \u8aac\u660e      pinning  \u30c6\u30fc\u30d6\u30eb  \u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3059\u308bGPU\u306e\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002    format  \u30c6\u30fc\u30d6\u30eb  GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u4e0a\u306e\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f pgstrom \u3067\u3059\u3002    compression  \u30ab\u30e9\u30e0  \u53ef\u5909\u9577\u30c7\u30fc\u30bf\u3092\u5727\u7e2e\u3057\u3066\u4fdd\u6301\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30b9\u30c8\u306f\u975e\u5727\u7e2e\u3067\u3059\u3002     format \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u9078\u629e\u53ef\u80fd\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u73fe\u5728\u306e\u3068\u3053\u308d pgstrom \u306e\u307f\u3067\u3059\u3002\u3053\u308c\u306f\u3001PG-Strom\u304c\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5185\u90e8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u540c\u4e00\u3067\u3059\u3002\n\u7d14\u7c8b\u306bSQL\u3092\u7528\u3044\u3066\u30c7\u30fc\u30bf\u306e\u5165\u51fa\u529b\u3092\u884c\u3046\u3060\u3051\u3067\u3042\u308c\u3070\u30e6\u30fc\u30b6\u304c\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u610f\u8b58\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001PL/CUDA\u95a2\u6570\u3092\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3057\u305f\u308a\u3001IPC\u30cf\u30f3\u30c9\u30eb\u3092\u7528\u3044\u3066\u5916\u90e8\u30d7\u30ed\u30b0\u30e9\u30e0\u3068GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u5171\u6709\u3059\u308b\u5834\u5408\u306b\u306f\u8003\u616e\u304c\u5fc5\u8981\u3067\u3059\u3002  compression \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u9078\u629e\u53ef\u80fd\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u73fe\u5728\u306e\u3068\u3053\u308d plgz \u306e\u307f\u3067\u3059\u3002\u3053\u308c\u306f\u3001PostgreSQL\u304c\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u3092\u5727\u7e2e\u3059\u308b\u969b\u306b\u7528\u3044\u3066\u3044\u308b\u3082\u306e\u3068\u540c\u4e00\u306e\u5f62\u5f0f\u3067\u3001PL/CUDA\u95a2\u6570\u304b\u3089\u306fGPU\u5185\u95a2\u6570 pglz_decompress() \u3092\u547c\u3073\u51fa\u3059\u4e8b\u3067\u5c55\u958b\u304c\u53ef\u80fd\u3067\u3059\u3002\u5727\u7e2e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u7279\u6027\u4e0a\u3001\u4f8b\u3048\u3070\u30c7\u30fc\u30bf\u306e\u5927\u534a\u304c0\u3067\u3042\u308b\u3088\u3046\u306a\u758e\u884c\u5217\u3092\u8868\u73fe\u3059\u308b\u969b\u306b\u6709\u7528\u3067\u3059\u3002", 
            "title": "\u521d\u671f\u8a2d\u5b9a"
        }, 
        {
            "location": "/gstore_fdw/#_3", 
            "text": "", 
            "title": "\u904b\u7528"
        }, 
        {
            "location": "/gstore_fdw/#_4", 
            "text": "\u901a\u5e38\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u540c\u69d8\u306bINSERT\u3001UPDATE\u3001DELETE\u306b\u3088\u3063\u3066\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u80cc\u5f8c\u306b\u5b58\u5728\u3059\u308bGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u66f4\u65b0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u305f\u3060\u3057\u3001gstore_fdw\u306f\u3053\u308c\u3089\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u958b\u59cb\u6642\u306b SHARE UPDATE EXCLUSIVE \u30ed\u30c3\u30af\u3092\u7372\u5f97\u3059\u308b\u4e8b\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306f\u3042\u308b\u6642\u70b9\u306b\u304a\u3044\u3066\uff11\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u307f\u304cgstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u66f4\u65b0\u3067\u304d\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\n\u3053\u306e\u5236\u7d04\u306f\u3001PL/CUDA\u95a2\u6570\u304b\u3089gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u3092\u53c2\u7167\u3059\u308b\u3068\u304d\u306b\u500b\u3005\u306e\u30ec\u30b3\u30fc\u30c9\u5358\u4f4d\u3067\u53ef\u8996\u6027\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u5fc5\u8981\u304c\u306a\u3044\u3068\u3044\u3046\u7279\u6027\u3092\u5f97\u308b\u305f\u3081\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u3067\u3059\u3002  \u307e\u305f\u3001gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306b\u66f8\u304d\u8fbc\u307e\u308c\u305f\u5185\u5bb9\u306f\u3001\u901a\u5e38\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u540c\u69d8\u306b\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u30b3\u30df\u30c3\u30c8\u3055\u308c\u308b\u307e\u3067\u306f\u4ed6\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u306f\u4e0d\u53ef\u8996\u3067\u3059\u3002\n\u3053\u306e\u7279\u6027\u306f\u3001\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u306e\u539f\u5b50\u6027\u3092\u62c5\u4fdd\u3059\u308b\u306b\u306f\u91cd\u8981\u306a\u6027\u8cea\u3067\u3059\u304c\u3001\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u53c2\u7167\u3059\u308b\u53ef\u80fd\u6027\u306e\u3042\u308b\u5168\u3066\u306e\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u304c\u30b3\u30df\u30c3\u30c8\u307e\u305f\u306f\u30a2\u30dc\u30fc\u30c8\u3059\u308b\u307e\u3067\u306e\u9593\u306f\u3001\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306egstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u3092GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306b\u4fdd\u6301\u3057\u3066\u304a\u304b\u306d\u3070\u306a\u3089\u306a\u3044\u4e8b\u3092\u610f\u5473\u3057\u307e\u3059\u3002  \u305d\u306e\u305f\u3081\u3001\u901a\u5e38\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u540c\u69d8\u306bINSERT\u3001UPDATE\u3001DELETE\u304c\u53ef\u80fd\u3067\u3042\u308b\u3068\u306f\u3044\u3048\u3001\u6570\u884c\u3092\u66f4\u65b0\u3057\u3066\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u30b3\u30df\u30c3\u30c8\u3059\u308b\u3068\u3044\u3046\u4e8b\u3092\u7e70\u308a\u8fd4\u3059\u306e\u306f\u907f\u3051\u308b\u3079\u304d\u3067\u3059\u3002\u57fa\u672c\u7684\u306b\u306f\u5927\u91cf\u884c\u306eINSERT\u306b\u3088\u308b\u30d0\u30eb\u30af\u30ed\u30fc\u30c9\u3092\u884c\u3046\u3079\u304d\u3067\u3059\u3002  \u901a\u5e38\u306e\u30c6\u30fc\u30d6\u30eb\u3068\u306f\u7570\u306a\u308a\u3001gstore_fdw\u306b\u8a18\u9332\u3055\u308c\u305f\u5185\u5bb9\u306f\u63ee\u767a\u6027\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u30b7\u30b9\u30c6\u30e0\u306e\u96fb\u6e90\u65ad\u3084PostgreSQL\u306e\u518d\u8d77\u52d5\u306b\u3088\u3063\u3066gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u306f\u5bb9\u6613\u306b\u5931\u308f\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306b\u30ed\u30fc\u30c9\u3059\u308b\u30c7\u30fc\u30bf\u306f\u3001\u4ed6\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u304b\u3089\u5bb9\u6613\u306b\u5fa9\u5143\u53ef\u80fd\u306a\u5f62\u306b\u3057\u3066\u304a\u304f\u3079\u304d\u3067\u3059\u3002", 
            "title": "\u30c7\u30fc\u30bf\u306e\u30ed\u30fc\u30c9"
        }, 
        {
            "location": "/gstore_fdw/#_5", 
            "text": "gstore_fdw\u306b\u3088\u3063\u3066\u6d88\u8cbb\u3055\u308c\u308b\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f pgstrom.gstore_fdw_chunk_info \u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u3092\u53c2\u7167\u3057\u307e\u3059\u3002  postgres=# select * from pgstrom.gstore_fdw_chunk_info ;\n database_oid | table_oid | revision | xmin | xmax | pinning | format  |  rawsize  |  nitems\n--------------+-----------+----------+------+------+---------+---------+-----------+----------\n        13806 |     26800 |        3 |    2 |    0 |       0 | pgstrom | 660000496 | 15000000\n        13806 |     26797 |        2 |    2 |    0 |       0 | pgstrom | 440000496 | 10000000\n(2 rows)  nvidia-smi \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u3001\u5404GPU\u30c7\u30d0\u30a4\u30b9\u304c\u5b9f\u969b\u306b\u3069\u306e\u7a0b\u5ea6\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u6d88\u8cbb\u3057\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\nGstore_fdw\u304c\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u306f\u3001PG-Strom GPU memory keeper\u30d7\u30ed\u30bb\u30b9\u304c\u4fdd\u6301\u30fb\u7ba1\u7406\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4e0a\u8a18rawsize\u306e\u5408\u8a08\u7d041100MB\u306b\u52a0\u3048\u3001CUDA\u304c\u5185\u90e8\u7684\u306b\u78ba\u4fdd\u3059\u308b\u9818\u57df\u3092\u5408\u308f\u305b\u30661211MB\u304c\u5360\u6709\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u5206\u304b\u308a\u307e\u3059\u3002  $ nvidia-smi\nWed Apr  4 15:11:50 2018\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 390.30                 Driver Version: 390.30                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Tesla P40           Off  | 00000000:02:00.0 Off |                    0 |\n| N/A   39C    P0    52W / 250W |   1221MiB / 22919MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID   Type   Process name                             Usage      |\n|=============================================================================|\n|    0      6885      C   ...bgworker: PG-Strom GPU memory keeper     1211MiB |\n+-----------------------------------------------------------------------------+", 
            "title": "\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u6d88\u8cbb\u91cf\u306e\u78ba\u8a8d"
        }, 
        {
            "location": "/gstore_fdw/#_6", 
            "text": "gstore_fdw\u304cGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u4e0a\u306b\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3059\u308b\u969b\u306e\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u306e\u8a73\u7d30\u306f\u30ce\u30fc\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002   pgstrom \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u8a73\u7d30", 
            "title": "\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f"
        }, 
        {
            "location": "/gstore_fdw/#_7", 
            "text": "CUDA\u306b\u306f cuIpcGetMemHandle() \u304a\u3088\u3073 cuIpcOpenMemHandle() \u3068\u3044\u3046API\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u524d\u8005\u3092\u7528\u3044\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30e6\u30cb\u30fc\u30af\u306a\u8b58\u5225\u5b50\u3092\u53d6\u5f97\u3057\u3001\u5f8c\u8005\u3092\u7528\u3044\u3066\u5225\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u540c\u4e00\u306eGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u53c2\u7167\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\u8a00\u3044\u63db\u3048\u308c\u3070\u3001\u30db\u30b9\u30c8\u30b7\u30b9\u30c6\u30e0\u306b\u304a\u3051\u308b\u5171\u6709\u30e1\u30e2\u30ea\u306e\u3088\u3046\u306a\u4ed5\u7d44\u307f\u3092\u5099\u3048\u3066\u3044\u307e\u3059\u3002  \u3053\u306e\u30e6\u30cb\u30fc\u30af\u306a\u8b58\u5225\u5b50\u306f CUipcMemHandle \u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3001\u5185\u90e8\u7684\u306b\u306f\u5358\u7d14\u306a64\u30d0\u30a4\u30c8\u306e\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u3067\u3059\u3002\n\u672c\u7bc0\u3067\u306f CUipcMemHandle \u8b58\u5225\u5b50\u3092\u5229\u7528\u3057\u3066\u3001PostgreSQL\u3068\u5916\u90e8\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u9593\u3067GPU\u3092\u4ecb\u3057\u305f\u30c7\u30fc\u30bf\u4ea4\u63db\u3092\u884c\u3046\u305f\u3081\u306e\u95a2\u6570\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002", 
            "title": "\u5916\u90e8\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u306e\u30c7\u30fc\u30bf\u9023\u643a"
        }, 
        {
            "location": "/gstore_fdw/#sql", 
            "text": "", 
            "title": "SQL\u95a2\u6570\u306e\u4e00\u89a7"
        }, 
        {
            "location": "/gstore_fdw/#gstore_export_ipchandlereggstore", 
            "text": "\u672c\u95a2\u6570\u306f\u3001gstore_fdw\u5236\u5fa1\u4e0b\u306e\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u304cGPU\u4e0a\u306b\u78ba\u4fdd\u3057\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e CUipcMemHandle \u8b58\u5225\u5b50\u3092\u53d6\u5f97\u3057\u3001bytea\u578b\u306e\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u3068\u3057\u3066\u51fa\u529b\u3057\u307e\u3059\u3002\n\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u304c\u7a7a\u3067GPU\u4e0a\u306b\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066\u3044\u306a\u3051\u308c\u3070NULL\u3092\u8fd4\u3057\u307e\u3059\u3002   \u7b2c1\u5f15\u6570( ftable_oid ): \u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306eOID\u3002 reggstore \u578b\u306a\u306e\u3067\u3001\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u6587\u5b57\u5217\u3067\u6307\u5b9a\u3059\u308b\u4e8b\u3082\u3067\u304d\u308b\u3002  \u623b\u308a\u5024:  CUipcMemHandle \u8b58\u5225\u5b50\u306ebytea\u578b\u8868\u73fe\u3002   # select gstore_export_ipchandle('ft');\n                                                      gstore_export_ipchandle\n\n------------------------------------------------------------------------------------------------------------------------------------\n \\xe057880100000000de3a000000000000904e7909000000000000800900000000000000000000000000020000000000005c000000000000001200d0c10101005c\n(1 row)", 
            "title": "gstore_export_ipchandle(reggstore)"
        }, 
        {
            "location": "/gstore_fdw/#lo_import_gpuint-bytea-bigint-bigint-oid0", 
            "text": "\u672c\u95a2\u6570\u306f\u3001\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304cGPU\u4e0a\u306b\u78ba\u4fdd\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092PostgreSQL\u5074\u3067\u4e00\u6642\u7684\u306b\u30aa\u30fc\u30d7\u30f3\u3057\u3001\u5f53\u8a72\u9818\u57df\u306e\u5185\u5bb9\u3092\u8aad\u307f\u51fa\u3057\u3066PostgreSQL\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u66f8\u304d\u51fa\u3057\u307e\u3059\u3002\n\u7b2c5\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u304b\u3089\u8aad\u307f\u51fa\u3057\u305f\u5185\u5bb9\u3067\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u6240\u6709\u8005\u30fb\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u8a2d\u5b9a\u306f\u4fdd\u6301\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u65b0\u305f\u306b\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u304b\u3089\u8aad\u307f\u51fa\u3057\u305f\u5185\u5bb9\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002   \u7b2c1\u5f15\u6570( device_nr ): \u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7  \u7b2c2\u5f15\u6570( ipc_mhandle ):  CUipcMemHandle \u8b58\u5225\u5b50\u306ebytea\u578b\u8868\u73fe\u3002  \u7b2c3\u5f15\u6570( offset ): \u8aad\u51fa\u3057\u958b\u59cb\u4f4d\u7f6e\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u5148\u982d\u304b\u3089\u306e\u30aa\u30d5\u30bb\u30c3\u30c8  \u7b2c4\u5f15\u6570( length ): \u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u306e\u8aad\u51fa\u3057\u30b5\u30a4\u30ba  \u7b2c5\u5f15\u6570( loid ): \u66f8\u304d\u8fbc\u3080\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eOID\u3002\u7701\u7565\u3057\u305f\u5834\u5408 0 \u304c\u6307\u5b9a\u3055\u308c\u305f\u3082\u306e\u3068\u898b\u306a\u3059\u3002  \u623b\u308a\u5024: \u66f8\u304d\u8fbc\u3093\u3060\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eOID", 
            "title": "lo_import_gpu(int, bytea, bigint, bigint, oid=0)"
        }, 
        {
            "location": "/gstore_fdw/#lo_export_gpuoid-int-bytea-bigint-bigint", 
            "text": "\u672c\u95a2\u6570\u306f\u3001\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304cGPU\u4e0a\u306b\u78ba\u4fdd\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092PostgreSQL\u5074\u3067\u4e00\u6642\u7684\u306b\u30aa\u30fc\u30d7\u30f3\u3057\u3001\u5f53\u8a72\u9818\u57df\u3078PostgreSQL\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5185\u5bb9\u3092\u66f8\u304d\u51fa\u3057\u307e\u3059\u3002\n\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b5\u30a4\u30ba\u304c\u6307\u5b9a\u3055\u308c\u305f\u66f8\u304d\u8fbc\u307f\u30b5\u30a4\u30ba\u3088\u308a\u3082\u5c0f\u3055\u3044\u5834\u5408\u3001\u6b8b\u308a\u306e\u9818\u57df\u306f 0 \u3067\u30af\u30ea\u30a2\u3055\u308c\u307e\u3059\u3002   \u7b2c1\u5f15\u6570( loid ): \u8aad\u307f\u51fa\u3059\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eOID  \u7b2c2\u5f15\u6570( device_nr ): \u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7  \u7b2c3\u5f15\u6570( ipc_mhandle ):  CUipcMemHandle \u8b58\u5225\u5b50\u306ebytea\u578b\u8868\u73fe\u3002  \u7b2c4\u5f15\u6570( offset ): \u66f8\u304d\u8fbc\u307f\u958b\u59cb\u4f4d\u7f6e\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u5148\u982d\u304b\u3089\u306e\u30aa\u30d5\u30bb\u30c3\u30c8  \u7b2c5\u5f15\u6570( length ): \u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u306e\u66f8\u304d\u8fbc\u307f\u30b5\u30a4\u30ba  \u623b\u308a\u5024: \u5b9f\u969b\u306b\u66f8\u304d\u8fbc\u3093\u3060\u30d0\u30a4\u30c8\u6570\u3002\u6307\u5b9a\u3055\u308c\u305f\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5927\u304d\u3055\u304c length \u3088\u308a\u3082\u5c0f\u3055\u306a\u5834\u5408\u3001 length \u3088\u308a\u3082\u5c0f\u3055\u306a\u5024\u3092\u8fd4\u3059\u4e8b\u304c\u3042\u308b\u3002", 
            "title": "lo_export_gpu(oid, int, bytea, bigint, bigint)"
        }, 
        {
            "location": "/plcuda/", 
            "text": "\u672c\u7ae0\u3067\u306f\u3001PL/CUDA\u8a00\u8a9e\u3092\u7528\u3044\u3066\u3001GPU\u3067\u5b9f\u884c\u53ef\u80fd\u306a\u30cd\u30a4\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30e0\u3092SQL\u95a2\u6570\u3068\u3057\u3066\u5b9f\u88c5\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\nPL/CUDA\u6982\u8981\n\n\n\u5185\u90e8\u7684\u306b\u3001PG-Strom\u306fSQL\u69cb\u6587\u3092\u5143\u306bCUDA\u8a00\u8a9e\u306b\u3088\u308bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u751f\u6210\u3057\u3001\u3053\u308c\u3092\u5b9f\u884c\u6642\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u3088\u3063\u3066GPU\u7528\u547d\u4ee4\u30d0\u30a4\u30ca\u30ea\u3092\u751f\u6210\u3057\u307e\u3059\u3002 CUDA\u3068\u306fNVIDIA\u793e\u306e\u63d0\u4f9b\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u74b0\u5883\u3067\u3001C\u8a00\u8a9e\u306b\u4f3c\u305f\u69cb\u6587\u3092\u7528\u3044\u3066GPU\u3067\u4e26\u5217\u5b9f\u884c\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8a18\u8ff0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 SQL\u69cb\u6587\u304b\u3089CUDA\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u5909\u63db\u30d7\u30ed\u30bb\u30b9\u306f\u5185\u90e8\u7684\u306a\u3082\u306e\u3067\u3001\u30e6\u30fc\u30b6\u306e\u8996\u70b9\u304b\u3089\u306f\u3001\u3069\u306e\u3088\u3046\u306aGPU\u7528\u30d7\u30e9\u30b0\u30e9\u30e0\u304c\u751f\u6210\u3001\u5b9f\u884c\u3055\u308c\u308b\u306e\u304b\u3092\u610f\u8b58\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\u4e00\u65b9\u3001PostgreSQL\u3067\u306f\nCREATE LANGUAGE\n\u69cb\u6587\u3092\u7528\u3044\u3066SQL\u95a2\u6570\u306e\u8a18\u8ff0\u306b\u7528\u3044\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u3092\u8ffd\u52a0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 PL/CUDA\u3068\u306f\nCREATE LANGUAGE\n\u69cb\u6587\u306b\u5bfe\u5fdc\u3057\u305f\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u3067\u3001SQL\u3092\u5143\u306bPG-Strom\u304c\u81ea\u52d5\u751f\u6210\u3059\u308bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3060\u3051\u3067\u306a\u304f\u3001\u30e6\u30fc\u30b6\u304c\u5b9f\u88c5\u3057\u305f\u4efb\u610f\u306eGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092SQL\u95a2\u6570\u3068\u3057\u3066\u5b9f\u884c\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\n\nSQL\u95a2\u6570\u306e\u5f15\u6570\u306b\u306f\u3001\u6570\u5024\u578b\u3084\u6587\u5b57\u5217\u578b\u3001\u884c\u5217\u578b\u306a\u3069\u3001PG-Strom\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u3053\u308c\u3089\u306fPL/CUDA\u5b9f\u884c\u7cfb\u304c\u81ea\u52d5\u7684\u306bGPU\u5074\u3078\u30c7\u30fc\u30bf\u3092\u8ee2\u9001\u3059\u308b\u305f\u3081\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068GPU\u9593\u306e\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u306b\u3064\u3044\u3066\u610f\u8b58\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u540c\u69d8\u306b\u3001PL/CUDA\u95a2\u6570\u306e\u623b\u308a\u5024\uff08\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u578b\u3067\u3042\u308b\u5834\u5408\u3092\u542b\u3080\uff09\u3082GPU\u5074\u304b\u3089CPU\u5074\u3078\u3068\u66f8\u304d\u623b\u3055\u308c\u3001SQL\u95a2\u6570\u306e\u623b\u308a\u5024\u3068\u3057\u3066\u6574\u5f62\u3055\u308c\u307e\u3059\u3002\n\n\n\u307e\u305f\u3001PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066gstore_fdw\u3092\u7528\u3044\u3066\u5b9a\u7fa9\u3057\u305f\u5916\u90e8\u8868\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001\u30c7\u30fc\u30bf\u306f\u65e2\u306bGPU\u306b\u30ed\u30fc\u30c9\u6e08\u307f\u3067\u3042\u308b\u305f\u3081PL/CUDA\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e\u305f\u3073\u306b\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u3092\u884c\u3046\u5fc5\u8981\u306f\u306a\u304f\u3001\u307e\u305fPostgreSQL\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u306e\u9577\u3055\u5236\u9650\u3067\u3042\u308b1GB\u3088\u308a\u3082\u5927\u304d\u306a\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u3053\u308c\u3089\u306e\u7279\u5fb4\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u306fGPU\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u306e\u9593\u306e\u30c7\u30fc\u30bf\u306e\u5165\u51fa\u529b\u3068\u3044\u3063\u305f\u5b9a\u578b\u7684\u306a\u51e6\u7406\u306b\u7169\u308f\u3055\u308c\u308b\u4e8b\u306a\u304f\u3001\u7d71\u8a08\u89e3\u6790\u30ed\u30b8\u30c3\u30af\u306e\u5b9f\u88c5\u3084\u9ad8\u901f\u5316\u3068\u3044\u3063\u305f\u751f\u7523\u7684\u306a\u4f5c\u696d\u306b\u6ce8\u529b\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\n\nCREATE FUNCTION\n\u69cb\u6587\u3092\u7528\u3044\u3066PL/CUDA\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u3001\u3053\u306e\u95a2\u6570\u306e\u5b9f\u884c\u6642\u3001\u95a2\u6570\u306e\u5b9a\u7fa9\u90e8\u3092\u305d\u306e\u307e\u307eGPU\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u57cb\u3081\u8fbc\u3093\u3060CUDA\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u3053\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u3001\u30e6\u30fc\u30b6\u5b9a\u7fa9\u51e6\u7406\u306e\u4ed6\u306b\u3001PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u306e\u5909\u6570\u306e\u521d\u671f\u5316\u3084\u3001\u5b9f\u884c\u6642\u30a8\u30e9\u30fc\u3092CPU\u5074\u3078\u8fd4\u5374\u3059\u308b\u305f\u3081\u306e\u88dc\u52a9\u7684\u306a\u30b3\u30fc\u30c9\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002\u307e\u305f\u3001PG-Strom\u306e\u5b9f\u884c\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u306e\u5404\u7a2e\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3059\u308b\u4e8b\u3082\u3067\u304d\u307e\u3059\u3002\n\n\nPL/CUDA\u95a2\u6570\u3092\u7528\u3044\u3066\u4f5c\u6210\u3057\u305f\u30cd\u30a4\u30c6\u30a3\u30d6\u306eCUDA\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u306f\u3001\u7279\u5225\u306a\u30e1\u30e2\u30ea\u4fdd\u8b77\u306a\u3069\u306e\u4ed5\u7d44\u307f\u306f\u306a\u304f\u3001\u30d0\u30b0\u306e\u3042\u308bPL/CUDA\u95a2\u6570\u306e\u5b9f\u884c\u306b\u3088\u308a\u3001GPU\u5b9f\u884c\u74b0\u5883\u3084\u5834\u5408\u306b\u3088\u3063\u3066\u306fPostgreSQL\u5074\u3092\u30af\u30e9\u30c3\u30b7\u30e5\u3055\u305b\u308b\u4e8b\u3082\u53ef\u80fd\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001PL/CUDA\u95a2\u6570\u306e\u5b9a\u7fa9\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7279\u6a29\u30e6\u30fc\u30b6\u306b\u9650\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u306b\u5358\u7d14\u306aPL/CUDA\u95a2\u6570\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 \u3053\u306e\u95a2\u6570\u306f\u3001\nint\n\u578b\u306e\u5f15\u6570\u3092\u4e8c\u3064\u53d6\u308a\u3001\u305d\u306e\u548c\u3092\nint\n\u578b\u3067\u8fd4\u5374\u3057\u307e\u3059\u3002\n\n\npostgres=# CREATE FUNCTION gpu_add(int, int)\nRETURNS int\nAS $$\n#plcuda_include \ncuda_mathlib.h\n\n#plcuda_begin\n  if (get_global_id() == 0)\n    *retval = pgfn_int4pl(kcxt, arg1, arg2);\n#plcuda_end\n$$ LANGUAGE plcuda;\nCREATE FUNCTION\n\n\n\n\n#plcuda_begin\n\u3068\n#plcuda_end\n\u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u304c\u3001PL/CUDA\u95a2\u6570\u306e\u672c\u4f53\u90e8\u5206\u3067\u3059\u3002 \nint\n\u578b\u306e\u5f15\u6570\u306f\u305d\u308c\u305e\u308c\u3001\npg_int4_t\n\u578b\u306e\u5909\u6570\narg1\n\u3001\narg2\n\u3068\u3057\u3066\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u3001\npg_int4_t *\n\u578b\u306e\u30dd\u30a4\u30f3\u30bf\nretval\n\u306e\u793a\u3059\u9818\u57df\u306b\u30bb\u30c3\u30c8\u3057\u305f\u30c7\u30fc\u30bf\u304c\u3001PL/CUDA\u95a2\u6570\u306e\u5b9f\u884c\u7d50\u679c\u3068\u3057\u3066CPU\u5074\u306b\u8fd4\u5374\u3055\u308c\u307e\u3059\u3002\npgfn_int4pl()\n\u306f\ncuda_mathlib.h\n\u3067\u5b9a\u7fa9\u3055\u308c\u305fPG-Strom\u306e\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u306e\u4e00\u3064\u3067\u3001\npg_int4_t\n\u540c\u58eb\u306e\u52a0\u7b97\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\n\u3053\u306ePL/CUDA\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5f15\u6570\u3067\u3042\u308b100, 200\u3068\u3044\u3046\u6574\u6570\u5024\u3092GPU\u5074\u306b\u9001\u51fa\u3057\u3001\u8a08\u7b97\u7d50\u679c\u3067\u3042\u308b300\u3068\u3044\u3046\u5024\u3092GPU\u304b\u3089\u66f8\u304d\u623b\u3057\u3066\u3044\u307e\u3059\u3002\u901a\u5e38\u306eSQL\u95a2\u6570\u3068\u540c\u69d8\u306b\u3001PL/CUDA\u95a2\u6570\u3092\u4ed6\u306eSQL\u5f0f\u306e\u4e00\u90e8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u4e8b\u3082\u3067\u304d\u307e\u3059\u3002\n\n\npostgres=# SELECT gpu_add(100,200);\n gpu_add\n---------\n     300\n(1 row)\n\n\n\n\nPL/CUDA\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u305f\u7d50\u679c\u3001\u3069\u306e\u3088\u3046\u306a\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u751f\u6210\u3055\u308c\u308b\u306e\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\nplcuda_function_source\n\u95a2\u6570\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30b3\u30e1\u30f3\u30c8\u6587\n/* ---- code by pl/cuda function ---- */\n\u3067\u56f2\u307e\u308c\u305f\u30d6\u30ed\u30c3\u30af\u304cPL/CUDA\u95a2\u6570\u306e\u5b9a\u7fa9\u90e8\u304b\u3089\u633f\u5165\u3055\u308c\u305f\u90e8\u5206\u3067\u3059\u3002\n\n\npostgres=# SELECT pgstrom.plcuda_function_source('gpu_add'::regproc);\n                     plcuda_function_source\n----------------------------------------------------------------\n #include \ncuda_device_runtime_api.h\n                          +\n                                                               +\n #define HOSTPTRLEN 8                                          +\n #define DEVICEPTRLEN 8                                        +\n #define BLCKSZ 8192                                           +\n #define MAXIMUM_ALIGNOF 8                                     +\n #define MAXIMUM_ALIGNOF_SHIFT 3                               +\n #define PGSTROM_KERNEL_DEBUG 1                                +\n #include \ncuda_common.h\n                                      +\n                                                               +\n #define PG_BOOLOID 16                                         +\n #define PG_INT2OID 21                                         +\n #define PG_INT4OID 23                                         +\n #define PG_INT8OID 20                                         +\n #define PG_FLOAT2OID 237809                                   +\n #define PG_FLOAT4OID 700                                      +\n #define PG_FLOAT8OID 701                                      +\n #define PG_CASHOID 790                                        +\n #define PG_UUIDOID 2950                                       +\n #define PG_MACADDROID 829                                     +\n #define PG_INETOID 869                                        +\n #define PG_CIDROID 650                                        +\n #define PG_DATEOID 1082                                       +\n #define PG_TIMEOID 1083                                       +\n #define PG_TIMETZOID 1266                                     +\n #define PG_TIMESTAMPOID 1114                                  +\n #define PG_TIMESTAMPTZOID 1184                                +\n #define PG_INTERVALOID 1186                                   +\n #define PG_BPCHAROID 1042                                     +\n #define PG_VARCHAROID 1043                                    +\n #define PG_NUMERICOID 1700                                    +\n #define PG_BYTEAOID 17                                        +\n #define PG_TEXTOID 25                                         +\n #define PG_INT4RANGEOID 3904                                  +\n #define PG_INT8RANGEOID 3926                                  +\n #define PG_TSRANGEOID 3908                                    +\n #define PG_TSTZRANGEOID 3910                                  +\n #define PG_DATERANGEOID 3912                                  +\n                                                               +\n #include \ncuda_mathlib.h\n                                     +\n typedef union {                                               +\n     pg_varlena_t     varlena_v;                               +\n     pg_bool_t        bool_v;                                  +\n     pg_int2_t        int2_v;                                  +\n     pg_int4_t        int4_v;                                  +\n     pg_int8_t        int8_v;                                  +\n     pg_float2_t      float2_v;                                +\n     pg_float4_t      float4_v;                                +\n     pg_float8_t      float8_v;                                +\n #ifdef CUDA_NUMERIC_H                                         +\n     pg_numeric_t     numeric_v;                               +\n #endif                                                        +\n #ifdef CUDA_MISC_H                                            +\n     pg_money_t       money_v;                                 +\n     pg_uuid_t        uuid_v;                                  +\n     pg_macaddr_t     macaddr_v;                               +\n     pg_inet_t        inet_v;                                  +\n     pg_cidr_t        cidr_t;                                  +\n #endif                                                        +\n #ifdef CUDA_TIMELIB_H                                         +\n     pg_date_t        date_v;                                  +\n     pg_time_t        time_v;                                  +\n     pg_timestamp_t   timestamp_v;                             +\n     pg_timestamptz_t timestamptz_v;                           +\n #endif                                                        +\n #ifdef CUDA_TEXTLIB_H                                         +\n     pg_bpchar_t      bpchar_v;                                +\n     pg_text_t        text_v;                                  +\n     pg_varchar_t     varchar_v;                               +\n #endif                                                        +\n #ifdef CUDA_RANGETYPE_H                                       +\n     pg_int4range_t   int4range_v;                             +\n     pg_int8range_t   int8range_v;                             +\n #ifdef CUDA_TIMELIB_H                                         +\n     pg_tsrange_t     tsrange_v;                               +\n     pg_tstzrange_t   tstzrange_v;                             +\n     pg_daterange_t   daterange_v;                             +\n #endif                                                        +\n #endif                                                        +\n   } pg_anytype_t;                                             +\n                                                               +\n                                                               +\n #include \ncuda_plcuda.h\n                                      +\n STATIC_INLINE(void)                                           +\n __plcuda_main_kernel(kern_plcuda *kplcuda,                    +\n                    void *workbuf,                             +\n                    void *results,                             +\n                    kern_context *kcxt)                        +\n {                                                             +\n   pg_int4_t *retval __attribute__ ((unused));                 +\n   pg_int4_t arg1 __attribute__((unused));                     +\n   pg_int4_t arg2 __attribute__((unused));                     +\n   assert(sizeof(*retval) \n= sizeof(kplcuda-\n__retval));       +\n   retval = (pg_int4_t *)kplcuda-\n__retval;                    +\n   arg1 = pg_int4_param(kcxt,0);                               +\n   arg2 = pg_int4_param(kcxt,1);                               +\n                                                               +\n   /* ---- code by pl/cuda function ---- */                    +\n   if (get_global_id() == 0)                                   +\n     *retval = pgfn_int4pl(kcxt, arg1, arg2);                  +\n   /* ---- code by pl/cuda function ---- */                    +\n }                                                             +\n                                                               +\n KERNEL_FUNCTION(void)                                         +\n plcuda_main_kernel_entrypoint(kern_plcuda *kplcuda,           +\n             void *workbuf,                                    +\n             void *results)                                    +\n {                                                             +\n   kern_parambuf *kparams = KERN_PLCUDA_PARAMBUF(kplcuda);     +\n   kern_context kcxt;                                          +\n                                                               +\n   assert(kplcuda-\nnargs \n= kparams-\nnparams);                 +\n   INIT_KERNEL_CONTEXT(\nkcxt,plcuda_main_kernel,kparams);      +\n   __plcuda_main_kernel(kplcuda, workbuf, results, \nkcxt);     +\n   kern_writeback_error_status(\nkplcuda-\nkerror_main, \nkcxt.e);+\n }                                                             +\n                                                               +\n                                                               +\n #include \ncuda_terminal.h\n                                    +\n\n(1 row)\n\n\n\n\nPL/CUDA\u306e\u69cb\u9020\n\n\nPL/CUDA\u306e\u95a2\u6570\u5b9a\u7fa9\u306f\u3001\n#plcuda_...\n\u3067\u59cb\u307e\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u3088\u3063\u3066\u5206\u5272\u3055\u308c\u305f\u3044\u304f\u3064\u304b\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304b\u3089\u69cb\u6210\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u3046\u3061\u3001\n#plcuda_begin\n\u3088\u308a\u59cb\u307e\u308b\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u307f\u304c\u5fc5\u9808\u3067\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u305d\u306e\u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3092\u8ffd\u52a0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n#plcuda_decl\n  [...any declarations...]\n#plcuda_prep\n  [...function body of prep kernel...]\n#plcuda_begin\n  [...function body of main kernel...]\n#plcuda_post\n  [...function body of post kernel...]\n#plcuda_end\n\n\n\n\n#plcuda_decl\n\u3088\u308a\u59cb\u307e\u308b\u5ba3\u8a00\u30d6\u30ed\u30c3\u30af\u306f\u3001\u305d\u306e\u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304b\u3089\u547c\u3073\u51fa\u3059\u4e8b\u304c\u3067\u304d\u308bstatic\u95a2\u6570\u306e\u5ba3\u8a00\u3092\u8a18\u8ff0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 \u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u3088\u3046\u306b\u3001\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5bb9\u304c\u6697\u9ed9\u306e\u3046\u3061\u306b\u7279\u5b9a\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u7d44\u307f\u8fbc\u307e\u308c\u308b\u8a33\u3067\u306f\u306a\u304f\u3001\u5b8c\u5168\u306a\u5f62\u5f0f\u306estatic\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 GPU\u4e0a\u3067\u3042\u308b\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u3092\u8d8a\u3048\u308b\u6570\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u4e26\u5217\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u6642\u3001\u8907\u6570\u306e\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u9593\u3067\u540c\u671f\u3092\u53d6\u308b\u306b\u306f\u3001\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u7d42\u4e86\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5f85\u3061\u5408\u308f\u305b\u308b\u4e8b\u304c\u552f\u4e00\u306e\u65b9\u6cd5\u3067\u3059\u3002 \u4f8b\u3048\u3070\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u304c\u7279\u5b9a\u306e\u5024\u3067\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u308b\u4e8b\u3092\u524d\u63d0\u3068\u3057\u3066\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u5148\u305a\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u521d\u671f\u5316\u3092\u884c\u3044\u3001\u305d\u308c\u304c\u5168\u3066\u5b8c\u4e86\u3059\u308b\u307e\u3067\u306f\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u4e2d\u6838\u90e8\u5206\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u4e00\u90e8\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u672a\u521d\u671f\u5316\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u5bfe\u3057\u3066\u5b9f\u884c\u3055\u308c\u308b\u3068\u3044\u3046\u72b6\u6cc1\u306f\u3001\u5bb9\u6613\u306b\u4e0d\u6b63\u78ba\u306a\u8a08\u7b97\u7d50\u679c\u3084\u5b9f\u884c\u74b0\u5883\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u3092\u62db\u3044\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u5e38\u306b\u907f\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n#plcuda_prep\n\u304b\u3089\u59cb\u307e\u308b\u524d\u51e6\u7406\u30d6\u30ed\u30c3\u30af\u3001\n#plcuda_main\n\u304b\u3089\u59cb\u307e\u308b\u672c\u4f53\u30d6\u30ed\u30c3\u30af\u3001\u304a\u3088\u3073\n#plcuda_post\n\u304b\u3089\u59cb\u307e\u308b\u5f8c\u51e6\u7406\u30d6\u30ed\u30c3\u30af\u306f\u3001\u305d\u308c\u305e\u308c\u30e6\u30fc\u30b6\u5b9a\u7fa9\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5bb9\u304c\u5bfe\u5fdc\u3059\u308b\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u57cb\u3081\u8fbc\u307e\u308c\u307e\u3059\u3002 \u524d\u51e6\u7406\u30d6\u30ed\u30c3\u30af\u3068\u5f8c\u51e6\u7406\u30d6\u30ed\u30c3\u30af\u306e\u5b9a\u7fa9\u306f\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u3067\u3059\u304c\u3001\u3053\u308c\u3089\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u6642\u3001\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3001\u5f8c\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u9806\u3067\u5b9f\u884c\u3055\u308c\u308b\u4e8b\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u3089\u306f\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u306b\u5148\u7acb\u3063\u3066\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3084\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u306e\u521d\u671f\u5316\u3092\u884c\u3046\u4e8b\u3084\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u5f8c\u306b\u6700\u7d42\u7d50\u679c\u3092\u96c6\u8a08\u3059\u308b\u306a\u3069\u306e\u7528\u9014\u306b\u4f7f\u7528\u3059\u308b\u4e8b\u3092\u610f\u56f3\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u4e00\u500b\u306ePL/CUDA\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306f\u3001\u5185\u90e8\u7684\u306b\u306f\u4f55\u500b\u304b\u306eSQL\u95a2\u6570\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002 GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306b\u5148\u7acb\u3063\u3066\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u969b\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u3001\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u3084\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u30b5\u30a4\u30ba\u3068\u3044\u3063\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6c7a\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u3089\u306f\u5f15\u6570\u306b\u3088\u308a\u5909\u52d5\u3059\u308b\u305f\u3081\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u3001\u540c\u3058\u5f15\u6570\u3092\u53d6\u308b\u4ed6\u306eSQL\u95a2\u6570\u3092\u547c\u3073\u3060\u3057\u3066\u3053\u308c\u3089\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u78ba\u5b9a\u3059\u308b\u3068\u3001\u6b21\u306b\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001DMA\u3092\u7528\u3044\u3066PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3092GPU\u4e0a\u306e\u5f15\u6570\u30d0\u30c3\u30d5\u30a1\u306b\u8ee2\u9001\u3057\u307e\u3059\u3002\n\n\n\u7d9a\u3044\u3066\u3001\uff08\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308c\u3070\uff09\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3001\uff08\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308c\u3070\uff09\u5f8c\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u547c\u3073\u3060\u3057\u307e\u3059\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u3092\u8d8a\u3048\u305fGPU\u30b9\u30ec\u30c3\u30c9\u9593\u3067\u540c\u671f\u3092\u53d6\u308b\u65b9\u6cd5\u306f\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u958b\u59cb\u7d42\u4e86\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u4ee5\u5916\u306b\u7121\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u3001\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u3084\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u304c\u3042\u308b\u7279\u5b9a\u306e\u72b6\u614b\u3092\u6301\u3063\u3066\u3044\u308b\u4e8b\u3092\u671f\u5f85\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067\u521d\u671f\u5316\u3092\u884c\u3044\u3001\u6b21\u306b\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067\u3053\u308c\u3089\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u53c2\u7167\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u6700\u5f8c\u306b\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u5185\u5bb9\u3092\u672c\u4f53\u5074\u3078\u66f8\u304d\u623b\u3057\u307e\u3059\u3002 PL/CUDA\u95a2\u6570\u304c\u56fa\u5b9a\u9577\u306e\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u5834\u5408\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u30e6\u30fc\u30b6\u5b9a\u7fa9\u30d6\u30ed\u30c3\u30af\u306e\u958b\u59cb\u524d\u306b\u8a2d\u5b9a\u3059\u308b\u5909\u6570\nretval\n\u30dd\u30a4\u30f3\u30bf\u306e\u793a\u3059\u9818\u57df\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002 PL/CUDA\u95a2\u6570\u304c\u53ef\u5909\u9577\u306e\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u5834\u5408\u3001\nretval\n\u306f\npg_varlena_t\n\u578b\u306e\u9818\u57df\u3092\u6307\u3057\u3066\u304a\u308a\u3001\u305d\u306e\u5024\u304c\u975eNULL\u3067\u3042\u308b\u5834\u5408\u306b\u306f\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\uff08\nvoid *results\n\uff09\u3078\u306e\u53c2\u7167\u3067\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u4ee5\u5916\u306e\u9818\u57df\u3092\u6307\u3057\u3066\u3044\u305f\u3068\u3057\u3066\u3082\u3001\u3053\u308c\u306f\u672c\u4f53\u5074\u3078\u66f8\u304d\u623b\u3055\u308c\u306a\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\ntypedef struct {\n    varlena    *value;      /* reference to the results buffer */\n    cl_bool     isnull;     /* true, if NULL */\n} pg_varlena_t;\n\n\n\n\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u6570\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\n#plcuda_num_threads\n\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u4f7f\u7528\u3055\u308c\u3001\u5b9a\u6570\u5024\u307e\u305f\u306fSQL\u95a2\u6570\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002SQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u6301\u3061\nbigint\n\u578b\u3092\u8fd4\u3059\u95a2\u6570\u3068\u3057\u3066\u5ba3\u8a00\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u540c\u69d8\u306b\u3001\n#plcuda_shmem_unitsz\n\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u3067\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u6642\u306b\u52d5\u7684\u306b\u78ba\u4fdd\u3059\u308b\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u306e\u5927\u304d\u3055\u3067\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a8\u30d0\u30a4\u30c8\u306e\u5171\u6709\u30e1\u30e2\u30ea\u3092\u4f7f\u7528\u3059\u308bGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a384\u30b9\u30ec\u30c3\u30c9\u3067\u8d77\u52d5\u3055\u308c\u305f\u5834\u5408\u30013KB\u306e\u5171\u6709\u30e1\u30e2\u30ea\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u8a00\u3046\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u30b9\u30ec\u30c3\u30c9\u6570\u306f\u3001\u6700\u9069\u5316\u306e\u7d50\u679c\u81ea\u52d5\u7684\u306b\u7b97\u51fa\u3055\u308c\u308b\u5024\u3067\u3001#plcuda_num_threads\u3067\u6307\u5b9a\u3059\u308b\u5024\u3068\u306f\u7570\u306a\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u307e\u305f\u3001\n#plcuda_kernel_maxthreads\n\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u3067\u3001\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304b\u3089\u4f5c\u6210\u3055\u308c\u308b\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u6700\u9069\u5316\u65b9\u91dd\u3092\u3001\u5b9f\u884c\u52b9\u7387\u6700\u5927\u5316\u304b\u3089\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u30b9\u30ec\u30c3\u30c9\u6570\u6700\u5927\u5316\uff08\u901a\u5e38\u30011024\u30b9\u30ec\u30c3\u30c9\uff09\u3078\u3068\u5207\u308a\u66ff\u3048\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u304c\u5897\u52a0\u3059\u308b\u4e8b\u3067\u3001\u7e2e\u7d04\u6f14\u7b97\u306a\u3069\u3001\u5171\u6709\u30e1\u30e2\u30ea\u3092\u7528\u3044\u305f\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u9593\u306e\u540c\u671f\u51e6\u7406\u3092\u4e2d\u6838\u3068\u3059\u308b\u51e6\u7406\u3067\u306e\u6027\u80fd\u5411\u4e0a\u304c\u671f\u5f85\u3067\u304d\u308b\u307e\u3059\u3002\u305f\u3060\u4e00\u65b9\u3067\u3001\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u306e\u30ec\u30b8\u30b9\u30bf\u6570\u306f\u5c11\u306a\u304f\u306a\u308b\u305f\u3081\u3001\u51e6\u7406\u306e\u7279\u6027\u306b\u3088\u308b\u4f7f\u3044\u5206\u3051\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n#plcuda_num_threads (\nvalue\n|\nfunction name\n)\n#plcuda_shmem_unitsz  (\nvalue\n|\nfunction name\n)\n#plcuda_kernel_maxthreads\n\n\n\n\nPL/CUDA\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n\n\n\u672c\u7bc0\u306fPL/CUDA\u95a2\u6570\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3001\u304a\u3088\u3073\u95a2\u9023\u3059\u308bSQL\u95a2\u6570\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3067\u3059\u3002\n\n\nPL/CUDA\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\n\n\n#plcuda_begin\n\n\n\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u958b\u59cb\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u5fc5\u9808\u3067\u3059\u3002 GPU\u4e0a\u3067\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5b9f\u884c\u958b\u59cb\u306b\u5148\u7acb\u3063\u3066\u3001PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u306f\narg1\n\u3001\narg2\n\u3001...\u3068\u3044\u3046\u5909\u6570\u540d\u3067\u53c2\u7167\u53ef\u80fd\u3068\u306a\u308b\u3088\u3046\u521d\u671f\u5316\u3055\u308c\u307e\u3059\u3002 \u3053\u308c\u3089\u306e\u5909\u6570\u306f\u3001PG-Strom\u304cSQL\u30c7\u30fc\u30bf\u578b\u3092GPU\u4e0a\u3067\u8868\u73fe\u3059\u308b\u306e\u3068\u540c\u3058\u8868\u73fe\u3092\u6301\u3063\u3066\u304a\u308a\u3001\u4f8b\u3048\u3070\u3001\u5358\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u3067\u3042\u308b\nreal\n\u578b\u306e\u5f15\u6570\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3055\u308c\u305f\npg_float4_t\n\u578b\u306e\u5909\u6570\u3068\u3057\u3066\u8868\u73fe\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\ntypedef struct {\n    cl_float    value;\n    cl_bool     isnull;\n} pg_float4_t;\n\n\n\n\n\u3053\u308c\u3089\u306e\u5909\u6570\u306f\u5404\u30b9\u30ec\u30c3\u30c9\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u9818\u57df\u306b\u78ba\u4fdd\u3055\u308c\u3066\u304a\u308a\u3001\u5909\u6570\u3092\u66f4\u65b0\u3057\u305f\u3068\u3057\u3066\u3082\u6b21\u30b9\u30c6\u30c3\u30d7\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u306f\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u7d42\u4e86\u5f8c\u3001\u6b21\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u72b6\u614b\u3092\u5f15\u304d\u7d99\u3050\u306b\u306f\u3001\nvoid *workbuf\n\u30dd\u30a4\u30f3\u30bf\u304c\u53c2\u7167\u3059\u308b\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u304b\u3001\nvoid *results\n\u30dd\u30a4\u30f3\u30bf\u306e\u53c2\u7167\u3059\u308b\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306b\u5024\u3092\u683c\u7d0d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n#plcuda_end\n\n\n\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u7d42\u4e86\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3042\u308b\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u958b\u59cb\u3092\u5ba3\u8a00\u3057\u305f\u5834\u5408\u3001\u73fe\u5728\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306f\u6697\u9ed9\u306e\u3046\u3061\u306b\n#plcuda_end\n\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u3088\u3063\u3066\u7d42\u4e86\u3057\u305f\u3082\u306e\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\n\n\n#plcuda_decl\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002 \u5168\u3066\u306ekernel\u95a2\u6570\u306e\u5b9a\u7fa9\u306b\u5148\u7acb\u3063\u3066\u5ba3\u8a00\u3057\u3066\u304a\u304f\u3079\u304d\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u958b\u59cb\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002 \u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3068\u306f\u7570\u306a\u308a\u3001\u5185\u5bb9\u304c\u81ea\u52d5\u7684\u306bkernel\u95a2\u6570\u3068\u3057\u3066\u5c55\u958b\u3055\u308c\u308b\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u306e\u3067\u3001\u5b8c\u5168\u306a\u95a2\u6570\u5b9a\u7fa9\u3092\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n#plcuda_prep\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\n#plcuda_begin\n\u304b\u3089\u59cb\u307e\u308b\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u306b\u5148\u7acb\u3063\u3066GPU\u3067\u5b9f\u884c\u3059\u3079\u304d\u3001\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3084\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u306e\u521d\u671f\u5316\u3092\u884c\u3046\u4e8b\u3092\u610f\u56f3\u3057\u3066\u304a\u308a\u3001\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u306f\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u5b9f\u884c\u3055\u308c\u307e\u305b\u3093\u3002 PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3078\u306f\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3068\u540c\u69d8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n#plcuda_post\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\n#plcuda_begin\n\u304b\u3089\u59cb\u307e\u308b\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u5f8c\u306bGPU\u3067\u5b9f\u884c\u3059\u3079\u304d\u3001\u5f8c\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001CPU\u5074\u306b\u8fd4\u5374\u3059\u308b\u6700\u7d42\u7d50\u679c\u3092\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306b\u30bb\u30c3\u30c8\u3059\u308b\u4e8b\u3092\u610f\u56f3\u3057\u3066\u304a\u308a\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u306f\u5f8c\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u5b9f\u884c\u3055\u308c\u307e\u305b\u3093\u3002 PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3078\u306f\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3068\u540c\u69d8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n#plcuda_num_threads (\nvalue\n|\nfunction\n)\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3068\u3057\u3066\u5b9a\u6570\n1\n\u304c\u4f7f\u308f\u308c\u307e\u3059\u3002\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c#plcuda_prep\u3001#plcuda_begin\u3001\u304a\u3088\u3073#plcuda_post\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001\u305d\u308c\u305e\u308c\u306eGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u969b\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305f\u6570\u306eGPU\u30b9\u30ec\u30c3\u30c9\u3092\u8d77\u52d5\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u6570\u306eGPU\u30b9\u30ec\u30c3\u30c9\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001bigint\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n#plcuda_shmem_unitsz (\nvalue\n|\nfunction\n)\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u5b9a\u6570\n0\n\u3067\u3059\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\n#plcuda_prep\n\u3001\n#plcuda_begin\n\u3001\u304a\u3088\u3073\n#plcuda_post\n\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001\u305d\u308c\u305e\u308c\u306eGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u969b\u306b\u52d5\u7684\u306b\u78ba\u4fdd\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\n\u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001\nbigint\n\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u6642\u306b\u5b9f\u969b\u306b\u78ba\u4fdd\u3055\u308c\u308b\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u306f\u3001\u672c\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u3088\u3063\u3066\u6307\u5b9a\u3057\u305f\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3060\u3051\u3067\u306a\u304f\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u306b\u4f9d\u5b58\u3059\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08\u307e\u305f\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u306f#plcuda_num_threads\u3067\u6307\u5b9a\u3057\u305f\u5024\u3068\u3082\u7570\u306a\u308b\u6982\u5ff5\u3067\u3042\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09 \u4f8b\u3048\u3070\u3001\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u304c8\u30d0\u30a4\u30c8\u3067\u3042\u308a\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u304c384\u3067\u3042\u308b\u5834\u5408\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u6bce\u306b3KB\u306e\u5171\u6709\u30e1\u30e2\u30ea\u304c\u78ba\u4fdd\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u6642\u3001#plcuda_num_threads\u3067\u6307\u5b9a\u3057\u305f\u30b9\u30ec\u30c3\u30c9\u6570\u304c32768\u3067\u3042\u308c\u3070\u3001\u3053\u306eGPU\u30ab\u30fc\u30cd\u30eb\u306f86\u500b\u306e\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u304c\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u306b\u30bf\u30b9\u30af\u304c\u6295\u5165\u3055\u308c\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u6c7a\u3081\u308b\u306e\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u5f79\u5272\u3067\u3059\u306e\u3067\u3001\u5fc5\u305a\u3057\u30823KB x 86\u500b = 258KB\u306e\u5171\u6709\u30e1\u30e2\u30ea\u304c\u4e00\u5ea6\u306b\u6d88\u8cbb\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n#plcuda_shmem_blocksz (\nvalue\n|\nfunction\n)\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u5b9a\u65700\u3067\u3059\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c\n#plcuda_prep\n\u3001\n#plcuda_begin\n\u3001\u304a\u3088\u3073\n#plcuda_post\n\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001\u305d\u308c\u305e\u308c\u306eGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u969b\u306b\u52d5\u7684\u306b\u78ba\u4fdd\u3059\u308b\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30d6\u30ed\u30c3\u30af\u6bce\u5171\u6709\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\n\u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001\nbigint\n\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n#plcuda_kernel_blocksz (\nvalue\n|\nfunction\n)\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\n\n\n#plcuda_prep\n\u3001\n#plcuda_begin\n\u3001\u304a\u3088\u3073\n#plcuda_post\n\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u901a\u5e38\u3001\u3053\u306e\u5024\u306f\u30c7\u30d0\u30a4\u30b9\u306eWARP\u5024\u306e\u500d\u6570\u3067\u3042\u308a1024\u4ee5\u4e0b\u3067\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u6d88\u8cbb\u91cf\u306b\u57fa\u3065\u3044\u305f\u6700\u9069\u306a\u5024\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u6027\u8cea\u4e0a\u5927\u304d\u306a\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u304c\u671b\u307e\u3057\u3044\u306a\u3069\u306e\u7406\u7531\u304c\u306a\u3044\u9650\u308a\u3001\u672c\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3059\u3079\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30d6\u30ed\u30c3\u30af\u3092\u8a2d\u5b9a\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30d6\u30ed\u30c3\u30af\u3092\u8a2d\u5b9a\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001bigint\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u30b9\u30ec\u30c3\u30c9\u6570\u304c\u591a\u304f\u306a\u308b\u3068\u3001\u3088\u308a\u591a\u304f\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u5171\u6709\u30e1\u30e2\u30ea\u3092\u4ecb\u3057\u3066\u540c\u671f\u51e6\u7406\u3092\u884c\u3046\u4e8b\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u534a\u9762\u3001\u30b9\u30ec\u30c3\u30c9\u304c\u4f7f\u7528\u3067\u304d\u308b\u30ec\u30b8\u30b9\u30bf\u6570\u304c\u6e1b\u5c11\u3059\u308b\u305f\u3081\u3001\u4e00\u90e8\u306e\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u304c\u30b0\u30ed\u30fc\u30d0\u30eb\u30e1\u30e2\u30ea\u4e0a\u306b\u78ba\u4fdd\u3055\u308c\u308b\u306a\u3069\u6027\u80fd\u9762\u3067\u306f\u4e0d\u5229\u306b\u306a\u308b\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n#plcuda_include (\"library name\"|\nfunction name\n)\n\n\nPG-Strom\u306e\u9759\u7684GPU\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u307e\u305f\u306f\u30e6\u30fc\u30b6\u5b9a\u7fa9\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u3001PL/CUDA\u95a2\u6570\u5185\u3067\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u30b5\u30fc\u30d0\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u4efb\u610f\u306e\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3067\u306f\u306a\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u4ee5\u4e0b\u306e\u8868\u306b\u3042\u308bPG-Strom\u306e\u9759\u7684GPU\u30e9\u30a4\u30d6\u30e9\u30ea\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u751f\u6210\u3055\u308c\u308bCUDA C\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5148\u982d\u306b\u6307\u5b9a\u3055\u308c\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\u6b63\u76f4\u306a\u3068\u3053\u308d\u3001\u3053\u306e\u7528\u6cd5\u306f\u53e4\u3044\u3082\u306e\u3067\u3042\u308a\u5229\u7528\u30b7\u30fc\u30f3\u306f\u9650\u3089\u308c\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n\u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\n#plcuda_include\n\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u5b58\u5728\u3057\u305f\u5834\u6240\u306b\u3001\u623b\u308a\u5024\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u633f\u5165\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001\ntext\n\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u540d\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\n\"cuda_dynpara.h\"\n\n\nGPU\u5185\u3067\u52d5\u7684\u306b\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308bDynamic Parallelism\u95a2\u9023\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002 \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3059\u308b\u3068\u3001CUDA\u306e\u30c7\u30d0\u30a4\u30b9\u30e9\u30f3\u30bf\u30a4\u30e0\u3082\u540c\u6642\u306b\u30ea\u30f3\u30af\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\n\n\n\"cuda_matrix.h\"\n\n\nSQL\u306e\u914d\u5217\u578b\u3092\u30d9\u30af\u30c8\u30eb/\u884c\u5217\u3068\u898b\u306a\u3057\u3066\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002\n\n\n\n\n\n\n\"cuda_timelib.h\"\n\n\nSQL\u306e\u65e5\u4ed8\u6642\u523b\u578b\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002\n\n\n\n\n\n\n\"cuda_textlib.h\"\n\n\nSQL\u306e\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u578b\u3001\u304a\u3088\u3073LIKE\u30aa\u30da\u30ec\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002\n\n\n\n\n\n\n\"cuda_numeric.h\"\n\n\nSQL\u306eNumeric\u30c7\u30fc\u30bf\u578b\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002\n\n\n\n\n\n\n\"cuda_mathlib.h\"\n\n\nSQL\u306e\u6570\u5b66\u95a2\u6570\u3084\u56db\u5247\u6f14\u7b97\u30aa\u30da\u30ec\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002\n\n\n\n\n\n\n\"cuda_money.h\"\n\n\nSQL\u306e\u901a\u8ca8\u578b\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002\n\n\n\n\n\n\n\"cuda_curand.h\"\n\n\nCUDA\u306e\u4e71\u6570\u751f\u6210\u30e9\u30a4\u30d6\u30e9\u30ea\ncurand\n\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002\n\n\n\n\n\n\n\n\n#plcuda_results_bufsz (\nvalue\n|\nfunction\n)\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u5b9a\u65700\u3067\u3059\n\n\nPL/CUDA\u95a2\u6570\u306e\u5b9f\u884c\u6642\u306b\u78ba\u4fdd\u3059\u308b\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u5927\u304d\u3055\u3092\u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002PL/CUDA\u95a2\u6570\u304c\u53ef\u5909\u9577\u578b\u30c7\u30fc\u30bf\u3092\u8fd4\u5374\u3059\u308b\u969b\u306b\u306f\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u78ba\u4fdd\u306f\u5fc5\u9808\u3067\u3059\u3002\n\n\n\u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30a4\u30c8\u6570\u306eGPU RAM\u3092\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u78ba\u4fdd\u3057\u3066\u304b\u3089GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30a4\u30c8\u6570\u306eGPU RAM\u3092\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u78ba\u4fdd\u3057\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001bigint\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304b\u3089\u306f\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306f\u5f15\u6570\nvoid *results\n\u3067\u6307\u5b9a\u3055\u308c\u305f\u9818\u57df\u3068\u3057\u3066\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u3067\u3059\u3002 0\u30d0\u30a4\u30c8\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\nvoid *results\n\u306b\u306f\nNULL\n\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\n\n\n#plcuda_working_bufsz (\nvalue\n|\nfunction\n)\n\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u5b9a\u65700\u3067\u3059\n\n\nPL/CUDA\u95a2\u6570\u306e\u5b9f\u884c\u6642\u306b\u78ba\u4fdd\u3059\u308b\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u306e\u5927\u304d\u3055\u3092\u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n\u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30a4\u30c8\u6570\u306eGPU RAM\u3092\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u78ba\u4fdd\u3057\u3066\u304b\u3089GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30a4\u30c8\u6570\u306eGPU RAM\u3092\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u78ba\u4fdd\u3057\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001\nbigint\n\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304b\u3089\u306f\u3001\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u306f\u5f15\u6570\nvoid *workbuf\n\u3067\u6307\u5b9a\u3055\u308c\u305f\u9818\u57df\u3068\u3057\u3066\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u3067\u3059\u3002 0\u30d0\u30a4\u30c8\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\nvoid *workbuf\n\u306b\u306f\nNULL\n\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\n\n\n#plcuda_sanity_check \nfunction\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u306e\u8d77\u52d5\u306b\u5148\u7acb\u3063\u3066\u3001\u5f15\u6570\u306e\u59a5\u5f53\u6027\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306eSQL\u95a2\u6570\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u59a5\u5f53\u6027\u691c\u8a3c\u95a2\u6570\u306f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\nGPU\u30c7\u30d0\u30a4\u30b9\u306e\u521d\u671f\u5316\u306a\u3069\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001\u901a\u5e38\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u8d77\u52d5\u306fCPU\u4e0a\u3067\u5225\u306e\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u3088\u308a\u3082\u91cd\u3044\u51e6\u7406\u3067\u3059\u3002\u3082\u3057\u5f15\u6570\u304cPL/CUDA\u95a2\u6570\u306e\u4ed5\u69d8\u304b\u3089\u306f\u8a31\u5bb9\u3067\u304d\u306a\u3044\u5024\u3092\u6301\u3063\u3066\u3044\u308b\u5834\u5408\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u6570\u5343\uff5e\u6570\u767e\u4e07\uff08\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u305d\u308c\u4ee5\u4e0a\u306e\uff09\u306eGPU\u30b9\u30ec\u30c3\u30c9\u306f\u3001\u305f\u3060\u5f15\u6570\u306e\u59a5\u5f53\u6027\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u30a8\u30e9\u30fc\u72b6\u614b\u3092\u8fd4\u5374\u3059\u308b\u305f\u3081\u3060\u3051\u306b\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001\u5f15\u6570\u306e\u59a5\u5f53\u6027\u30c1\u30a7\u30c3\u30af\u3092\u5341\u5206\u5c0f\u3055\u306a\u30b3\u30b9\u30c8\u3067\u884c\u3048\u308b\u306a\u3089\u3070\u3001\u59a5\u5f53\u6027\u691c\u8a3c\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u524d\u306b\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u308b\u3053\u3068\u3092\u8003\u616e\u3059\u3079\u304d\u3067\u3059\u3002 \u59a5\u5f53\u6027\u691c\u8a3c\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u3058\u578b\u306e\u5f15\u6570\u3092\u6301\u3061\u3001\nbool\n\u8fd4\u3059\u95a2\u6570\u3067\u3059\u3002\n\n\n#plcuda_cpu_fallback \nfunction\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3068\u540c\u7b49\u306e\u51e6\u7406\u3092\u884c\u3046CPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fCPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\n\n\nGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304cStromError_CpuReCheck\u30a8\u30e9\u30fc\u3092\u8fd4\u5374\u3057\u3001\u3055\u3089\u306bCPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306fGPU\u3067\u306e\u51e6\u7406\u7d50\u679c\u3092\u7834\u68c4\u3057\u3066CPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3092\u547c\u3073\u3060\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u5fc5\u305a\u3057\u3082\u5168\u3066\u306e\u5165\u529b\u306b\u5bfe\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u53ef\u80fd\u3067\u306a\u3044\uff08\u4f8b\u3048\u3070\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u304cGPU RAM\u306b\u8f09\u308a\u304d\u3089\u306a\u3044\u306a\u3069\uff09\u5834\u5408\u306b\u3001\u4ee3\u66ff\u306e\u6551\u6e08\u7b56\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u6709\u7528\u3067\u3059\u3002\u305f\u3060\u3057\u3001CPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306f\u30b7\u30f3\u30b0\u30eb\u30b9\u30ec\u30c3\u30c9\u3067\u5b9f\u884c\u3055\u308c\u308b\u305f\u3081\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u72a0\u7272\u306b\u306a\u3089\u3056\u308b\u3092\u5f97\u306a\u3044\u70b9\u306b\u306f\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nPL/CUDA \u95a2\u9023\u95a2\u6570\n\n\n\n\n\n\n\n\n\u95a2\u6570\u5b9a\u7fa9\n\n\n\u7d50\u679c\u578b\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\nplcuda_function_source(regproc)\n\n\ntext\n\n\n\u5f15\u6570\u3068\u3057\u3066PL/CUDA\u95a2\u6570\u306eOID\u3092\u4e0e\u3048\u308b\u3068\u3001PL/CUDA\u95a2\u6570\u304b\u3089\u751f\u6210\u3055\u308c\u308bGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u306e\u884c\u5217\u578b\u95a2\u6570\n\n\n\u672c\u7bc0\u3067\u306fPG-Strom\u306e\u63d0\u4f9b\u3059\u308b\u914d\u5217\u30d9\u30fc\u30b9\u306e\u884c\u5217\u578b\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308bSQL\u95a2\u6570\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\nPostgreSQL\u306b\u306f\u884c\u5217\u3092\u8868\u73fe\u3059\u308b\u305f\u3081\u306e\u5c02\u7528\u306e\u30c7\u30fc\u30bf\u578b\u306f\u5b58\u5728\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u4e8c\u6b21\u5143\u914d\u5217\u3092\u3042\u305f\u304b\u3082\u884c\u5217\u3067\u3042\u308b\u304b\u306e\u3088\u3046\u306b\u53d6\u308a\u6271\u3046\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\n\n\n\u4e8c\u6b21\u5143\u914d\u5217\u3067\u3042\u308b\n\n\n\u5404\u6b21\u5143\u306e\u914d\u5217\u8981\u7d20\u304c1\u304b\u3089\u59cb\u307e\u308b\n\n\nNULL\u5024\u3092\u542b\u307e\u306a\u3044\n\n\n\u914d\u5217\u306e\u5927\u304d\u3055\u304c1GB\u3092\u8d8a\u3048\u306a\u3044\u3002\uff08PostgreSQL\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u8868\u73fe\u306b\u3088\u308b\u5236\u7d04\uff09\n\n\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u914d\u5217\u3067\u3042\u308b\n\n\n\n\n\u914d\u5217\u304c\u3053\u308c\u3089\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u6642\u3001\u884c\u5217\u306e(i,j)\u8981\u7d20\u306e\u4f4d\u7f6e\u306f\u6dfb\u3048\u5b57\u304b\u3089\u4e00\u610f\u306b\u7279\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u3001GPU\u30b9\u30ec\u30c3\u30c9\u304c\u81ea\u3089\u306e\u51e6\u7406\u3059\u3079\u304d\u30c7\u30fc\u30bf\u3092\u52b9\u7387\u7684\u306b\u53d6\u308a\u51fa\u3059\u4e8b\u3092\u53ef\u80fd\u3068\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u901a\u5e38\u306e\u884c\u5f62\u5f0f\u30c7\u30fc\u30bf\u3068\u306f\u7570\u306a\u308a\u3001\u8a08\u7b97\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u306e\u307f\u3092\u30ed\u30fc\u30c9\u3059\u308b\u4e8b\u306b\u306a\u308b\u305f\u3081\u3001\u30e1\u30e2\u30ea\u6d88\u8cbb\u3084\u30c7\u30fc\u30bf\u8ee2\u9001\u306e\u70b9\u3067\u6709\u5229\u3067\u3059\u3002 PG-Strom\u306f\u3001\u3053\u306e\u69d8\u306a\u7591\u4f3c\u7684\u306a\u884c\u5217\u578b\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306b\u793a\u3059SQL\u95a2\u6570\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u95a2\u6570\u5b9a\u7fa9\n\n\n\u7d50\u679c\u578b\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\narray_matrix(variadic arg, ...)\n\n\narray\n\n\n\u5165\u529b\u3055\u308c\u305f\u884c\u3092\u5168\u3066\u9023\u7d50\u3057\u305f\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u8fd4\u3059\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001\nfloat\n\u578b\u306e\u5f15\u6570x\u3001y\u3001z\u30921000\u884c\u5165\u529b\u3059\u308b\u3068\u3001\u540c\u3058\nfloat\n\u578b\u30673\u5217\u00d71000\u884c\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u8fd4\u3057\u307e\u3059\u3002\n\u3053\u306e\u95a2\u6570\u306f\u53ef\u5909\u9577\u5f15\u6570\u3092\u53d6\u308b\u3088\u3046\u5b9a\u7fa9\u3055\u308c\u3066\u304a\u308a\u3001\narg\n\u306f1\u500b\u4ee5\u4e0a\u306e\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u30b9\u30ab\u30e9\u30fc\u5024\u3067\u3001\u5168\u3066\u306e\narg\n\u5024\u306f\u540c\u3058\u30c7\u30fc\u30bf\u578b\u3092\u6301\u3064\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\n\n\nmatrix_unnest(array)\n\n\nrecord\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u884c\u306e\u96c6\u5408\u306b\u5c55\u958b\u3059\u308b\u96c6\u5408\u95a2\u6570\u3067\u3059\u3002\narray\n\u306f\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u914d\u5217\u3067\u3001\u884c\u5217\u306e\u5e45\u306b\u5fdc\u3058\u30661\u500b\u4ee5\u4e0a\u306e\u30ab\u30e9\u30e0\u304b\u3089\u306a\u308b\nrecord\n\u578b\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u300110\u5217\u00d7500\u884c\u304b\u3089\u6210\u308b\u884c\u5217\u306e\u5834\u5408\u3001\u5404\u30ec\u30b3\u30fc\u30c9\u306f\u884c\u5217\u8981\u7d20\u306e\u30c7\u30fc\u30bf\u578b\u3092\u6301\u306410\u500b\u306e\u30ab\u30e9\u30e0\u304b\u3089\u306a\u308a\u3001\u3053\u308c\u304c500\u884c\u751f\u6210\u3055\u308c\u307e\u3059\u3002 \n\u6a19\u6e96\u306e\nunnest\n\u95a2\u6570\u3068\u4f3c\u3066\u3044\u307e\u3059\u304c\u3001\nrecord\n\u578b\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u3001\nAS (colname1 type[, ...])\n\u53e5\u3092\u7528\u3044\u3066\u8fd4\u5374\u3055\u308c\u308b\u3079\u304d\u30ec\u30b3\u30fc\u30c9\u306e\u578b\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\n\n\nrbind(array, array)\n\n\narray\n\n\narray\n\u306f\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u914d\u5217\u3067\u3059\u3002\n\u4e8c\u3064\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u7e26\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002\u53cc\u65b9\u306e\u884c\u5217\u306f\u540c\u4e00\u306e\u8981\u7d20\u30c7\u30fc\u30bf\u578b\u3092\u6301\u3064\u5fc5\u8981\u304c\u3042\u308a\u3001\u884c\u5217\u306e\u5e45\u304c\u7b49\u3057\u304f\u306a\u3044\u5834\u5408\u306f\u8db3\u308a\u306a\u3044\u90e8\u5206\u30920\u3067\u57cb\u3081\u307e\u3059\u3002\n\n\n\n\n\n\nrbind(array)\n\n\narray\n\n\narray\n\u306f\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u914d\u5217\u3067\u3059\u3002\nrbind(array, array)\n\u3068\u4f3c\u3066\u3044\u307e\u3059\u304c\u3001\u96c6\u5408\u95a2\u6570\u3068\u3057\u3066\u52d5\u4f5c\u3057\u5165\u529b\u3055\u308c\u305f\u5168\u3066\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u7e26\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ncbind(array, array)\n\n\narray\n\n\narray\n\u306f\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u914d\u5217\u3067\u3001\u4e8c\u3064\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u6a2a\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002\u53cc\u65b9\u306e\u884c\u5217\u306f\u540c\u4e00\u306e\u8981\u7d20\u30c7\u30fc\u30bf\u578b\u3092\u6301\u3064\u5fc5\u8981\u304c\u3042\u308a\u3001\u884c\u5217\u306e\u9ad8\u3055\u7b49\u3057\u304f\u306a\u3044\u5834\u5408\u306f\u8db3\u308a\u306a\u3044\u90e8\u5206\u30920\u3067\u57cb\u3081\u307e\u3059\u3002\n\n\n\n\n\n\ncbind(array)\n\n\narray\n\n\narray\n\u306f\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u914d\u5217\u3067\u3001\ncbind(array, array)\n\u3068\u4f3c\u3066\u3044\u307e\u3059\u304c\u3001\u96c6\u5408\u95a2\u6570\u3068\u3057\u3066\u52d5\u4f5c\u3057\u5165\u529b\u3055\u308c\u305f\u5168\u3066\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u6a2a\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ntranspose(array)\n\n\narray\n\n\narray\n\u306f\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u914d\u5217\u3067\u3001\u884c\u5217\u306e\u5e45\u3068\u9ad8\u3055\u304c\u5165\u308c\u66ff\u308f\u3063\u305f\u8ee2\u7f6e\u884c\u5217\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\n\n\n\n\n\narray_matrix_validation(anyarray)\n\n\nbool\n\n\n\u5165\u529b\u3055\u308c\u305f\u914d\u5217\uff08\nanyarray\n\uff09\u304c\u3001\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3068\u3057\u3066\u59a5\u5f53\u304b\u3069\u3046\u304b\u3092\u691c\u67fb\u3057\u307e\u3059\u3002 PL/CUDA\u95a2\u6570\u5b9f\u884c\u524d\u306e\u5f15\u6570\u306e\u59a5\u5f53\u6027\u691c\u8a3c\u3084\u3001DOMAIN\u578b\u3092\u5b9a\u7fa9\u3059\u308b\u6642\u306e\u691c\u67fb\u5236\u7d04\u3068\u3057\u3066\u306e\u5229\u7528\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\n\narray_matrix_height(array)\n\n\nint\n\n\narray\n\u306f\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u914d\u5217\u3067\u3001\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u9ad8\u3055\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002\n\n\n\n\n\n\narray_matrix_width(array)\n\n\nint\n\n\narray\n\u306f\nsmallint\n\u3001\nint\n\u3001\nbigint\n\u3001\nreal\n\u307e\u305f\u306f\nfloat\n\u578b\u306e\u914d\u5217\u3067\u3001\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5e45\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002\n\n\n\n\n\n\narray_vector_rawsize(regtype,int)\n\n\nbigint\n\n\n\u7b2c\u4e00\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u578b\u3001\u7b2c\u4e8c\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u9ad8\u3055\u3092\u6301\u3064\u914d\u5217\u30d9\u30fc\u30b9\u30d9\u30af\u30c8\u30eb\uff081\u6b21\u5143\u914d\u5217\uff09\u306e\u4f5c\u6210\u306b\u5fc5\u8981\u306a\u30e1\u30e2\u30ea\u9818\u57df\u306e\u5927\u304d\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002\n#plcuda_results_bufsz\n\u3084\n#plcuda_working_bufsz\n\u3067\u306e\u5229\u7528\u3092\u610f\u56f3\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\n\narray_matrix_rawsize(regproc,int,int)\n\n\nbigint\n\n\n\u7b2c\u4e00\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u578b\u3001\u7b2c\u4e8c\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u9ad8\u3055\u3001\u304a\u3088\u3073\u7b2c\u4e09\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u5e45\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u4f5c\u6210\u306b\u5fc5\u8981\u306a\u30e1\u30e2\u30ea\u9818\u57df\u306e\u5927\u304d\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002\n#plcuda_results_bufsz\n\u3084\n#plcuda_working_bufsz\n\u3067\u306e\u5229\u7528\u3092\u610f\u56f3\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\n\narray_cube_rawsize(regtype,int,int,int)\n\n\nbigint\n\n\n\u7b2c\u4e00\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u578b\u3001\u7b2c\u4e8c\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u9ad8\u3055\u3001\u7b2c\u4e09\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u5e45\u3001\u304a\u3088\u3073\u7b2c\uff14\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u6df1\u3055\u306e\u914d\u5217\u30d9\u30fc\u30b9\u30ad\u30e5\u30fc\u30d6\uff083\u6b21\u5143\u914d\u5217\uff09\u306e\u4f5c\u6210\u306b\u5fc5\u8981\u306a\u30e1\u30e2\u30ea\u9818\u57df\u306e\u5927\u304d\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002#plcuda_results_bufsz\u3084#plcuda_working_bufsz\u3067\u306e\u5229\u7528\u3092\u610f\u56f3\u3057\u3066\u3044\u307e\u3059\u3002", 
            "title": "PL/CUDA"
        }, 
        {
            "location": "/plcuda/#plcuda", 
            "text": "\u5185\u90e8\u7684\u306b\u3001PG-Strom\u306fSQL\u69cb\u6587\u3092\u5143\u306bCUDA\u8a00\u8a9e\u306b\u3088\u308bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u751f\u6210\u3057\u3001\u3053\u308c\u3092\u5b9f\u884c\u6642\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u3088\u3063\u3066GPU\u7528\u547d\u4ee4\u30d0\u30a4\u30ca\u30ea\u3092\u751f\u6210\u3057\u307e\u3059\u3002 CUDA\u3068\u306fNVIDIA\u793e\u306e\u63d0\u4f9b\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u74b0\u5883\u3067\u3001C\u8a00\u8a9e\u306b\u4f3c\u305f\u69cb\u6587\u3092\u7528\u3044\u3066GPU\u3067\u4e26\u5217\u5b9f\u884c\u53ef\u80fd\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8a18\u8ff0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 SQL\u69cb\u6587\u304b\u3089CUDA\u30d7\u30ed\u30b0\u30e9\u30e0\u3078\u306e\u5909\u63db\u30d7\u30ed\u30bb\u30b9\u306f\u5185\u90e8\u7684\u306a\u3082\u306e\u3067\u3001\u30e6\u30fc\u30b6\u306e\u8996\u70b9\u304b\u3089\u306f\u3001\u3069\u306e\u3088\u3046\u306aGPU\u7528\u30d7\u30e9\u30b0\u30e9\u30e0\u304c\u751f\u6210\u3001\u5b9f\u884c\u3055\u308c\u308b\u306e\u304b\u3092\u610f\u8b58\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002  \u4e00\u65b9\u3001PostgreSQL\u3067\u306f CREATE LANGUAGE \u69cb\u6587\u3092\u7528\u3044\u3066SQL\u95a2\u6570\u306e\u8a18\u8ff0\u306b\u7528\u3044\u308b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u3092\u8ffd\u52a0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 PL/CUDA\u3068\u306f CREATE LANGUAGE \u69cb\u6587\u306b\u5bfe\u5fdc\u3057\u305f\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u3067\u3001SQL\u3092\u5143\u306bPG-Strom\u304c\u81ea\u52d5\u751f\u6210\u3059\u308bGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3060\u3051\u3067\u306a\u304f\u3001\u30e6\u30fc\u30b6\u304c\u5b9f\u88c5\u3057\u305f\u4efb\u610f\u306eGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092SQL\u95a2\u6570\u3068\u3057\u3066\u5b9f\u884c\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002  SQL\u95a2\u6570\u306e\u5f15\u6570\u306b\u306f\u3001\u6570\u5024\u578b\u3084\u6587\u5b57\u5217\u578b\u3001\u884c\u5217\u578b\u306a\u3069\u3001PG-Strom\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30c7\u30fc\u30bf\u578b\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u3053\u308c\u3089\u306fPL/CUDA\u5b9f\u884c\u7cfb\u304c\u81ea\u52d5\u7684\u306bGPU\u5074\u3078\u30c7\u30fc\u30bf\u3092\u8ee2\u9001\u3059\u308b\u305f\u3081\u3001\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068GPU\u9593\u306e\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u306b\u3064\u3044\u3066\u610f\u8b58\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u540c\u69d8\u306b\u3001PL/CUDA\u95a2\u6570\u306e\u623b\u308a\u5024\uff08\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u578b\u3067\u3042\u308b\u5834\u5408\u3092\u542b\u3080\uff09\u3082GPU\u5074\u304b\u3089CPU\u5074\u3078\u3068\u66f8\u304d\u623b\u3055\u308c\u3001SQL\u95a2\u6570\u306e\u623b\u308a\u5024\u3068\u3057\u3066\u6574\u5f62\u3055\u308c\u307e\u3059\u3002  \u307e\u305f\u3001PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066gstore_fdw\u3092\u7528\u3044\u3066\u5b9a\u7fa9\u3057\u305f\u5916\u90e8\u8868\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001\u30c7\u30fc\u30bf\u306f\u65e2\u306bGPU\u306b\u30ed\u30fc\u30c9\u6e08\u307f\u3067\u3042\u308b\u305f\u3081PL/CUDA\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e\u305f\u3073\u306b\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u3092\u884c\u3046\u5fc5\u8981\u306f\u306a\u304f\u3001\u307e\u305fPostgreSQL\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u306e\u9577\u3055\u5236\u9650\u3067\u3042\u308b1GB\u3088\u308a\u3082\u5927\u304d\u306a\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u3053\u308c\u3089\u306e\u7279\u5fb4\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u306fGPU\u3084\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3068\u306e\u9593\u306e\u30c7\u30fc\u30bf\u306e\u5165\u51fa\u529b\u3068\u3044\u3063\u305f\u5b9a\u578b\u7684\u306a\u51e6\u7406\u306b\u7169\u308f\u3055\u308c\u308b\u4e8b\u306a\u304f\u3001\u7d71\u8a08\u89e3\u6790\u30ed\u30b8\u30c3\u30af\u306e\u5b9f\u88c5\u3084\u9ad8\u901f\u5316\u3068\u3044\u3063\u305f\u751f\u7523\u7684\u306a\u4f5c\u696d\u306b\u6ce8\u529b\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002   CREATE FUNCTION \u69cb\u6587\u3092\u7528\u3044\u3066PL/CUDA\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u3001\u3053\u306e\u95a2\u6570\u306e\u5b9f\u884c\u6642\u3001\u95a2\u6570\u306e\u5b9a\u7fa9\u90e8\u3092\u305d\u306e\u307e\u307eGPU\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u57cb\u3081\u8fbc\u3093\u3060CUDA\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u3053\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u3001\u30e6\u30fc\u30b6\u5b9a\u7fa9\u51e6\u7406\u306e\u4ed6\u306b\u3001PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3092\u53c2\u7167\u3059\u308b\u305f\u3081\u306e\u5909\u6570\u306e\u521d\u671f\u5316\u3084\u3001\u5b9f\u884c\u6642\u30a8\u30e9\u30fc\u3092CPU\u5074\u3078\u8fd4\u5374\u3059\u308b\u305f\u3081\u306e\u88dc\u52a9\u7684\u306a\u30b3\u30fc\u30c9\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002\u307e\u305f\u3001PG-Strom\u306e\u5b9f\u884c\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u306e\u5404\u7a2e\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3059\u308b\u4e8b\u3082\u3067\u304d\u307e\u3059\u3002  PL/CUDA\u95a2\u6570\u3092\u7528\u3044\u3066\u4f5c\u6210\u3057\u305f\u30cd\u30a4\u30c6\u30a3\u30d6\u306eCUDA\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u306f\u3001\u7279\u5225\u306a\u30e1\u30e2\u30ea\u4fdd\u8b77\u306a\u3069\u306e\u4ed5\u7d44\u307f\u306f\u306a\u304f\u3001\u30d0\u30b0\u306e\u3042\u308bPL/CUDA\u95a2\u6570\u306e\u5b9f\u884c\u306b\u3088\u308a\u3001GPU\u5b9f\u884c\u74b0\u5883\u3084\u5834\u5408\u306b\u3088\u3063\u3066\u306fPostgreSQL\u5074\u3092\u30af\u30e9\u30c3\u30b7\u30e5\u3055\u305b\u308b\u4e8b\u3082\u53ef\u80fd\u3067\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001PL/CUDA\u95a2\u6570\u306e\u5b9a\u7fa9\u306f\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7279\u6a29\u30e6\u30fc\u30b6\u306b\u9650\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002  \u4ee5\u4e0b\u306b\u5358\u7d14\u306aPL/CUDA\u95a2\u6570\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 \u3053\u306e\u95a2\u6570\u306f\u3001 int \u578b\u306e\u5f15\u6570\u3092\u4e8c\u3064\u53d6\u308a\u3001\u305d\u306e\u548c\u3092 int \u578b\u3067\u8fd4\u5374\u3057\u307e\u3059\u3002  postgres=# CREATE FUNCTION gpu_add(int, int)\nRETURNS int\nAS $$\n#plcuda_include  cuda_mathlib.h \n#plcuda_begin\n  if (get_global_id() == 0)\n    *retval = pgfn_int4pl(kcxt, arg1, arg2);\n#plcuda_end\n$$ LANGUAGE plcuda;\nCREATE FUNCTION  #plcuda_begin \u3068 #plcuda_end \u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u304c\u3001PL/CUDA\u95a2\u6570\u306e\u672c\u4f53\u90e8\u5206\u3067\u3059\u3002  int \u578b\u306e\u5f15\u6570\u306f\u305d\u308c\u305e\u308c\u3001 pg_int4_t \u578b\u306e\u5909\u6570 arg1 \u3001 arg2 \u3068\u3057\u3066\u53c2\u7167\u3059\u308b\u4e8b\u304c\u3067\u304d\u3001 pg_int4_t * \u578b\u306e\u30dd\u30a4\u30f3\u30bf retval \u306e\u793a\u3059\u9818\u57df\u306b\u30bb\u30c3\u30c8\u3057\u305f\u30c7\u30fc\u30bf\u304c\u3001PL/CUDA\u95a2\u6570\u306e\u5b9f\u884c\u7d50\u679c\u3068\u3057\u3066CPU\u5074\u306b\u8fd4\u5374\u3055\u308c\u307e\u3059\u3002 pgfn_int4pl() \u306f cuda_mathlib.h \u3067\u5b9a\u7fa9\u3055\u308c\u305fPG-Strom\u306e\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u306e\u4e00\u3064\u3067\u3001 pg_int4_t \u540c\u58eb\u306e\u52a0\u7b97\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002  \u3053\u306ePL/CUDA\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5f15\u6570\u3067\u3042\u308b100, 200\u3068\u3044\u3046\u6574\u6570\u5024\u3092GPU\u5074\u306b\u9001\u51fa\u3057\u3001\u8a08\u7b97\u7d50\u679c\u3067\u3042\u308b300\u3068\u3044\u3046\u5024\u3092GPU\u304b\u3089\u66f8\u304d\u623b\u3057\u3066\u3044\u307e\u3059\u3002\u901a\u5e38\u306eSQL\u95a2\u6570\u3068\u540c\u69d8\u306b\u3001PL/CUDA\u95a2\u6570\u3092\u4ed6\u306eSQL\u5f0f\u306e\u4e00\u90e8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u4e8b\u3082\u3067\u304d\u307e\u3059\u3002  postgres=# SELECT gpu_add(100,200);\n gpu_add\n---------\n     300\n(1 row)  PL/CUDA\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u305f\u7d50\u679c\u3001\u3069\u306e\u3088\u3046\u306a\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u751f\u6210\u3055\u308c\u308b\u306e\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f plcuda_function_source \u95a2\u6570\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30b3\u30e1\u30f3\u30c8\u6587 /* ---- code by pl/cuda function ---- */ \u3067\u56f2\u307e\u308c\u305f\u30d6\u30ed\u30c3\u30af\u304cPL/CUDA\u95a2\u6570\u306e\u5b9a\u7fa9\u90e8\u304b\u3089\u633f\u5165\u3055\u308c\u305f\u90e8\u5206\u3067\u3059\u3002  postgres=# SELECT pgstrom.plcuda_function_source('gpu_add'::regproc);\n                     plcuda_function_source\n----------------------------------------------------------------\n #include  cuda_device_runtime_api.h                           +\n                                                               +\n #define HOSTPTRLEN 8                                          +\n #define DEVICEPTRLEN 8                                        +\n #define BLCKSZ 8192                                           +\n #define MAXIMUM_ALIGNOF 8                                     +\n #define MAXIMUM_ALIGNOF_SHIFT 3                               +\n #define PGSTROM_KERNEL_DEBUG 1                                +\n #include  cuda_common.h                                       +\n                                                               +\n #define PG_BOOLOID 16                                         +\n #define PG_INT2OID 21                                         +\n #define PG_INT4OID 23                                         +\n #define PG_INT8OID 20                                         +\n #define PG_FLOAT2OID 237809                                   +\n #define PG_FLOAT4OID 700                                      +\n #define PG_FLOAT8OID 701                                      +\n #define PG_CASHOID 790                                        +\n #define PG_UUIDOID 2950                                       +\n #define PG_MACADDROID 829                                     +\n #define PG_INETOID 869                                        +\n #define PG_CIDROID 650                                        +\n #define PG_DATEOID 1082                                       +\n #define PG_TIMEOID 1083                                       +\n #define PG_TIMETZOID 1266                                     +\n #define PG_TIMESTAMPOID 1114                                  +\n #define PG_TIMESTAMPTZOID 1184                                +\n #define PG_INTERVALOID 1186                                   +\n #define PG_BPCHAROID 1042                                     +\n #define PG_VARCHAROID 1043                                    +\n #define PG_NUMERICOID 1700                                    +\n #define PG_BYTEAOID 17                                        +\n #define PG_TEXTOID 25                                         +\n #define PG_INT4RANGEOID 3904                                  +\n #define PG_INT8RANGEOID 3926                                  +\n #define PG_TSRANGEOID 3908                                    +\n #define PG_TSTZRANGEOID 3910                                  +\n #define PG_DATERANGEOID 3912                                  +\n                                                               +\n #include  cuda_mathlib.h                                      +\n typedef union {                                               +\n     pg_varlena_t     varlena_v;                               +\n     pg_bool_t        bool_v;                                  +\n     pg_int2_t        int2_v;                                  +\n     pg_int4_t        int4_v;                                  +\n     pg_int8_t        int8_v;                                  +\n     pg_float2_t      float2_v;                                +\n     pg_float4_t      float4_v;                                +\n     pg_float8_t      float8_v;                                +\n #ifdef CUDA_NUMERIC_H                                         +\n     pg_numeric_t     numeric_v;                               +\n #endif                                                        +\n #ifdef CUDA_MISC_H                                            +\n     pg_money_t       money_v;                                 +\n     pg_uuid_t        uuid_v;                                  +\n     pg_macaddr_t     macaddr_v;                               +\n     pg_inet_t        inet_v;                                  +\n     pg_cidr_t        cidr_t;                                  +\n #endif                                                        +\n #ifdef CUDA_TIMELIB_H                                         +\n     pg_date_t        date_v;                                  +\n     pg_time_t        time_v;                                  +\n     pg_timestamp_t   timestamp_v;                             +\n     pg_timestamptz_t timestamptz_v;                           +\n #endif                                                        +\n #ifdef CUDA_TEXTLIB_H                                         +\n     pg_bpchar_t      bpchar_v;                                +\n     pg_text_t        text_v;                                  +\n     pg_varchar_t     varchar_v;                               +\n #endif                                                        +\n #ifdef CUDA_RANGETYPE_H                                       +\n     pg_int4range_t   int4range_v;                             +\n     pg_int8range_t   int8range_v;                             +\n #ifdef CUDA_TIMELIB_H                                         +\n     pg_tsrange_t     tsrange_v;                               +\n     pg_tstzrange_t   tstzrange_v;                             +\n     pg_daterange_t   daterange_v;                             +\n #endif                                                        +\n #endif                                                        +\n   } pg_anytype_t;                                             +\n                                                               +\n                                                               +\n #include  cuda_plcuda.h                                       +\n STATIC_INLINE(void)                                           +\n __plcuda_main_kernel(kern_plcuda *kplcuda,                    +\n                    void *workbuf,                             +\n                    void *results,                             +\n                    kern_context *kcxt)                        +\n {                                                             +\n   pg_int4_t *retval __attribute__ ((unused));                 +\n   pg_int4_t arg1 __attribute__((unused));                     +\n   pg_int4_t arg2 __attribute__((unused));                     +\n   assert(sizeof(*retval)  = sizeof(kplcuda- __retval));       +\n   retval = (pg_int4_t *)kplcuda- __retval;                    +\n   arg1 = pg_int4_param(kcxt,0);                               +\n   arg2 = pg_int4_param(kcxt,1);                               +\n                                                               +\n   /* ---- code by pl/cuda function ---- */                    +\n   if (get_global_id() == 0)                                   +\n     *retval = pgfn_int4pl(kcxt, arg1, arg2);                  +\n   /* ---- code by pl/cuda function ---- */                    +\n }                                                             +\n                                                               +\n KERNEL_FUNCTION(void)                                         +\n plcuda_main_kernel_entrypoint(kern_plcuda *kplcuda,           +\n             void *workbuf,                                    +\n             void *results)                                    +\n {                                                             +\n   kern_parambuf *kparams = KERN_PLCUDA_PARAMBUF(kplcuda);     +\n   kern_context kcxt;                                          +\n                                                               +\n   assert(kplcuda- nargs  = kparams- nparams);                 +\n   INIT_KERNEL_CONTEXT( kcxt,plcuda_main_kernel,kparams);      +\n   __plcuda_main_kernel(kplcuda, workbuf, results,  kcxt);     +\n   kern_writeback_error_status( kplcuda- kerror_main,  kcxt.e);+\n }                                                             +\n                                                               +\n                                                               +\n #include  cuda_terminal.h                                     +\n\n(1 row)", 
            "title": "PL/CUDA\u6982\u8981"
        }, 
        {
            "location": "/plcuda/#plcuda_1", 
            "text": "PL/CUDA\u306e\u95a2\u6570\u5b9a\u7fa9\u306f\u3001 #plcuda_... \u3067\u59cb\u307e\u308b\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u3088\u3063\u3066\u5206\u5272\u3055\u308c\u305f\u3044\u304f\u3064\u304b\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304b\u3089\u69cb\u6210\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u3046\u3061\u3001 #plcuda_begin \u3088\u308a\u59cb\u307e\u308b\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u307f\u304c\u5fc5\u9808\u3067\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u305d\u306e\u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3092\u8ffd\u52a0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  #plcuda_decl\n  [...any declarations...]\n#plcuda_prep\n  [...function body of prep kernel...]\n#plcuda_begin\n  [...function body of main kernel...]\n#plcuda_post\n  [...function body of post kernel...]\n#plcuda_end  #plcuda_decl \u3088\u308a\u59cb\u307e\u308b\u5ba3\u8a00\u30d6\u30ed\u30c3\u30af\u306f\u3001\u305d\u306e\u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304b\u3089\u547c\u3073\u51fa\u3059\u4e8b\u304c\u3067\u304d\u308bstatic\u95a2\u6570\u306e\u5ba3\u8a00\u3092\u8a18\u8ff0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 \u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u3088\u3046\u306b\u3001\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5bb9\u304c\u6697\u9ed9\u306e\u3046\u3061\u306b\u7279\u5b9a\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u7d44\u307f\u8fbc\u307e\u308c\u308b\u8a33\u3067\u306f\u306a\u304f\u3001\u5b8c\u5168\u306a\u5f62\u5f0f\u306estatic\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 GPU\u4e0a\u3067\u3042\u308b\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u3092\u8d8a\u3048\u308b\u6570\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u4e26\u5217\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u6642\u3001\u8907\u6570\u306e\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u9593\u3067\u540c\u671f\u3092\u53d6\u308b\u306b\u306f\u3001\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u7d42\u4e86\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5f85\u3061\u5408\u308f\u305b\u308b\u4e8b\u304c\u552f\u4e00\u306e\u65b9\u6cd5\u3067\u3059\u3002 \u4f8b\u3048\u3070\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u304c\u7279\u5b9a\u306e\u5024\u3067\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u308b\u4e8b\u3092\u524d\u63d0\u3068\u3057\u3066\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u5148\u305a\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u521d\u671f\u5316\u3092\u884c\u3044\u3001\u305d\u308c\u304c\u5168\u3066\u5b8c\u4e86\u3059\u308b\u307e\u3067\u306f\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u4e2d\u6838\u90e8\u5206\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u4e00\u90e8\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u672a\u521d\u671f\u5316\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u5bfe\u3057\u3066\u5b9f\u884c\u3055\u308c\u308b\u3068\u3044\u3046\u72b6\u6cc1\u306f\u3001\u5bb9\u6613\u306b\u4e0d\u6b63\u78ba\u306a\u8a08\u7b97\u7d50\u679c\u3084\u5b9f\u884c\u74b0\u5883\u306e\u30af\u30e9\u30c3\u30b7\u30e5\u3092\u62db\u3044\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u5e38\u306b\u907f\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  #plcuda_prep \u304b\u3089\u59cb\u307e\u308b\u524d\u51e6\u7406\u30d6\u30ed\u30c3\u30af\u3001 #plcuda_main \u304b\u3089\u59cb\u307e\u308b\u672c\u4f53\u30d6\u30ed\u30c3\u30af\u3001\u304a\u3088\u3073 #plcuda_post \u304b\u3089\u59cb\u307e\u308b\u5f8c\u51e6\u7406\u30d6\u30ed\u30c3\u30af\u306f\u3001\u305d\u308c\u305e\u308c\u30e6\u30fc\u30b6\u5b9a\u7fa9\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5bb9\u304c\u5bfe\u5fdc\u3059\u308b\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u57cb\u3081\u8fbc\u307e\u308c\u307e\u3059\u3002 \u524d\u51e6\u7406\u30d6\u30ed\u30c3\u30af\u3068\u5f8c\u51e6\u7406\u30d6\u30ed\u30c3\u30af\u306e\u5b9a\u7fa9\u306f\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u3067\u3059\u304c\u3001\u3053\u308c\u3089\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u6642\u3001\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3001\u5f8c\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u9806\u3067\u5b9f\u884c\u3055\u308c\u308b\u4e8b\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u3089\u306f\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u306b\u5148\u7acb\u3063\u3066\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3084\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u306e\u521d\u671f\u5316\u3092\u884c\u3046\u4e8b\u3084\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u5f8c\u306b\u6700\u7d42\u7d50\u679c\u3092\u96c6\u8a08\u3059\u308b\u306a\u3069\u306e\u7528\u9014\u306b\u4f7f\u7528\u3059\u308b\u4e8b\u3092\u610f\u56f3\u3057\u3066\u3044\u307e\u3059\u3002  \u4e00\u500b\u306ePL/CUDA\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306f\u3001\u5185\u90e8\u7684\u306b\u306f\u4f55\u500b\u304b\u306eSQL\u95a2\u6570\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002 GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306b\u5148\u7acb\u3063\u3066\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u969b\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u3001\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u3084\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u30b5\u30a4\u30ba\u3068\u3044\u3063\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6c7a\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u3089\u306f\u5f15\u6570\u306b\u3088\u308a\u5909\u52d5\u3059\u308b\u305f\u3081\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u3001\u540c\u3058\u5f15\u6570\u3092\u53d6\u308b\u4ed6\u306eSQL\u95a2\u6570\u3092\u547c\u3073\u3060\u3057\u3066\u3053\u308c\u3089\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002  GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u78ba\u5b9a\u3059\u308b\u3068\u3001\u6b21\u306b\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001DMA\u3092\u7528\u3044\u3066PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3092GPU\u4e0a\u306e\u5f15\u6570\u30d0\u30c3\u30d5\u30a1\u306b\u8ee2\u9001\u3057\u307e\u3059\u3002  \u7d9a\u3044\u3066\u3001\uff08\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308c\u3070\uff09\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3001\uff08\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308c\u3070\uff09\u5f8c\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u547c\u3073\u3060\u3057\u307e\u3059\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u3092\u8d8a\u3048\u305fGPU\u30b9\u30ec\u30c3\u30c9\u9593\u3067\u540c\u671f\u3092\u53d6\u308b\u65b9\u6cd5\u306f\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u958b\u59cb\u7d42\u4e86\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u4ee5\u5916\u306b\u7121\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u3001\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u3084\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u304c\u3042\u308b\u7279\u5b9a\u306e\u72b6\u614b\u3092\u6301\u3063\u3066\u3044\u308b\u4e8b\u3092\u671f\u5f85\u3059\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067\u521d\u671f\u5316\u3092\u884c\u3044\u3001\u6b21\u306b\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067\u3053\u308c\u3089\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u53c2\u7167\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  \u6700\u5f8c\u306b\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u5185\u5bb9\u3092\u672c\u4f53\u5074\u3078\u66f8\u304d\u623b\u3057\u307e\u3059\u3002 PL/CUDA\u95a2\u6570\u304c\u56fa\u5b9a\u9577\u306e\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u5834\u5408\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u30e6\u30fc\u30b6\u5b9a\u7fa9\u30d6\u30ed\u30c3\u30af\u306e\u958b\u59cb\u524d\u306b\u8a2d\u5b9a\u3059\u308b\u5909\u6570 retval \u30dd\u30a4\u30f3\u30bf\u306e\u793a\u3059\u9818\u57df\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002 PL/CUDA\u95a2\u6570\u304c\u53ef\u5909\u9577\u306e\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u5834\u5408\u3001 retval \u306f pg_varlena_t \u578b\u306e\u9818\u57df\u3092\u6307\u3057\u3066\u304a\u308a\u3001\u305d\u306e\u5024\u304c\u975eNULL\u3067\u3042\u308b\u5834\u5408\u306b\u306f\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\uff08 void *results \uff09\u3078\u306e\u53c2\u7167\u3067\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u4ee5\u5916\u306e\u9818\u57df\u3092\u6307\u3057\u3066\u3044\u305f\u3068\u3057\u3066\u3082\u3001\u3053\u308c\u306f\u672c\u4f53\u5074\u3078\u66f8\u304d\u623b\u3055\u308c\u306a\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002  typedef struct {\n    varlena    *value;      /* reference to the results buffer */\n    cl_bool     isnull;     /* true, if NULL */\n} pg_varlena_t;   GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u6570\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f #plcuda_num_threads \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u4f7f\u7528\u3055\u308c\u3001\u5b9a\u6570\u5024\u307e\u305f\u306fSQL\u95a2\u6570\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002SQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u6301\u3061 bigint \u578b\u3092\u8fd4\u3059\u95a2\u6570\u3068\u3057\u3066\u5ba3\u8a00\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  \u540c\u69d8\u306b\u3001 #plcuda_shmem_unitsz \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u3067\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u6642\u306b\u52d5\u7684\u306b\u78ba\u4fdd\u3059\u308b\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u306e\u5927\u304d\u3055\u3067\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a8\u30d0\u30a4\u30c8\u306e\u5171\u6709\u30e1\u30e2\u30ea\u3092\u4f7f\u7528\u3059\u308bGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304c\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a384\u30b9\u30ec\u30c3\u30c9\u3067\u8d77\u52d5\u3055\u308c\u305f\u5834\u5408\u30013KB\u306e\u5171\u6709\u30e1\u30e2\u30ea\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u8a00\u3046\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u30b9\u30ec\u30c3\u30c9\u6570\u306f\u3001\u6700\u9069\u5316\u306e\u7d50\u679c\u81ea\u52d5\u7684\u306b\u7b97\u51fa\u3055\u308c\u308b\u5024\u3067\u3001#plcuda_num_threads\u3067\u6307\u5b9a\u3059\u308b\u5024\u3068\u306f\u7570\u306a\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \u307e\u305f\u3001 #plcuda_kernel_maxthreads \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u3067\u3001\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u304b\u3089\u4f5c\u6210\u3055\u308c\u308b\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u6700\u9069\u5316\u65b9\u91dd\u3092\u3001\u5b9f\u884c\u52b9\u7387\u6700\u5927\u5316\u304b\u3089\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u30b9\u30ec\u30c3\u30c9\u6570\u6700\u5927\u5316\uff08\u901a\u5e38\u30011024\u30b9\u30ec\u30c3\u30c9\uff09\u3078\u3068\u5207\u308a\u66ff\u3048\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u304c\u5897\u52a0\u3059\u308b\u4e8b\u3067\u3001\u7e2e\u7d04\u6f14\u7b97\u306a\u3069\u3001\u5171\u6709\u30e1\u30e2\u30ea\u3092\u7528\u3044\u305f\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u9593\u306e\u540c\u671f\u51e6\u7406\u3092\u4e2d\u6838\u3068\u3059\u308b\u51e6\u7406\u3067\u306e\u6027\u80fd\u5411\u4e0a\u304c\u671f\u5f85\u3067\u304d\u308b\u307e\u3059\u3002\u305f\u3060\u4e00\u65b9\u3067\u3001\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u306e\u30ec\u30b8\u30b9\u30bf\u6570\u306f\u5c11\u306a\u304f\u306a\u308b\u305f\u3081\u3001\u51e6\u7406\u306e\u7279\u6027\u306b\u3088\u308b\u4f7f\u3044\u5206\u3051\u304c\u5fc5\u8981\u3067\u3059\u3002  #plcuda_num_threads ( value | function name )\n#plcuda_shmem_unitsz  ( value | function name )\n#plcuda_kernel_maxthreads", 
            "title": "PL/CUDA\u306e\u69cb\u9020"
        }, 
        {
            "location": "/plcuda/#plcuda_2", 
            "text": "\u672c\u7bc0\u306fPL/CUDA\u95a2\u6570\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3001\u304a\u3088\u3073\u95a2\u9023\u3059\u308bSQL\u95a2\u6570\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3067\u3059\u3002", 
            "title": "PL/CUDA\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9"
        }, 
        {
            "location": "/plcuda/#plcuda_3", 
            "text": "", 
            "title": "PL/CUDA\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6"
        }, 
        {
            "location": "/plcuda/#plcuda_begin", 
            "text": "\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u958b\u59cb\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306f\u5fc5\u9808\u3067\u3059\u3002 GPU\u4e0a\u3067\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5b9f\u884c\u958b\u59cb\u306b\u5148\u7acb\u3063\u3066\u3001PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u306f arg1 \u3001 arg2 \u3001...\u3068\u3044\u3046\u5909\u6570\u540d\u3067\u53c2\u7167\u53ef\u80fd\u3068\u306a\u308b\u3088\u3046\u521d\u671f\u5316\u3055\u308c\u307e\u3059\u3002 \u3053\u308c\u3089\u306e\u5909\u6570\u306f\u3001PG-Strom\u304cSQL\u30c7\u30fc\u30bf\u578b\u3092GPU\u4e0a\u3067\u8868\u73fe\u3059\u308b\u306e\u3068\u540c\u3058\u8868\u73fe\u3092\u6301\u3063\u3066\u304a\u308a\u3001\u4f8b\u3048\u3070\u3001\u5358\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u3067\u3042\u308b real \u578b\u306e\u5f15\u6570\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3055\u308c\u305f pg_float4_t \u578b\u306e\u5909\u6570\u3068\u3057\u3066\u8868\u73fe\u3055\u308c\u3066\u3044\u307e\u3059\u3002  typedef struct {\n    cl_float    value;\n    cl_bool     isnull;\n} pg_float4_t;  \u3053\u308c\u3089\u306e\u5909\u6570\u306f\u5404\u30b9\u30ec\u30c3\u30c9\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u9818\u57df\u306b\u78ba\u4fdd\u3055\u308c\u3066\u304a\u308a\u3001\u5909\u6570\u3092\u66f4\u65b0\u3057\u305f\u3068\u3057\u3066\u3082\u6b21\u30b9\u30c6\u30c3\u30d7\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u306f\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u7d42\u4e86\u5f8c\u3001\u6b21\u306e\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306b\u72b6\u614b\u3092\u5f15\u304d\u7d99\u3050\u306b\u306f\u3001 void *workbuf \u30dd\u30a4\u30f3\u30bf\u304c\u53c2\u7167\u3059\u308b\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u304b\u3001 void *results \u30dd\u30a4\u30f3\u30bf\u306e\u53c2\u7167\u3059\u308b\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306b\u5024\u3092\u683c\u7d0d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002", 
            "title": "#plcuda_begin"
        }, 
        {
            "location": "/plcuda/#plcuda_end", 
            "text": "\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u7d42\u4e86\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002 \u306a\u304a\u3001\u3042\u308b\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u958b\u59cb\u3092\u5ba3\u8a00\u3057\u305f\u5834\u5408\u3001\u73fe\u5728\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306f\u6697\u9ed9\u306e\u3046\u3061\u306b #plcuda_end \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u3088\u3063\u3066\u7d42\u4e86\u3057\u305f\u3082\u306e\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002", 
            "title": "#plcuda_end"
        }, 
        {
            "location": "/plcuda/#plcuda_decl", 
            "text": "\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002 \u5168\u3066\u306ekernel\u95a2\u6570\u306e\u5b9a\u7fa9\u306b\u5148\u7acb\u3063\u3066\u5ba3\u8a00\u3057\u3066\u304a\u304f\u3079\u304d\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u958b\u59cb\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002 \u4ed6\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3068\u306f\u7570\u306a\u308a\u3001\u5185\u5bb9\u304c\u81ea\u52d5\u7684\u306bkernel\u95a2\u6570\u3068\u3057\u3066\u5c55\u958b\u3055\u308c\u308b\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u306e\u3067\u3001\u5b8c\u5168\u306a\u95a2\u6570\u5b9a\u7fa9\u3092\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002", 
            "title": "#plcuda_decl"
        }, 
        {
            "location": "/plcuda/#plcuda_prep", 
            "text": "\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002 #plcuda_begin \u304b\u3089\u59cb\u307e\u308b\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u306b\u5148\u7acb\u3063\u3066GPU\u3067\u5b9f\u884c\u3059\u3079\u304d\u3001\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3084\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u306e\u521d\u671f\u5316\u3092\u884c\u3046\u4e8b\u3092\u610f\u56f3\u3057\u3066\u304a\u308a\u3001\u524d\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u306f\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u5b9f\u884c\u3055\u308c\u307e\u305b\u3093\u3002 PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3078\u306f\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3068\u540c\u69d8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002", 
            "title": "#plcuda_prep"
        }, 
        {
            "location": "/plcuda/#plcuda_post", 
            "text": "\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002 #plcuda_begin \u304b\u3089\u59cb\u307e\u308b\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u5f8c\u306bGPU\u3067\u5b9f\u884c\u3059\u3079\u304d\u3001\u5f8c\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001CPU\u5074\u306b\u8fd4\u5374\u3059\u308b\u6700\u7d42\u7d50\u679c\u3092\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306b\u30bb\u30c3\u30c8\u3059\u308b\u4e8b\u3092\u610f\u56f3\u3057\u3066\u304a\u308a\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u306f\u5f8c\u51e6\u7406\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u5b9f\u884c\u3055\u308c\u307e\u305b\u3093\u3002 PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u3078\u306f\u3001\u672c\u4f53\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3068\u540c\u69d8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002", 
            "title": "#plcuda_post"
        }, 
        {
            "location": "/plcuda/#plcuda_num_threads-valuefunction", 
            "text": "\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3068\u3057\u3066\u5b9a\u6570 1 \u304c\u4f7f\u308f\u308c\u307e\u3059\u3002  \u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c#plcuda_prep\u3001#plcuda_begin\u3001\u304a\u3088\u3073#plcuda_post\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001\u305d\u308c\u305e\u308c\u306eGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u969b\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305f\u6570\u306eGPU\u30b9\u30ec\u30c3\u30c9\u3092\u8d77\u52d5\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u6570\u306eGPU\u30b9\u30ec\u30c3\u30c9\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001bigint\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002", 
            "title": "#plcuda_num_threads (&lt;value&gt;|&lt;function&gt;)"
        }, 
        {
            "location": "/plcuda/#plcuda_shmem_unitsz-valuefunction", 
            "text": "\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u5b9a\u6570 0 \u3067\u3059  \u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c #plcuda_prep \u3001 #plcuda_begin \u3001\u304a\u3088\u3073 #plcuda_post \u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001\u305d\u308c\u305e\u308c\u306eGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u969b\u306b\u52d5\u7684\u306b\u78ba\u4fdd\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002  \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001 bigint \u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u6642\u306b\u5b9f\u969b\u306b\u78ba\u4fdd\u3055\u308c\u308b\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u306f\u3001\u672c\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306b\u3088\u3063\u3066\u6307\u5b9a\u3057\u305f\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3060\u3051\u3067\u306a\u304f\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u306b\u4f9d\u5b58\u3059\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08\u307e\u305f\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u306f#plcuda_num_threads\u3067\u6307\u5b9a\u3057\u305f\u5024\u3068\u3082\u7570\u306a\u308b\u6982\u5ff5\u3067\u3042\u308b\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09 \u4f8b\u3048\u3070\u3001\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u304c8\u30d0\u30a4\u30c8\u3067\u3042\u308a\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u304c384\u3067\u3042\u308b\u5834\u5408\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u6bce\u306b3KB\u306e\u5171\u6709\u30e1\u30e2\u30ea\u304c\u78ba\u4fdd\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u6642\u3001#plcuda_num_threads\u3067\u6307\u5b9a\u3057\u305f\u30b9\u30ec\u30c3\u30c9\u6570\u304c32768\u3067\u3042\u308c\u3070\u3001\u3053\u306eGPU\u30ab\u30fc\u30cd\u30eb\u306f86\u500b\u306e\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u304c\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u306b\u30bf\u30b9\u30af\u304c\u6295\u5165\u3055\u308c\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u6c7a\u3081\u308b\u306e\u306f\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u5f79\u5272\u3067\u3059\u306e\u3067\u3001\u5fc5\u305a\u3057\u30823KB x 86\u500b = 258KB\u306e\u5171\u6709\u30e1\u30e2\u30ea\u304c\u4e00\u5ea6\u306b\u6d88\u8cbb\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002", 
            "title": "#plcuda_shmem_unitsz (&lt;value&gt;|&lt;function&gt;)"
        }, 
        {
            "location": "/plcuda/#plcuda_shmem_blocksz-valuefunction", 
            "text": "\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u5b9a\u65700\u3067\u3059  \u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u304c #plcuda_prep \u3001 #plcuda_begin \u3001\u304a\u3088\u3073 #plcuda_post \u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001\u305d\u308c\u305e\u308c\u306eGPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u969b\u306b\u52d5\u7684\u306b\u78ba\u4fdd\u3059\u308b\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  \u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30d6\u30ed\u30c3\u30af\u6bce\u5171\u6709\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002  \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001 bigint \u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002", 
            "title": "#plcuda_shmem_blocksz (&lt;value&gt;|&lt;function&gt;)"
        }, 
        {
            "location": "/plcuda/#plcuda_kernel_blocksz-valuefunction", 
            "text": "\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002  #plcuda_prep \u3001 #plcuda_begin \u3001\u304a\u3088\u3073 #plcuda_post \u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u306e\u5185\u5074\u3067\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u5b9f\u884c\u30e6\u30cb\u30c3\u30c8\u3042\u305f\u308a\u306e\u30b9\u30ec\u30c3\u30c9\u6570\u3092\u6307\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u901a\u5e38\u3001\u3053\u306e\u5024\u306f\u30c7\u30d0\u30a4\u30b9\u306eWARP\u5024\u306e\u500d\u6570\u3067\u3042\u308a1024\u4ee5\u4e0b\u3067\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u6d88\u8cbb\u91cf\u306b\u57fa\u3065\u3044\u305f\u6700\u9069\u306a\u5024\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u6027\u8cea\u4e0a\u5927\u304d\u306a\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u304c\u671b\u307e\u3057\u3044\u306a\u3069\u306e\u7406\u7531\u304c\u306a\u3044\u9650\u308a\u3001\u672c\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3059\u3079\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002  \u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30d6\u30ed\u30c3\u30af\u3092\u8a2d\u5b9a\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u5927\u304d\u3055\u306e\u30d6\u30ed\u30c3\u30af\u3092\u8a2d\u5b9a\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001bigint\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  \u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u30b9\u30ec\u30c3\u30c9\u6570\u304c\u591a\u304f\u306a\u308b\u3068\u3001\u3088\u308a\u591a\u304f\u306e\u30b9\u30ec\u30c3\u30c9\u304c\u5171\u6709\u30e1\u30e2\u30ea\u3092\u4ecb\u3057\u3066\u540c\u671f\u51e6\u7406\u3092\u884c\u3046\u4e8b\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u534a\u9762\u3001\u30b9\u30ec\u30c3\u30c9\u304c\u4f7f\u7528\u3067\u304d\u308b\u30ec\u30b8\u30b9\u30bf\u6570\u304c\u6e1b\u5c11\u3059\u308b\u305f\u3081\u3001\u4e00\u90e8\u306e\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u304c\u30b0\u30ed\u30fc\u30d0\u30eb\u30e1\u30e2\u30ea\u4e0a\u306b\u78ba\u4fdd\u3055\u308c\u308b\u306a\u3069\u6027\u80fd\u9762\u3067\u306f\u4e0d\u5229\u306b\u306a\u308b\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002", 
            "title": "#plcuda_kernel_blocksz (&lt;value&gt;|&lt;function&gt;)"
        }, 
        {
            "location": "/plcuda/#plcuda_include-library-namefunction-name", 
            "text": "PG-Strom\u306e\u9759\u7684GPU\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u307e\u305f\u306f\u30e6\u30fc\u30b6\u5b9a\u7fa9\u306e\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u3001PL/CUDA\u95a2\u6570\u5185\u3067\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u30b5\u30fc\u30d0\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u4efb\u610f\u306e\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u6a5f\u80fd\u3067\u306f\u306a\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \u4ee5\u4e0b\u306e\u8868\u306b\u3042\u308bPG-Strom\u306e\u9759\u7684GPU\u30e9\u30a4\u30d6\u30e9\u30ea\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u751f\u6210\u3055\u308c\u308bCUDA C\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5148\u982d\u306b\u6307\u5b9a\u3055\u308c\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\u6b63\u76f4\u306a\u3068\u3053\u308d\u3001\u3053\u306e\u7528\u6cd5\u306f\u53e4\u3044\u3082\u306e\u3067\u3042\u308a\u5229\u7528\u30b7\u30fc\u30f3\u306f\u9650\u3089\u308c\u308b\u3067\u3057\u3087\u3046\u3002  \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u30e9\u30f3\u30bf\u30a4\u30e0\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001 #plcuda_include \u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u5b58\u5728\u3057\u305f\u5834\u6240\u306b\u3001\u623b\u308a\u5024\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u633f\u5165\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001 text \u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002     \u30e9\u30a4\u30d6\u30e9\u30ea\u540d  \u8aac\u660e      \"cuda_dynpara.h\"  GPU\u5185\u3067\u52d5\u7684\u306b\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308bDynamic Parallelism\u95a2\u9023\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002 \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3059\u308b\u3068\u3001CUDA\u306e\u30c7\u30d0\u30a4\u30b9\u30e9\u30f3\u30bf\u30a4\u30e0\u3082\u540c\u6642\u306b\u30ea\u30f3\u30af\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002    \"cuda_matrix.h\"  SQL\u306e\u914d\u5217\u578b\u3092\u30d9\u30af\u30c8\u30eb/\u884c\u5217\u3068\u898b\u306a\u3057\u3066\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002    \"cuda_timelib.h\"  SQL\u306e\u65e5\u4ed8\u6642\u523b\u578b\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002    \"cuda_textlib.h\"  SQL\u306e\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u578b\u3001\u304a\u3088\u3073LIKE\u30aa\u30da\u30ec\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002    \"cuda_numeric.h\"  SQL\u306eNumeric\u30c7\u30fc\u30bf\u578b\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002    \"cuda_mathlib.h\"  SQL\u306e\u6570\u5b66\u95a2\u6570\u3084\u56db\u5247\u6f14\u7b97\u30aa\u30da\u30ec\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002    \"cuda_money.h\"  SQL\u306e\u901a\u8ca8\u578b\u3092\u51e6\u7406\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002    \"cuda_curand.h\"  CUDA\u306e\u4e71\u6570\u751f\u6210\u30e9\u30a4\u30d6\u30e9\u30ea curand \u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306eGPU\u30e9\u30f3\u30bf\u30a4\u30e0\u95a2\u6570\u7fa4\u3067\u3059\u3002", 
            "title": "#plcuda_include (\"library name\"|&lt;function name&gt;)"
        }, 
        {
            "location": "/plcuda/#plcuda_results_bufsz-valuefunction", 
            "text": "\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u5b9a\u65700\u3067\u3059  PL/CUDA\u95a2\u6570\u306e\u5b9f\u884c\u6642\u306b\u78ba\u4fdd\u3059\u308b\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u5927\u304d\u3055\u3092\u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002PL/CUDA\u95a2\u6570\u304c\u53ef\u5909\u9577\u578b\u30c7\u30fc\u30bf\u3092\u8fd4\u5374\u3059\u308b\u969b\u306b\u306f\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u78ba\u4fdd\u306f\u5fc5\u9808\u3067\u3059\u3002  \u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30a4\u30c8\u6570\u306eGPU RAM\u3092\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u78ba\u4fdd\u3057\u3066\u304b\u3089GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30a4\u30c8\u6570\u306eGPU RAM\u3092\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u78ba\u4fdd\u3057\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001bigint\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304b\u3089\u306f\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306f\u5f15\u6570 void *results \u3067\u6307\u5b9a\u3055\u308c\u305f\u9818\u57df\u3068\u3057\u3066\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u3067\u3059\u3002 0\u30d0\u30a4\u30c8\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001 void *results \u306b\u306f NULL \u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002", 
            "title": "#plcuda_results_bufsz (&lt;value&gt;|&lt;function&gt;)"
        }, 
        {
            "location": "/plcuda/#plcuda_working_bufsz-valuefunction", 
            "text": "\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u306e\u4f7f\u7528\u306f\u4efb\u610f\u3067\u3059\u3002\u672a\u6307\u5b9a\u306e\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u5b9a\u65700\u3067\u3059  PL/CUDA\u95a2\u6570\u306e\u5b9f\u884c\u6642\u306b\u78ba\u4fdd\u3059\u308b\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u306e\u5927\u304d\u3055\u3092\u30d0\u30a4\u30c8\u5358\u4f4d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002  \u6570\u5024\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30a4\u30c8\u6570\u306eGPU RAM\u3092\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u78ba\u4fdd\u3057\u3066\u304b\u3089GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 \u95a2\u6570\u540d\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306f\u6307\u5b9a\u3055\u308c\u305fSQL\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3001\u623b\u308a\u5024\u3067\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30a4\u30c8\u6570\u306eGPU RAM\u3092\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u78ba\u4fdd\u3057\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u3053\u306eSQL\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u4e00\u306e\u5f15\u6570\u3092\u53d6\u308a\u3001 bigint \u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304b\u3089\u306f\u3001\u4f5c\u696d\u30d0\u30c3\u30d5\u30a1\u306f\u5f15\u6570 void *workbuf \u3067\u6307\u5b9a\u3055\u308c\u305f\u9818\u57df\u3068\u3057\u3066\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u3067\u3059\u3002 0\u30d0\u30a4\u30c8\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001 void *workbuf \u306b\u306f NULL \u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002", 
            "title": "#plcuda_working_bufsz (&lt;value&gt;|&lt;function&gt;)"
        }, 
        {
            "location": "/plcuda/#plcuda_sanity_check-function", 
            "text": "GPU\u30ab\u30fc\u30cd\u30eb\u306e\u8d77\u52d5\u306b\u5148\u7acb\u3063\u3066\u3001\u5f15\u6570\u306e\u59a5\u5f53\u6027\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306eSQL\u95a2\u6570\u3092\u3057\u3066\u3044\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u59a5\u5f53\u6027\u691c\u8a3c\u95a2\u6570\u306f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\nGPU\u30c7\u30d0\u30a4\u30b9\u306e\u521d\u671f\u5316\u306a\u3069\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001\u901a\u5e38\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u8d77\u52d5\u306fCPU\u4e0a\u3067\u5225\u306e\u95a2\u6570\u3092\u8d77\u52d5\u3059\u308b\u3088\u308a\u3082\u91cd\u3044\u51e6\u7406\u3067\u3059\u3002\u3082\u3057\u5f15\u6570\u304cPL/CUDA\u95a2\u6570\u306e\u4ed5\u69d8\u304b\u3089\u306f\u8a31\u5bb9\u3067\u304d\u306a\u3044\u5024\u3092\u6301\u3063\u3066\u3044\u308b\u5834\u5408\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u6570\u5343\uff5e\u6570\u767e\u4e07\uff08\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u305d\u308c\u4ee5\u4e0a\u306e\uff09\u306eGPU\u30b9\u30ec\u30c3\u30c9\u306f\u3001\u305f\u3060\u5f15\u6570\u306e\u59a5\u5f53\u6027\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u30a8\u30e9\u30fc\u72b6\u614b\u3092\u8fd4\u5374\u3059\u308b\u305f\u3081\u3060\u3051\u306b\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001\u5f15\u6570\u306e\u59a5\u5f53\u6027\u30c1\u30a7\u30c3\u30af\u3092\u5341\u5206\u5c0f\u3055\u306a\u30b3\u30b9\u30c8\u3067\u884c\u3048\u308b\u306a\u3089\u3070\u3001\u59a5\u5f53\u6027\u691c\u8a3c\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u5b9f\u884c\u524d\u306b\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u308b\u3053\u3068\u3092\u8003\u616e\u3059\u3079\u304d\u3067\u3059\u3002 \u59a5\u5f53\u6027\u691c\u8a3c\u95a2\u6570\u306f\u3001PL/CUDA\u95a2\u6570\u3068\u540c\u3058\u578b\u306e\u5f15\u6570\u3092\u6301\u3061\u3001 bool \u8fd4\u3059\u95a2\u6570\u3067\u3059\u3002", 
            "title": "#plcuda_sanity_check &lt;function&gt;"
        }, 
        {
            "location": "/plcuda/#plcuda_cpu_fallback-function", 
            "text": "GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3068\u540c\u7b49\u306e\u51e6\u7406\u3092\u884c\u3046CPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fCPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002  GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304cStromError_CpuReCheck\u30a8\u30e9\u30fc\u3092\u8fd4\u5374\u3057\u3001\u3055\u3089\u306bCPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3068\u3001PL/CUDA\u8a00\u8a9e\u30cf\u30f3\u30c9\u30e9\u306fGPU\u3067\u306e\u51e6\u7406\u7d50\u679c\u3092\u7834\u68c4\u3057\u3066CPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3092\u547c\u3073\u3060\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u5fc5\u305a\u3057\u3082\u5168\u3066\u306e\u5165\u529b\u306b\u5bfe\u3057\u3066GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u53ef\u80fd\u3067\u306a\u3044\uff08\u4f8b\u3048\u3070\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u304cGPU RAM\u306b\u8f09\u308a\u304d\u3089\u306a\u3044\u306a\u3069\uff09\u5834\u5408\u306b\u3001\u4ee3\u66ff\u306e\u6551\u6e08\u7b56\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u6709\u7528\u3067\u3059\u3002\u305f\u3060\u3057\u3001CPU\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u306f\u30b7\u30f3\u30b0\u30eb\u30b9\u30ec\u30c3\u30c9\u3067\u5b9f\u884c\u3055\u308c\u308b\u305f\u3081\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u72a0\u7272\u306b\u306a\u3089\u3056\u308b\u3092\u5f97\u306a\u3044\u70b9\u306b\u306f\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002", 
            "title": "#plcuda_cpu_fallback &lt;function&gt;"
        }, 
        {
            "location": "/plcuda/#plcuda_4", 
            "text": "\u95a2\u6570\u5b9a\u7fa9  \u7d50\u679c\u578b  \u8aac\u660e      plcuda_function_source(regproc)  text  \u5f15\u6570\u3068\u3057\u3066PL/CUDA\u95a2\u6570\u306eOID\u3092\u4e0e\u3048\u308b\u3068\u3001PL/CUDA\u95a2\u6570\u304b\u3089\u751f\u6210\u3055\u308c\u308bGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u8fd4\u3057\u307e\u3059\u3002", 
            "title": "PL/CUDA \u95a2\u9023\u95a2\u6570"
        }, 
        {
            "location": "/plcuda/#_1", 
            "text": "\u672c\u7bc0\u3067\u306fPG-Strom\u306e\u63d0\u4f9b\u3059\u308b\u914d\u5217\u30d9\u30fc\u30b9\u306e\u884c\u5217\u578b\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308bSQL\u95a2\u6570\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002  PostgreSQL\u306b\u306f\u884c\u5217\u3092\u8868\u73fe\u3059\u308b\u305f\u3081\u306e\u5c02\u7528\u306e\u30c7\u30fc\u30bf\u578b\u306f\u5b58\u5728\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u4e8c\u6b21\u5143\u914d\u5217\u3092\u3042\u305f\u304b\u3082\u884c\u5217\u3067\u3042\u308b\u304b\u306e\u3088\u3046\u306b\u53d6\u308a\u6271\u3046\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002   \u4e8c\u6b21\u5143\u914d\u5217\u3067\u3042\u308b  \u5404\u6b21\u5143\u306e\u914d\u5217\u8981\u7d20\u304c1\u304b\u3089\u59cb\u307e\u308b  NULL\u5024\u3092\u542b\u307e\u306a\u3044  \u914d\u5217\u306e\u5927\u304d\u3055\u304c1GB\u3092\u8d8a\u3048\u306a\u3044\u3002\uff08PostgreSQL\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u8868\u73fe\u306b\u3088\u308b\u5236\u7d04\uff09  smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u914d\u5217\u3067\u3042\u308b   \u914d\u5217\u304c\u3053\u308c\u3089\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u6642\u3001\u884c\u5217\u306e(i,j)\u8981\u7d20\u306e\u4f4d\u7f6e\u306f\u6dfb\u3048\u5b57\u304b\u3089\u4e00\u610f\u306b\u7279\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u3001GPU\u30b9\u30ec\u30c3\u30c9\u304c\u81ea\u3089\u306e\u51e6\u7406\u3059\u3079\u304d\u30c7\u30fc\u30bf\u3092\u52b9\u7387\u7684\u306b\u53d6\u308a\u51fa\u3059\u4e8b\u3092\u53ef\u80fd\u3068\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u901a\u5e38\u306e\u884c\u5f62\u5f0f\u30c7\u30fc\u30bf\u3068\u306f\u7570\u306a\u308a\u3001\u8a08\u7b97\u306b\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u306e\u307f\u3092\u30ed\u30fc\u30c9\u3059\u308b\u4e8b\u306b\u306a\u308b\u305f\u3081\u3001\u30e1\u30e2\u30ea\u6d88\u8cbb\u3084\u30c7\u30fc\u30bf\u8ee2\u9001\u306e\u70b9\u3067\u6709\u5229\u3067\u3059\u3002 PG-Strom\u306f\u3001\u3053\u306e\u69d8\u306a\u7591\u4f3c\u7684\u306a\u884c\u5217\u578b\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306b\u793a\u3059SQL\u95a2\u6570\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002     \u95a2\u6570\u5b9a\u7fa9  \u7d50\u679c\u578b  \u8aac\u660e      array_matrix(variadic arg, ...)  array  \u5165\u529b\u3055\u308c\u305f\u884c\u3092\u5168\u3066\u9023\u7d50\u3057\u305f\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u8fd4\u3059\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001 float \u578b\u306e\u5f15\u6570x\u3001y\u3001z\u30921000\u884c\u5165\u529b\u3059\u308b\u3068\u3001\u540c\u3058 float \u578b\u30673\u5217\u00d71000\u884c\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u8fd4\u3057\u307e\u3059\u3002 \u3053\u306e\u95a2\u6570\u306f\u53ef\u5909\u9577\u5f15\u6570\u3092\u53d6\u308b\u3088\u3046\u5b9a\u7fa9\u3055\u308c\u3066\u304a\u308a\u3001 arg \u306f1\u500b\u4ee5\u4e0a\u306e smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u30b9\u30ab\u30e9\u30fc\u5024\u3067\u3001\u5168\u3066\u306e arg \u5024\u306f\u540c\u3058\u30c7\u30fc\u30bf\u578b\u3092\u6301\u3064\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002    matrix_unnest(array)  record  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u884c\u306e\u96c6\u5408\u306b\u5c55\u958b\u3059\u308b\u96c6\u5408\u95a2\u6570\u3067\u3059\u3002 array \u306f smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u914d\u5217\u3067\u3001\u884c\u5217\u306e\u5e45\u306b\u5fdc\u3058\u30661\u500b\u4ee5\u4e0a\u306e\u30ab\u30e9\u30e0\u304b\u3089\u306a\u308b record \u578b\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u300110\u5217\u00d7500\u884c\u304b\u3089\u6210\u308b\u884c\u5217\u306e\u5834\u5408\u3001\u5404\u30ec\u30b3\u30fc\u30c9\u306f\u884c\u5217\u8981\u7d20\u306e\u30c7\u30fc\u30bf\u578b\u3092\u6301\u306410\u500b\u306e\u30ab\u30e9\u30e0\u304b\u3089\u306a\u308a\u3001\u3053\u308c\u304c500\u884c\u751f\u6210\u3055\u308c\u307e\u3059\u3002  \u6a19\u6e96\u306e unnest \u95a2\u6570\u3068\u4f3c\u3066\u3044\u307e\u3059\u304c\u3001 record \u578b\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u3001 AS (colname1 type[, ...]) \u53e5\u3092\u7528\u3044\u3066\u8fd4\u5374\u3055\u308c\u308b\u3079\u304d\u30ec\u30b3\u30fc\u30c9\u306e\u578b\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002    rbind(array, array)  array  array \u306f smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u914d\u5217\u3067\u3059\u3002 \u4e8c\u3064\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u7e26\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002\u53cc\u65b9\u306e\u884c\u5217\u306f\u540c\u4e00\u306e\u8981\u7d20\u30c7\u30fc\u30bf\u578b\u3092\u6301\u3064\u5fc5\u8981\u304c\u3042\u308a\u3001\u884c\u5217\u306e\u5e45\u304c\u7b49\u3057\u304f\u306a\u3044\u5834\u5408\u306f\u8db3\u308a\u306a\u3044\u90e8\u5206\u30920\u3067\u57cb\u3081\u307e\u3059\u3002    rbind(array)  array  array \u306f smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u914d\u5217\u3067\u3059\u3002 rbind(array, array) \u3068\u4f3c\u3066\u3044\u307e\u3059\u304c\u3001\u96c6\u5408\u95a2\u6570\u3068\u3057\u3066\u52d5\u4f5c\u3057\u5165\u529b\u3055\u308c\u305f\u5168\u3066\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u7e26\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002    cbind(array, array)  array  array \u306f smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u914d\u5217\u3067\u3001\u4e8c\u3064\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u6a2a\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002\u53cc\u65b9\u306e\u884c\u5217\u306f\u540c\u4e00\u306e\u8981\u7d20\u30c7\u30fc\u30bf\u578b\u3092\u6301\u3064\u5fc5\u8981\u304c\u3042\u308a\u3001\u884c\u5217\u306e\u9ad8\u3055\u7b49\u3057\u304f\u306a\u3044\u5834\u5408\u306f\u8db3\u308a\u306a\u3044\u90e8\u5206\u30920\u3067\u57cb\u3081\u307e\u3059\u3002    cbind(array)  array  array \u306f smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u914d\u5217\u3067\u3001 cbind(array, array) \u3068\u4f3c\u3066\u3044\u307e\u3059\u304c\u3001\u96c6\u5408\u95a2\u6570\u3068\u3057\u3066\u52d5\u4f5c\u3057\u5165\u529b\u3055\u308c\u305f\u5168\u3066\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u6a2a\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002    transpose(array)  array  array \u306f smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u914d\u5217\u3067\u3001\u884c\u5217\u306e\u5e45\u3068\u9ad8\u3055\u304c\u5165\u308c\u66ff\u308f\u3063\u305f\u8ee2\u7f6e\u884c\u5217\u3092\u751f\u6210\u3057\u307e\u3059\u3002    array_matrix_validation(anyarray)  bool  \u5165\u529b\u3055\u308c\u305f\u914d\u5217\uff08 anyarray \uff09\u304c\u3001\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3068\u3057\u3066\u59a5\u5f53\u304b\u3069\u3046\u304b\u3092\u691c\u67fb\u3057\u307e\u3059\u3002 PL/CUDA\u95a2\u6570\u5b9f\u884c\u524d\u306e\u5f15\u6570\u306e\u59a5\u5f53\u6027\u691c\u8a3c\u3084\u3001DOMAIN\u578b\u3092\u5b9a\u7fa9\u3059\u308b\u6642\u306e\u691c\u67fb\u5236\u7d04\u3068\u3057\u3066\u306e\u5229\u7528\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002    array_matrix_height(array)  int  array \u306f smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u914d\u5217\u3067\u3001\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u9ad8\u3055\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002    array_matrix_width(array)  int  array \u306f smallint \u3001 int \u3001 bigint \u3001 real \u307e\u305f\u306f float \u578b\u306e\u914d\u5217\u3067\u3001\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5e45\u3092\u8fd4\u5374\u3057\u307e\u3059\u3002    array_vector_rawsize(regtype,int)  bigint  \u7b2c\u4e00\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u578b\u3001\u7b2c\u4e8c\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u9ad8\u3055\u3092\u6301\u3064\u914d\u5217\u30d9\u30fc\u30b9\u30d9\u30af\u30c8\u30eb\uff081\u6b21\u5143\u914d\u5217\uff09\u306e\u4f5c\u6210\u306b\u5fc5\u8981\u306a\u30e1\u30e2\u30ea\u9818\u57df\u306e\u5927\u304d\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002 #plcuda_results_bufsz \u3084 #plcuda_working_bufsz \u3067\u306e\u5229\u7528\u3092\u610f\u56f3\u3057\u3066\u3044\u307e\u3059\u3002    array_matrix_rawsize(regproc,int,int)  bigint  \u7b2c\u4e00\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u578b\u3001\u7b2c\u4e8c\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u9ad8\u3055\u3001\u304a\u3088\u3073\u7b2c\u4e09\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u5e45\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u4f5c\u6210\u306b\u5fc5\u8981\u306a\u30e1\u30e2\u30ea\u9818\u57df\u306e\u5927\u304d\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002 #plcuda_results_bufsz \u3084 #plcuda_working_bufsz \u3067\u306e\u5229\u7528\u3092\u610f\u56f3\u3057\u3066\u3044\u307e\u3059\u3002    array_cube_rawsize(regtype,int,int,int)  bigint  \u7b2c\u4e00\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30fc\u30bf\u578b\u3001\u7b2c\u4e8c\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u9ad8\u3055\u3001\u7b2c\u4e09\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u5e45\u3001\u304a\u3088\u3073\u7b2c\uff14\u5f15\u6570\u3067\u6307\u5b9a\u3057\u305f\u6df1\u3055\u306e\u914d\u5217\u30d9\u30fc\u30b9\u30ad\u30e5\u30fc\u30d6\uff083\u6b21\u5143\u914d\u5217\uff09\u306e\u4f5c\u6210\u306b\u5fc5\u8981\u306a\u30e1\u30e2\u30ea\u9818\u57df\u306e\u5927\u304d\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002#plcuda_results_bufsz\u3084#plcuda_working_bufsz\u3067\u306e\u5229\u7528\u3092\u610f\u56f3\u3057\u3066\u3044\u307e\u3059\u3002", 
            "title": "\u914d\u5217\u30d9\u30fc\u30b9\u306e\u884c\u5217\u578b\u95a2\u6570"
        }, 
        {
            "location": "/ref_types/", 
            "text": "\u30c7\u30fc\u30bf\u578b\n\n\n\nPG-Strom\u306f\u4ee5\u4e0b\u306e\u30c7\u30fc\u30bf\u578b\u3092GPU\u3067\u5229\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\u6a19\u6e96\u306e\u6570\u5024\u30c7\u30fc\u30bf\u578b\n\n\n\n\n\n\n\n\nSQL\u30c7\u30fc\u30bf\u578b\n\n\n\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\n\n\n\u30c7\u30fc\u30bf\u9577\n\n\n\u5099\u8003\n\n\n\n\n\n\n\n\n\n\nsmallint\n\n\ncl_short\n\n\n2 bytes\n\n\n\n\n\n\n\n\ninteger\n\n\ncl_int\n\n\n4 bytes\n\n\n\n\n\n\n\n\nbigint\n\n\ncl_long\n\n\n8 bytes\n\n\n\n\n\n\n\n\nreal\n\n\ncl_float\n\n\n4 bytes\n\n\n\n\n\n\n\n\nfloat\n\n\ncl_double\n\n\n8 bytes\n\n\n\n\n\n\n\n\nnumeric\n\n\ncl_ulong\n\n\n\u53ef\u5909\u9577\n\n\n64bit\u306e\u5185\u90e8\u5f62\u5f0f\u306b\u30de\u30c3\u30d7\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nGPU\u304c\nnumeric\n\u578b\u306e\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u969b\u3001\u5b9f\u88c5\u4e0a\u306e\u7406\u7531\u304b\u3089\u3053\u308c\u309264bit\u306e\u5185\u90e8\u8868\u73fe\u306b\u5909\u63db\u3057\u3066\u51e6\u7406\u3057\u307e\u3059\u3002\n\u3053\u308c\u3089\u5185\u90e8\u8868\u73fe\u3078\u306e/\u304b\u3089\u306e\u5909\u63db\u306f\u900f\u904e\u7684\u306b\u884c\u308f\u308c\u307e\u3059\u304c\u3001\u4f8b\u3048\u3070\u3001\u6841\u6570\u306e\u5927\u304d\u306a\nnumeric\n\u578b\u306e\u30c7\u30fc\u30bf\u306f\u8868\u73fe\u3059\u308b\u4e8b\u304c\u3067\u304d\u306a\u3044\u305f\u3081\u3001PG-Strom\u306fCPU\u5074\u3067\u306e\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u51e6\u7406\u3092\u8a66\u307f\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u6841\u6570\u306e\u5927\u304d\u306a\nnumeric\n\u578b\u306e\u30c7\u30fc\u30bf\u3092GPU\u306b\u4e0e\u3048\u308b\u3068\u5374\u3063\u3066\u5b9f\u884c\u901f\u5ea6\u304c\u4f4e\u4e0b\u3057\u3066\u3057\u307e\u3046\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u308c\u3092\u907f\u3051\u308b\u306b\u306f\u3001GUC\u30d1\u30e9\u30e1\u30fc\u30bf\npg_strom.enable_numeric_type\n\u3092\u4f7f\u7528\u3057\u3066\nnumeric\n\u30c7\u30fc\u30bf\u578b\u3092\u542b\u3080\u6f14\u7b97\u5f0f\u3092GPU\u3067\u5b9f\u884c\u3057\u306a\u3044\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\n\n\n\u6a19\u6e96\u306e\u65e5\u4ed8\u6642\u523b\u578b\n\n\n\n\n\n\n\n\nSQL\u30c7\u30fc\u30bf\u578b\n\n\n\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\n\n\n\u30c7\u30fc\u30bf\u9577\n\n\n\u5099\u8003\n\n\n\n\n\n\n\n\n\n\ndate\n\n\nDateADT\n\n\n4 bytes\n\n\n\n\n\n\n\n\ntime\n\n\nTimeADT\n\n\n8 bytes\n\n\n\n\n\n\n\n\ntimetz\n\n\nTimeTzADT\n\n\n12 bytes\n\n\n\n\n\n\n\n\ntimestamp\n\n\nTimestamp\n\n\n8 bytes\n\n\n\n\n\n\n\n\ntimestamptz\n\n\nTimestampTz\n\n\n8 bytes\n\n\n\n\n\n\n\n\ninterval\n\n\nInterval\n\n\n16 bytes\n\n\ntime interval\n\n\n\n\n\n\n\n\n\u6a19\u6e96\u306e\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u578b\n\n\n\n\n\n\n\n\nSQL\u30c7\u30fc\u30bf\u578b\n\n\n\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\n\n\n\u30c7\u30fc\u30bf\u9577\n\n\n\u5099\u8003\n\n\n\n\n\n\n\n\n\n\nbpchar\n\n\nvarlena *\n\n\n\u53ef\u5909\u9577\n\n\n\n\n\n\n\n\nvarchar\n\n\nvarlena *\n\n\n\u53ef\u5909\u9577\n\n\n\n\n\n\n\n\nbytea\n\n\nvarlena *\n\n\n\u53ef\u5909\u9577\n\n\n\n\n\n\n\n\ntext\n\n\nvarlena *\n\n\n\u53ef\u5909\u9577\n\n\n\n\n\n\n\n\n\n\n\u6a19\u6e96\u306e\u96d1\u591a\u306a\u30c7\u30fc\u30bf\u578b\n\n\n\n\n\n\n\n\nSQL\u30c7\u30fc\u30bf\u578b\n\n\n\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\n\n\n\u30c7\u30fc\u30bf\u9577\n\n\n\u5099\u8003\n\n\n\n\n\n\n\n\n\n\nboolean\n\n\ncl_bool\n\n\n1 byte\n\n\n\n\n\n\n\n\nmoney\n\n\ncl_long\n\n\n8 bytes\n\n\n\n\n\n\n\n\nuuid\n\n\npg_uuid\n\n\n16 bytes\n\n\n\n\n\n\n\n\nmacaddr\n\n\nmacaddr\n\n\n6 bytes\n\n\n\n\n\n\n\n\ninet\n\n\ninet_struct\n\n\n7 bytes or 19 bytes\n\n\n\n\n\n\n\n\ncidr\n\n\ninet_struct\n\n\n7 bytes or 19 bytes\n\n\n\n\n\n\n\n\n\n\n\u6a19\u6e96\u306e\u7bc4\u56f2\u578b\n\n\n\n\n\n\n\n\nSQL\u30c7\u30fc\u30bf\u578b\n\n\n\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\n\n\n\u30c7\u30fc\u30bf\u9577\n\n\n\u5099\u8003\n\n\n\n\n\n\n\n\n\n\nint4range\n\n\n__int4range\n\n\n14 bytes\n\n\n\n\n\n\n\n\nint8range\n\n\n__int8range\n\n\n22 bytes\n\n\n\n\n\n\n\n\ntsrange\n\n\n__tsrange\n\n\n22 bytes\n\n\n\n\n\n\n\n\ntstzrange\n\n\n__tstzrange\n\n\n22 bytes\n\n\n\n\n\n\n\n\ndaterange\n\n\n__daterange\n\n\n14 bytes\n\n\n\n\n\n\n\n\n\n\nPG-Strom\u304c\u8ffd\u52a0\u3067\u63d0\u4f9b\u3059\u308b\u30c7\u30fc\u30bf\u578b\n\n\n\n\n\n\n\n\nSQL\u30c7\u30fc\u30bf\u578b\n\n\n\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\n\n\n\u30c7\u30fc\u30bf\u9577\n\n\n\u5099\u8003\n\n\n\n\n\n\n\n\n\n\nfloat2\n\n\nhalf_t\n\n\n2 bytes\n\n\n\u534a\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570\n\n\n\n\n\n\nreggstore\n\n\ncl_uint\n\n\n4 bytes\n\n\ngstore_fdw\u306eregclass\u578b\u3002PL/CUDA\u95a2\u6570\u547c\u51fa\u3057\u3067\u7279\u5225\u306a\u6271\u3044\u3002", 
            "title": "\u30c7\u30fc\u30bf\u578b"
        }, 
        {
            "location": "/ref_types/#_1", 
            "text": "SQL\u30c7\u30fc\u30bf\u578b  \u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f  \u30c7\u30fc\u30bf\u9577  \u5099\u8003      smallint  cl_short  2 bytes     integer  cl_int  4 bytes     bigint  cl_long  8 bytes     real  cl_float  4 bytes     float  cl_double  8 bytes     numeric  cl_ulong  \u53ef\u5909\u9577  64bit\u306e\u5185\u90e8\u5f62\u5f0f\u306b\u30de\u30c3\u30d7      Note  GPU\u304c numeric \u578b\u306e\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u969b\u3001\u5b9f\u88c5\u4e0a\u306e\u7406\u7531\u304b\u3089\u3053\u308c\u309264bit\u306e\u5185\u90e8\u8868\u73fe\u306b\u5909\u63db\u3057\u3066\u51e6\u7406\u3057\u307e\u3059\u3002\n\u3053\u308c\u3089\u5185\u90e8\u8868\u73fe\u3078\u306e/\u304b\u3089\u306e\u5909\u63db\u306f\u900f\u904e\u7684\u306b\u884c\u308f\u308c\u307e\u3059\u304c\u3001\u4f8b\u3048\u3070\u3001\u6841\u6570\u306e\u5927\u304d\u306a numeric \u578b\u306e\u30c7\u30fc\u30bf\u306f\u8868\u73fe\u3059\u308b\u4e8b\u304c\u3067\u304d\u306a\u3044\u305f\u3081\u3001PG-Strom\u306fCPU\u5074\u3067\u306e\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af\u51e6\u7406\u3092\u8a66\u307f\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u6841\u6570\u306e\u5927\u304d\u306a numeric \u578b\u306e\u30c7\u30fc\u30bf\u3092GPU\u306b\u4e0e\u3048\u308b\u3068\u5374\u3063\u3066\u5b9f\u884c\u901f\u5ea6\u304c\u4f4e\u4e0b\u3057\u3066\u3057\u307e\u3046\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u308c\u3092\u907f\u3051\u308b\u306b\u306f\u3001GUC\u30d1\u30e9\u30e1\u30fc\u30bf pg_strom.enable_numeric_type \u3092\u4f7f\u7528\u3057\u3066 numeric \u30c7\u30fc\u30bf\u578b\u3092\u542b\u3080\u6f14\u7b97\u5f0f\u3092GPU\u3067\u5b9f\u884c\u3057\u306a\u3044\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002", 
            "title": "\u6a19\u6e96\u306e\u6570\u5024\u30c7\u30fc\u30bf\u578b"
        }, 
        {
            "location": "/ref_types/#_2", 
            "text": "SQL\u30c7\u30fc\u30bf\u578b  \u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f  \u30c7\u30fc\u30bf\u9577  \u5099\u8003      date  DateADT  4 bytes     time  TimeADT  8 bytes     timetz  TimeTzADT  12 bytes     timestamp  Timestamp  8 bytes     timestamptz  TimestampTz  8 bytes     interval  Interval  16 bytes  time interval", 
            "title": "\u6a19\u6e96\u306e\u65e5\u4ed8\u6642\u523b\u578b"
        }, 
        {
            "location": "/ref_types/#_3", 
            "text": "SQL\u30c7\u30fc\u30bf\u578b  \u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f  \u30c7\u30fc\u30bf\u9577  \u5099\u8003      bpchar  varlena *  \u53ef\u5909\u9577     varchar  varlena *  \u53ef\u5909\u9577     bytea  varlena *  \u53ef\u5909\u9577     text  varlena *  \u53ef\u5909\u9577", 
            "title": "\u6a19\u6e96\u306e\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u578b"
        }, 
        {
            "location": "/ref_types/#_4", 
            "text": "SQL\u30c7\u30fc\u30bf\u578b  \u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f  \u30c7\u30fc\u30bf\u9577  \u5099\u8003      boolean  cl_bool  1 byte     money  cl_long  8 bytes     uuid  pg_uuid  16 bytes     macaddr  macaddr  6 bytes     inet  inet_struct  7 bytes or 19 bytes     cidr  inet_struct  7 bytes or 19 bytes", 
            "title": "\u6a19\u6e96\u306e\u96d1\u591a\u306a\u30c7\u30fc\u30bf\u578b"
        }, 
        {
            "location": "/ref_types/#_5", 
            "text": "SQL\u30c7\u30fc\u30bf\u578b  \u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f  \u30c7\u30fc\u30bf\u9577  \u5099\u8003      int4range  __int4range  14 bytes     int8range  __int8range  22 bytes     tsrange  __tsrange  22 bytes     tstzrange  __tstzrange  22 bytes     daterange  __daterange  14 bytes", 
            "title": "\u6a19\u6e96\u306e\u7bc4\u56f2\u578b"
        }, 
        {
            "location": "/ref_types/#pg-strom", 
            "text": "SQL\u30c7\u30fc\u30bf\u578b  \u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f  \u30c7\u30fc\u30bf\u9577  \u5099\u8003      float2  half_t  2 bytes  \u534a\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570    reggstore  cl_uint  4 bytes  gstore_fdw\u306eregclass\u578b\u3002PL/CUDA\u95a2\u6570\u547c\u51fa\u3057\u3067\u7279\u5225\u306a\u6271\u3044\u3002", 
            "title": "PG-Strom\u304c\u8ffd\u52a0\u3067\u63d0\u4f9b\u3059\u308b\u30c7\u30fc\u30bf\u578b"
        }, 
        {
            "location": "/ref_devfuncs/", 
            "text": "\u95a2\u6570\u3068\u6f14\u7b97\u5b50\n\n\n\n\u672c\u7ae0\u3067\u306fGPU\u30c7\u30d0\u30a4\u30b9\u4e0a\u3067\u5b9f\u884c\u53ef\u80fd\u306a\u95a2\u6570\u3068\u6f14\u7b97\u5b50\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\n\u578b\u30ad\u30e3\u30b9\u30c8\n\n\n\n\n\n\n\n\ndestination type\n\n\nsource type\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\nbool\n\n\nint4\n\n\n\n\n\n\n\n\nint2\n\n\nint4,int8,float2,float4,float8,numeric\n\n\n\n\n\n\n\n\nint4\n\n\nint2,int8,float2,float4,float8,numeric\n\n\n\n\n\n\n\n\nint8\n\n\nint2,int4,float2,float4,float8,numeric\n\n\n\n\n\n\n\n\nfloat2\n\n\nint2,int4,int8,float4,float8,numeric\n\n\n\n\n\n\n\n\nfloat4\n\n\nint2,int4,int8,float2,float8,numeric\n\n\n\n\n\n\n\n\nfloat8\n\n\nint2,int4,int8,float2,float4,numeric\n\n\n\n\n\n\n\n\nnumeric\n\n\nint2,int4,int8,float2,float4,float8\n\n\n\n\n\n\n\n\nmoney\n\n\nint4,int8,numeric\n\n\n\n\n\n\n\n\ninet\n\n\ncidr\n\n\n\n\n\n\n\n\ndate\n\n\ntimestamp,timestamptz\n\n\n\n\n\n\n\n\ntime\n\n\ntimetz,timestamp,timestamptz\n\n\n\n\n\n\n\n\ntimetz\n\n\ntime,timestamptz\n\n\n\n\n\n\n\n\ntimestamp\n\n\ndate,timestamptz\n\n\n\n\n\n\n\n\ntimestamptz\n\n\ndate,timestamp\n\n\n\n\n\n\n\n\n\n\n\u6570\u5024\u578b\u6f14\u7b97\u5b50\n\n\n\n\n\n\n\n\nfunction/operator\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\nTYPE COMP TYPE\n\n\nComparison of two values\nTYPE\n is any of \nint2,int4,int8\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\nTYPE COMP TYPE\n\n\nComparison of two values\nTYPE\n is any of \nfloat2,float4,float8\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\nnumeric COMP numeric\n\n\nComparison of two values\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\nTYPE + TYPE\n\n\nArithemetic addition\nTYPE\n is any of \nint2,int4,int8,float2,float4,float8,numeric\n\n\n\n\n\n\nTYPE - TYPE\n\n\nArithemetic substract\nTYPE\n is any of \nint2,int4,int8,float2,float4,float8,numeric\n\n\n\n\n\n\nTYPE * TYPE\n\n\nArithemetic multiplication\nTYPE\n is any of \nint2,int4,int8,float2,float4,float8,numeric\n\n\n\n\n\n\nTYPE / TYPE\n\n\nArithemetic division\nTYPE\n is any of \nint2,int4,int8,float2,float4,float8,numeric\n\n\n\n\n\n\nTYPE % TYPE\n\n\nReminer operator\nTYPE\n is any of \nint2,int4,int8\n\n\n\n\n\n\nTYPE \n TYPE\n\n\nBitwise AND\nTYPE\n is any of \nint2,int4,int8\n\n\n\n\n\n\nTYPE \n TYPE\n\n\nBitwise OR\nTYPE\n is any of \nint2,int4,int8\n\n\n\n\n\n\nTYPE # TYPE\n\n\nBitwise XOR\nTYPE\n is any of \nint2,int4,int8\n\n\n\n\n\n\n~ TYPE\n\n\nBitwise NOT\nTYPE\n is any if \nint2,int4,int8\n\n\n\n\n\n\nTYPE \n int4\n\n\nRight shift\nTYPE\n is any of \nint2,int4,int8\n\n\n\n\n\n\nTYPE \n int4\n\n\nLeft shift\nTYPE\n is any of \nint2,int4,int8\n\n\n\n\n\n\n+ TYPE\n\n\nUnary plus\nTYPE\n is any of \nint2,int4,int8,float2,float4,float8,numeric\n\n\n\n\n\n\n- TYPE\n\n\nUnary minus\nTYPE\n is any of \nint2,int4,int8,float2,float4,float8,numeric\n\n\n\n\n\n\n@TYPE\n\n\nAbsolute value\nTYPE\n is any of \nint2,int4,int8,float2,float4,float8,numeric\n\n\n\n\n\n\n\n\n\u6570\u5b66\u95a2\u6570\n\n\n\n\n\n\n\n\nfunctions/operators\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\ncbrt(float8)\n\n\ncube root\n\n\n\n\n\n\ndcbrt(float8)\n\n\ncube root\n\n\n\n\n\n\nceil(float8)\n\n\nnearest integer greater than or equal to argument\n\n\n\n\n\n\nceiling(float8)\n\n\nnearest integer greater than or equal to argument\n\n\n\n\n\n\nexp(float8)\n\n\nexponential\n\n\n\n\n\n\ndexp(float8)\n\n\nexponential\n\n\n\n\n\n\nfloor(float8)\n\n\nnearest integer less than or equal to argument\n\n\n\n\n\n\nln(float8)\n\n\nnatural logarithm\n\n\n\n\n\n\ndlog1(float8)\n\n\nnatural logarithm\n\n\n\n\n\n\nlog(float8)\n\n\nbase 10 logarithm\n\n\n\n\n\n\ndlog10(float8)\n\n\nbase 10 logarithm\n\n\n\n\n\n\npi()\n\n\ncircumference ratio\n\n\n\n\n\n\npower(float8,float8)\n\n\npower\n\n\n\n\n\n\npow(float8,float8)\n\n\npower\n\n\n\n\n\n\ndpow(float8,float8)\n\n\npower\n\n\n\n\n\n\nround(float8)\n\n\nround to the nearest integer\n\n\n\n\n\n\ndround(float8)\n\n\nround to the nearest integer\n\n\n\n\n\n\nsign(float8)\n\n\nsign of the argument\n\n\n\n\n\n\nsqrt(float8)\n\n\nsquare root\n\n\n\n\n\n\ndsqrt(float8)\n\n\nsquare root\n\n\n\n\n\n\ntrunc(float8)\n\n\ntruncate toward zero\n\n\n\n\n\n\ndtrunc(float8)\n\n\ntruncate toward zero\n\n\n\n\n\n\n\n\n\u4e09\u89d2\u95a2\u6570\n\n\n\n\n\n\n\n\nfunctions/operators\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\ndegrees(float8)\n\n\nradians to degrees\n\n\n\n\n\n\nradians(float8)\n\n\ndegrees to radians\n\n\n\n\n\n\nacos(float8)\n\n\ninverse cosine\n\n\n\n\n\n\nasin(float8)\n\n\ninverse sine\n\n\n\n\n\n\natan(float8)\n\n\ninverse tangent\n\n\n\n\n\n\natan2(float8,float8)\n\n\ninverse tangent of \narg1 / arg2\n\n\n\n\n\n\ncos(float8)\n\n\ncosine\n\n\n\n\n\n\ncot(float8)\n\n\ncotangent\n\n\n\n\n\n\nsin(float8)\n\n\nsine\n\n\n\n\n\n\ntan(float8)\n\n\ntangent\n\n\n\n\n\n\n\n\n\u65e5\u4ed8/\u6642\u523b\u578b\u6f14\u7b97\u5b50\n\n\n\n\n\n\n\n\nfunctions/operators\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\ndate COMP date\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ndate COMP timestamp\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ndate COMP timestamptz\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ntime COMP time\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ntimetz COMP timetz\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ntimestamp COMP timestamp\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ntimestamp COMP date\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ntimestamptz COMP timestamptz\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ntimestamptz COMP date\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ntimestamp COMP timestamptz\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ntimestamptz COMP timestamp\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ninterval COMP interval\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ndate OP int4\n\n\nOP\n is either of \n+,-\n\n\n\n\n\n\nint4 + date\n\n\n\n\n\n\n\n\ndate - date\n\n\n\n\n\n\n\n\ndate + time\n\n\n\n\n\n\n\n\ndate + timetz\n\n\n\n\n\n\n\n\ntime + date\n\n\n\n\n\n\n\n\ntime - time\n\n\n\n\n\n\n\n\ntimestamp - timestamp\n\n\n\n\n\n\n\n\ntimetz OP interval\n\n\nOP\n is either of \n+,-\n\n\n\n\n\n\ntimestamptz OP interval\n\n\nOP\n is either of \n+,-\n\n\n\n\n\n\noverlaps(TYPE,TYPE,TYPE,TYPE)\n\n\nTYPE\n is any of \ntime,timetz,timestamp,timestamptz\n\n\n\n\n\n\nextract(text FROM TYPE)\n\n\nTYPE\n is any of \ntime,timetz,timestamp,timestamptz,interval\n\n\n\n\n\n\nnow()\n\n\n\n\n\n\n\n\n- interval\n\n\nunary minus operator\n\n\n\n\n\n\ninterval OP interval\n\n\nOP\n is either of \n+,-\n\n\n\n\n\n\n\n\n\u6587\u5b57\u5217\u95a2\u6570/\u6f14\u7b97\u5b50\n\n\n\n\n\n\n\n\nfunctions/operators\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\n{text,bpchar} COMP {text,bpchar}\n\n\nCOMP\n is either of \n=,\n\n\n\n\n\n\n{text,bpchar} COMP {text,bpchar}\n\n\nCOMP\n is either of \n,\n=,\n=,\nOnly available on no-locale or UTF-8\n\n\n\n\n\n\nlength(TYPE)\n\n\nlength of the string\nTYPE\n is either of \ntext,bpchar\n\n\n\n\n\n\nTYPE LIKE text\n\n\nTYPE\n is either of \ntext,bpchar\n\n\n\n\n\n\nTYPE NOT LIKE text\n\n\nTYPE\n is either of \ntext,bpchar\n\n\n\n\n\n\nTYPE ILIKE text\n\n\nTYPE\n is either of \ntext,bpchar\nOnly available on no-locale or UTF-8\n\n\n\n\n\n\nTYPE NOT ILIKE text\n\n\nTYPE\n is either of \ntext,bpchar\nOnly available on no-locale or UTF-8\n\n\n\n\n\n\n\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u95a2\u6570/\u6f14\u7b97\u5b50\n\n\n\n\n\n\n\n\nfunctions/operators\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\nmacaddr COMP macaddr\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\nmacaddr \n macaddr\n\n\nBitwise AND operator\n\n\n\n\n\n\nmacaddr \n macaddr\n\n\nBitwise OR operator\n\n\n\n\n\n\n~ macaddr\n\n\nBitwise NOT operator\n\n\n\n\n\n\ntrunc(macaddr)\n\n\nSet last 3 bytes to zero\n\n\n\n\n\n\ninet COMP inet\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\ninet INCL inet\n\n\nINCL\n is any of \n,\n=,\n,\n=,\n\n\n\n\n\n\n~ inet\n\n\n\n\n\n\n\n\ninet \n inet\n\n\n\n\n\n\n\n\ninet \n inet\n\n\n\n\n\n\n\n\ninet + int8\n\n\n\n\n\n\n\n\ninet - int8\n\n\n\n\n\n\n\n\ninet - inet\n\n\n\n\n\n\n\n\nbroadcast(inet)\n\n\n\n\n\n\n\n\nfamily(inet)\n\n\n\n\n\n\n\n\nhostmask(inet)\n\n\n\n\n\n\n\n\nmasklen(inet)\n\n\n\n\n\n\n\n\nnetmask(inet)\n\n\n\n\n\n\n\n\nnetwork(inet)\n\n\n\n\n\n\n\n\nset_masklen(cidr,int)\n\n\n\n\n\n\n\n\nset_masklen(inet,int)\n\n\n\n\n\n\n\n\ninet_same_family(inet, inet)\n\n\n\n\n\n\n\n\ninet_merge(inet,inet)\n\n\n\n\n\n\n\n\n\n\n\u901a\u8ca8\u578b\u6f14\u7b97\u5b50\n\n\n\n\n\n\n\n\nfunctions/operators\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\nmoney COMP money\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\nmoney OP money\n\n\nOP\n is any of \n+,-,/\n\n\n\n\n\n\nmoney * TYPE\n\n\nTYPE\n is any of \nint2,int4,float2,float4,float8\n\n\n\n\n\n\nTYPE * money\n\n\nTYPE\n is any of \nint2,int4,float2,float4,float8\n\n\n\n\n\n\nmoney / TYPE\n\n\nTYPE\n is any of \nint2,int4,float2,float4,float8\n\n\n\n\n\n\n\n\nuuid\u578b\u6f14\u7b97\u5b50\n\n\n\n\n\n\n\n\nfunctions/operators\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\nuuid COMP uuid\n\n\nCOMP\n is any of \n=,\n,\n,\n=,\n=,\n\n\n\n\n\n\n\n\n\u7bc4\u56f2\u578b\u6f14\u7b97\u5b50\n\n\n\n\n\n\n\n\nfunctions/operators\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\nRANGE = RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE \n RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE \n RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE \n= RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE \n RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE \n= RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE @ RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE @ TYPE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\nTYPE\n is element type of \nRANGE\n.\n\n\n\n\n\n\nRANGE \n@RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nTYPE \n@RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\nTYPE\n is element type of \nRANGE\n.\n\n\n\n\n\n\nRANGE \n RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE \n RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE \n RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE \n RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE \n RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE -\n- RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE + RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE * RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nRANGE - RANGE\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nlower(RANGE)\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nupper(RANGE)\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nisempty(RANGE)\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nlower_inc(RANGE)\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nupper_inc(RANGE)\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nlower_inf(RANGE)\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nupper_inf(RANGE)\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\nrange_merge(RANGE,RANGE)\n\n\nRANGE\n is any of \nint4range,int8range,tsrange,tstzrange,daterange\n\n\n\n\n\n\n\n\n\u305d\u306e\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u95a2\u6570\n\n\n\n\n\n\n\n\nfunctions/operators\n\n\nresult\n\n\ndescription\n\n\n\n\n\n\n\n\n\n\nas_int8(float8)\n\n\nint8\n\n\nRe-interpret double-precision floating point bit-pattern as 64bit integer value\n\n\n\n\n\n\nas_int4(float4)\n\n\nint4\n\n\nRe-interpret single-precision floating point bit-pattern as 32bit integer value\n\n\n\n\n\n\nas_int2(float2)\n\n\nint2\n\n\nRe-interpret half-precision floating point bit-pattern as 16bit integer value\n\n\n\n\n\n\nas_float8(int8)\n\n\nfloat8\n\n\nRe-interpret 64bit integer bit-pattern as double-precision floating point value\n\n\n\n\n\n\nas_float4(int4)\n\n\nfloat4\n\n\nRe-interpret 32bit integer bit-pattern as single-precision floating point value\n\n\n\n\n\n\nas_float2(int2)\n\n\nfloat2\n\n\nRe-interpret 16bit integer bit-pattern as half-precision floating point value", 
            "title": "\u95a2\u6570\u3068\u6f14\u7b97\u5b50"
        }, 
        {
            "location": "/ref_devfuncs/#_1", 
            "text": "destination type  source type  description      bool  int4     int2  int4,int8,float2,float4,float8,numeric     int4  int2,int8,float2,float4,float8,numeric     int8  int2,int4,float2,float4,float8,numeric     float2  int2,int4,int8,float4,float8,numeric     float4  int2,int4,int8,float2,float8,numeric     float8  int2,int4,int8,float2,float4,numeric     numeric  int2,int4,int8,float2,float4,float8     money  int4,int8,numeric     inet  cidr     date  timestamp,timestamptz     time  timetz,timestamp,timestamptz     timetz  time,timestamptz     timestamp  date,timestamptz     timestamptz  date,timestamp", 
            "title": "\u578b\u30ad\u30e3\u30b9\u30c8"
        }, 
        {
            "location": "/ref_devfuncs/#_2", 
            "text": "function/operator  description      TYPE COMP TYPE  Comparison of two values TYPE  is any of  int2,int4,int8 COMP  is any of  =, , , =, =,    TYPE COMP TYPE  Comparison of two values TYPE  is any of  float2,float4,float8 COMP  is any of  =, , , =, =,    numeric COMP numeric  Comparison of two values COMP  is any of  =, , , =, =,    TYPE + TYPE  Arithemetic addition TYPE  is any of  int2,int4,int8,float2,float4,float8,numeric    TYPE - TYPE  Arithemetic substract TYPE  is any of  int2,int4,int8,float2,float4,float8,numeric    TYPE * TYPE  Arithemetic multiplication TYPE  is any of  int2,int4,int8,float2,float4,float8,numeric    TYPE / TYPE  Arithemetic division TYPE  is any of  int2,int4,int8,float2,float4,float8,numeric    TYPE % TYPE  Reminer operator TYPE  is any of  int2,int4,int8    TYPE   TYPE  Bitwise AND TYPE  is any of  int2,int4,int8    TYPE   TYPE  Bitwise OR TYPE  is any of  int2,int4,int8    TYPE # TYPE  Bitwise XOR TYPE  is any of  int2,int4,int8    ~ TYPE  Bitwise NOT TYPE  is any if  int2,int4,int8    TYPE   int4  Right shift TYPE  is any of  int2,int4,int8    TYPE   int4  Left shift TYPE  is any of  int2,int4,int8    + TYPE  Unary plus TYPE  is any of  int2,int4,int8,float2,float4,float8,numeric    - TYPE  Unary minus TYPE  is any of  int2,int4,int8,float2,float4,float8,numeric    @TYPE  Absolute value TYPE  is any of  int2,int4,int8,float2,float4,float8,numeric", 
            "title": "\u6570\u5024\u578b\u6f14\u7b97\u5b50"
        }, 
        {
            "location": "/ref_devfuncs/#_3", 
            "text": "functions/operators  description      cbrt(float8)  cube root    dcbrt(float8)  cube root    ceil(float8)  nearest integer greater than or equal to argument    ceiling(float8)  nearest integer greater than or equal to argument    exp(float8)  exponential    dexp(float8)  exponential    floor(float8)  nearest integer less than or equal to argument    ln(float8)  natural logarithm    dlog1(float8)  natural logarithm    log(float8)  base 10 logarithm    dlog10(float8)  base 10 logarithm    pi()  circumference ratio    power(float8,float8)  power    pow(float8,float8)  power    dpow(float8,float8)  power    round(float8)  round to the nearest integer    dround(float8)  round to the nearest integer    sign(float8)  sign of the argument    sqrt(float8)  square root    dsqrt(float8)  square root    trunc(float8)  truncate toward zero    dtrunc(float8)  truncate toward zero", 
            "title": "\u6570\u5b66\u95a2\u6570"
        }, 
        {
            "location": "/ref_devfuncs/#_4", 
            "text": "functions/operators  description      degrees(float8)  radians to degrees    radians(float8)  degrees to radians    acos(float8)  inverse cosine    asin(float8)  inverse sine    atan(float8)  inverse tangent    atan2(float8,float8)  inverse tangent of  arg1 / arg2    cos(float8)  cosine    cot(float8)  cotangent    sin(float8)  sine    tan(float8)  tangent", 
            "title": "\u4e09\u89d2\u95a2\u6570"
        }, 
        {
            "location": "/ref_devfuncs/#_5", 
            "text": "functions/operators  description      date COMP date  COMP  is any of  =, , , =, =,    date COMP timestamp  COMP  is any of  =, , , =, =,    date COMP timestamptz  COMP  is any of  =, , , =, =,    time COMP time  COMP  is any of  =, , , =, =,    timetz COMP timetz  COMP  is any of  =, , , =, =,    timestamp COMP timestamp  COMP  is any of  =, , , =, =,    timestamp COMP date  COMP  is any of  =, , , =, =,    timestamptz COMP timestamptz  COMP  is any of  =, , , =, =,    timestamptz COMP date  COMP  is any of  =, , , =, =,    timestamp COMP timestamptz  COMP  is any of  =, , , =, =,    timestamptz COMP timestamp  COMP  is any of  =, , , =, =,    interval COMP interval  COMP  is any of  =, , , =, =,    date OP int4  OP  is either of  +,-    int4 + date     date - date     date + time     date + timetz     time + date     time - time     timestamp - timestamp     timetz OP interval  OP  is either of  +,-    timestamptz OP interval  OP  is either of  +,-    overlaps(TYPE,TYPE,TYPE,TYPE)  TYPE  is any of  time,timetz,timestamp,timestamptz    extract(text FROM TYPE)  TYPE  is any of  time,timetz,timestamp,timestamptz,interval    now()     - interval  unary minus operator    interval OP interval  OP  is either of  +,-", 
            "title": "\u65e5\u4ed8/\u6642\u523b\u578b\u6f14\u7b97\u5b50"
        }, 
        {
            "location": "/ref_devfuncs/#_6", 
            "text": "functions/operators  description      {text,bpchar} COMP {text,bpchar}  COMP  is either of  =,    {text,bpchar} COMP {text,bpchar}  COMP  is either of  , =, =, Only available on no-locale or UTF-8    length(TYPE)  length of the string TYPE  is either of  text,bpchar    TYPE LIKE text  TYPE  is either of  text,bpchar    TYPE NOT LIKE text  TYPE  is either of  text,bpchar    TYPE ILIKE text  TYPE  is either of  text,bpchar Only available on no-locale or UTF-8    TYPE NOT ILIKE text  TYPE  is either of  text,bpchar Only available on no-locale or UTF-8", 
            "title": "\u6587\u5b57\u5217\u95a2\u6570/\u6f14\u7b97\u5b50"
        }, 
        {
            "location": "/ref_devfuncs/#_7", 
            "text": "functions/operators  description      macaddr COMP macaddr  COMP  is any of  =, , , =, =,    macaddr   macaddr  Bitwise AND operator    macaddr   macaddr  Bitwise OR operator    ~ macaddr  Bitwise NOT operator    trunc(macaddr)  Set last 3 bytes to zero    inet COMP inet  COMP  is any of  =, , , =, =,    inet INCL inet  INCL  is any of  , =, , =,    ~ inet     inet   inet     inet   inet     inet + int8     inet - int8     inet - inet     broadcast(inet)     family(inet)     hostmask(inet)     masklen(inet)     netmask(inet)     network(inet)     set_masklen(cidr,int)     set_masklen(inet,int)     inet_same_family(inet, inet)     inet_merge(inet,inet)", 
            "title": "\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u95a2\u6570/\u6f14\u7b97\u5b50"
        }, 
        {
            "location": "/ref_devfuncs/#_8", 
            "text": "functions/operators  description      money COMP money  COMP  is any of  =, , , =, =,    money OP money  OP  is any of  +,-,/    money * TYPE  TYPE  is any of  int2,int4,float2,float4,float8    TYPE * money  TYPE  is any of  int2,int4,float2,float4,float8    money / TYPE  TYPE  is any of  int2,int4,float2,float4,float8", 
            "title": "\u901a\u8ca8\u578b\u6f14\u7b97\u5b50"
        }, 
        {
            "location": "/ref_devfuncs/#uuid", 
            "text": "functions/operators  description      uuid COMP uuid  COMP  is any of  =, , , =, =,", 
            "title": "uuid\u578b\u6f14\u7b97\u5b50"
        }, 
        {
            "location": "/ref_devfuncs/#_9", 
            "text": "functions/operators  description      RANGE = RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE   RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE   RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE  = RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE   RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE  = RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE @ RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE @ TYPE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange TYPE  is element type of  RANGE .    RANGE  @RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    TYPE  @RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange TYPE  is element type of  RANGE .    RANGE   RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE   RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE   RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE   RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE   RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE - - RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE + RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE * RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    RANGE - RANGE  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    lower(RANGE)  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    upper(RANGE)  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    isempty(RANGE)  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    lower_inc(RANGE)  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    upper_inc(RANGE)  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    lower_inf(RANGE)  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    upper_inf(RANGE)  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange    range_merge(RANGE,RANGE)  RANGE  is any of  int4range,int8range,tsrange,tstzrange,daterange", 
            "title": "\u7bc4\u56f2\u578b\u6f14\u7b97\u5b50"
        }, 
        {
            "location": "/ref_devfuncs/#_10", 
            "text": "functions/operators  result  description      as_int8(float8)  int8  Re-interpret double-precision floating point bit-pattern as 64bit integer value    as_int4(float4)  int4  Re-interpret single-precision floating point bit-pattern as 32bit integer value    as_int2(float2)  int2  Re-interpret half-precision floating point bit-pattern as 16bit integer value    as_float8(int8)  float8  Re-interpret 64bit integer bit-pattern as double-precision floating point value    as_float4(int4)  float4  Re-interpret 32bit integer bit-pattern as single-precision floating point value    as_float2(int2)  float2  Re-interpret 16bit integer bit-pattern as half-precision floating point value", 
            "title": "\u305d\u306e\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u95a2\u6570"
        }, 
        {
            "location": "/ref_sqlfuncs/", 
            "text": "SQL\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n\n\n\u672c\u7ae0\u3067\u306fPG-Strom\u304c\u72ec\u81ea\u306b\u63d0\u4f9b\u3059\u308bSQL\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\n\u30c7\u30d0\u30a4\u30b9\u60c5\u5831\u95a2\u6570\n\n\n\n\n\n\n\n\n\u95a2\u6570\n\n\n\u623b\u308a\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\ngpu_device_name(int = 0)\n\n\ntext\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306e\u540d\u524d\u3092\u8fd4\u3057\u307e\u3059\n\n\n\n\n\n\ngpu_global_memsize(int = 0)\n\n\nbigint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u5bb9\u91cf\u3092\u8fd4\u3057\u307e\u3059\n\n\n\n\n\n\ngpu_max_blocksize(int = 0)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308b\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u306e\u6700\u5927\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u306eGPU\u3067\u306f1024\u3067\u3059\u3002\n\n\n\n\n\n\ngpu_warp_size(int = 0)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308b\u30ef\u30fc\u30d7\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u306eGPU\u3067\u306f32\u3067\u3059\u3002\n\n\n\n\n\n\ngpu_max_shared_memory_perblock(int = 0)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308b\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u6700\u5927\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ngpu_num_registers_perblock(int = 0)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308b\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u30ec\u30b8\u30b9\u30bf\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ngpu_num_multiptocessors(int = 0)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308bSM(Streaming Multiprocessor)\u30e6\u30cb\u30c3\u30c8\u306e\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ngpu_num_cuda_cores(int = 0)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308bCUDA\u30b3\u30a2\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ngpu_cc_major(int = 0)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306eCC(Compute Capability)\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ngpu_cc_minor(int = 0)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306eCC(Compute Capability)\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ngpu_pci_id(int = 0)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u304c\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308bPCI\u30d0\u30b9ID\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u30b5\u30dd\u30fc\u30c8\n\n\nPL/CUDA\u95a2\u6570\u3068\u884c\u5217\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u6e21\u3057\u3059\u308b\u305f\u3081\u306b\u3001PostgreSQL\u306e\u914d\u5217\u578b\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\u56fa\u5b9a\u9577\u306e\u8ad6\u7406\u5024/\u6570\u5024\u578b\u30c7\u30fc\u30bf\u3067NULL\u3092\u542b\u307e\u306a\u3044\u4e8c\u6b21\u5143\u914d\u5217\u306f\uff08\u914d\u5217\u30c7\u30fc\u30bf\u578b\u306e\u30d8\u30c3\u30c0\u9818\u57df\u3092\u9664\u3044\u3066\uff09\u30d5\u30e9\u30c3\u30c8\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u6301\u3063\u3066\u304a\u308a\u3001\u884c\u5217\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u3063\u3066\u5404\u8981\u7d20\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u4e00\u610f\u306b\u7279\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\nPG-Strom\u306f\u914d\u5217\u30d9\u30fc\u30b9\u306e\u884c\u5217\u3092\u53d6\u308a\u6271\u3046\u305f\u3081\u306eSQL\u95a2\u6570\u3092\u3044\u304f\u3064\u304b\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u578b\u30ad\u30e3\u30b9\u30c8\n\n\n\n\n\n\n\n\n\u5909\u63db\u5148\n\n\n\u5909\u63db\u5143\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\nint[]\n\n\nbit\n\n\n\u30d3\u30c3\u30c8\u5217\u578b\u309232bit\u6574\u6570\u5024\u306e\u914d\u5217\u306b\u5909\u63db\u3057\u307e\u3059\u3002\u4e0d\u8db3\u3059\u308b\u30d3\u30c3\u30c8\u306f0\u3067\u57cb\u3081\u3089\u308c\u307e\u3059\u3002\n\n\n\n\n\n\nbit\n\n\nint[]\n\n\nint\u914d\u5217\u3092\u30d3\u30c3\u30c8\u5217\u578b\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u95a2\u6570\n\n\n\n\n\n\n\n\n\u95a2\u6570/\u6f14\u7b97\u5b50\n\n\n\u8fd4\u308a\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\narray_matrix_validation(anyarray)\n\n\nbool\n\n\n\u914d\u5217\u304c\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u6761\u4ef6\u3092\u6e80\u8db3\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\n\n\n\narray_matrix_height(anyarray)\n\n\nint\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u9ad8\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\narray_matrix_width(anyarray)\n\n\nint\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5e45\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\narray_vector_rawsize(regtype,int)\n\n\nbigint\n\n\n\u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u578b\u3067\u9577\u3055N\u306e\u30d9\u30af\u30c8\u30eb\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\narray_matrix_rawsize(regtype,int,int)\n\n\nbigint\n\n\n\u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u578b\u3067\u9ad8\u3055H\u5e45W\u306e\u884c\u5217\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\narray_cube_rawsize(regtype,int,int,int)\n\n\nbigint\n\n\n\u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u578b\u3067\u9ad8\u3055H\u5e45W\u6df1\u3055D\u306e\u30ad\u30e5\u30fc\u30d6\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ntype_len(regtype)\n\n\nbigint\n\n\n\u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u578b\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ncomposite_type_rawsize(LEN,...)\n\n\nbigint\n\n\n\u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u9577\u306e\u4e26\u3073\u3067\u8907\u5408\u578b\u3092\u5b9a\u7fa9\u3057\u305f\u6642\u306b\u5fc5\u8981\u306a\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002\ntype_len()\n\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528\u3059\u308b\u4e8b\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\nLEN\n\u306f\nint,bigint\n\u306e\u3044\u305a\u308c\u304b\n\n\n\n\n\n\nmatrix_unnest(anyarray)\n\n\nrecord\n\n\n\u96c6\u5408\u3092\u8fd4\u3059\u95a2\u6570\u3067\u3001\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5148\u982d\u884c\u304b\u3089\u9806\u306b1\u884c\u305a\u3064\u53d6\u308a\u51fa\u3057\u307e\u3059\u3002PostgreSQL\u306f\u30ec\u30b3\u30fc\u30c9\u306e\u578b\u60c5\u5831\u3092\u6301\u3063\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\nROW()\n\u53e5\u306b\u3088\u3063\u3066\u578b\u60c5\u5831\u3092\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\n\n\nrbind(MATRIX,MATRIX)\n\n\nMATRIX\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u7e26\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002\nMATRIX\n\u306f\nbool,int2,int4,int8,float4,float8\n\u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b\n\n\n\n\n\n\nrbind(TYPE,MATRIX)\n\n\nMATRIX\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5148\u982d\u884c\u306b\u30b9\u30ab\u30e9\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\u8907\u6570\u5217\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u5148\u982d\u884c\u306e\u5168\u3066\u306e\u5217\u306b\u540c\u3058\u30b9\u30ab\u30e9\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\nMATRIX\n\u306f\nbool,int2,int4,int8,float4,float8\n\u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b\nTYPE\n\u306f\nMATRIX\n\u306e\u8981\u7d20\u578b\n\n\n\n\n\n\nrbind(MATRIX,TYPE)\n\n\nMATRIX\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u672b\u5c3e\u884c\u306b\u30b9\u30ab\u30e9\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\u8907\u6570\u5217\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u672b\u5c3e\u884c\u306e\u5168\u3066\u306e\u5217\u306b\u540c\u3058\u30b9\u30ab\u30e9\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\nMATRIX\n\u306f\nbool,int2,int4,int8,float4,float8\n\u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b\nTYPE\n\u306f\nMATRIX\n\u306e\u8981\u7d20\u578b\n\n\n\n\n\n\ncbind(MATRIX,MATRIX)\n\n\nMATRIX\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u6a2a\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002\nMATRIX\n\u306f\nbool,int2,int4,int8,float4,float8\n\u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b\n\n\n\n\n\n\ncbind(TYPE,MATRIX)\n\n\nMATRIX\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5de6\u5074\u306b\u30b9\u30ab\u30e9\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\u8907\u6570\u884c\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u5de6\u7aef\u306e\u5168\u3066\u306e\u884c\u306b\u540c\u3058\u30b9\u30ab\u30e9\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\nMATRIX\n\u306f\nbool,int2,int4,int8,float4,float8\n\u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b\nTYPE\n\u306f\nMATRIX\n\u306e\u8981\u7d20\u578b\n\n\n\n\n\n\ncbind(MATRIX,TYPE)\n\n\nMATRIX\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u53f3\u5074\u306b\u30b9\u30ab\u30e9\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\u8907\u6570\u884c\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u53f3\u7aef\u306e\u5168\u3066\u306e\u884c\u306b\u540c\u3058\u30b9\u30ab\u30e9\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\nMATRIX\n\u306f\nbool,int2,int4,int8,float4,float8\n\u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b\nTYPE\n\u306f\nMATRIX\n\u306e\u8981\u7d20\u578b\n\n\n\n\n\n\ntranspose(MATRIX)\n\n\nMATRIX\n\n\n\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u8ee2\u7f6e\u3057\u307e\u3059\u3002\nMATRIX\n\u306f\nbool,int2,int4,int8,float4,float8\n\u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b\n\n\n\n\n\n\n\n\n\u96c6\u7d04\u95a2\u6570\n\n\n\n\n\n\n\n\n\u95a2\u6570/\u6f14\u7b97\u5b50\n\n\n\u8fd4\u308a\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\narray_matrix(TYPE,...)\n\n\nTYPE[]\n\n\n\u53ef\u5909\u9577\u5f15\u6570\u306e\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002M\u500b\u306e\u5f15\u6570\u3067N\u884c\u304c\u5165\u529b\u3055\u308c\u308b\u3068\u3001M\u5217xN\u884c\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u8fd4\u3057\u307e\u3059\u3002\nTYPE\n\u306f\nbool,int2,int4,int8,float4,float8\n\u306e\u3044\u305a\u308c\u304b\u3067\u3059\u3002\n\n\n\n\n\n\narray_matrix(bit)\n\n\nint[]\n\n\n\u30d3\u30c3\u30c8\u5217\u309232bit\u6574\u6570\u5024\u306e\u7d44\u3068\u898b\u306a\u3057\u3066\u3001\nint4[]\n\u578b\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3068\u3057\u3066\u8fd4\u3059\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002\n\n\n\n\n\n\nrbind(MATRIX)\n\n\nMATRIX\n\n\n\u5165\u529b\u3055\u308c\u305f\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u7e26\u306b\u9023\u7d50\u3059\u308b\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002\nMATRIX\n\u306f\nbool,int2,int4,int8,float4,float8\n\u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b\n\n\n\n\n\n\ncbind(MATRIX)\n\n\nMATRIX\n\n\n\u5165\u529b\u3055\u308c\u305f\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u6a2a\u306b\u9023\u7d50\u3059\u308b\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002\nMATRIX\n\u306f\nbool,int2,int4,int8,float4,float8\n\u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b\n\n\n\n\n\n\n\n\n\u305d\u306e\u4ed6\u306e\u95a2\u6570\n\n\n\n\n\n\n\n\n\u95a2\u6570\n\n\n\u623b\u308a\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npgstrom_ccache_enabled(regclass)\n\n\ntext\n\n\n\u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\n\n\n\n\n\npgstrom_ccache_disabled(regclass)\n\n\ntext\n\n\n\u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002\n\n\n\n\n\n\npgstrom_ccache_prewarm(regclass)\n\n\nint\n\n\n\u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u540c\u671f\u7684\u306b\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u4f7f\u7528\u91cf\u306e\u4e0a\u9650\u306b\u9054\u3057\u305f\u6642\u306f\u3001\u305d\u306e\u6642\u70b9\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u95a2\u6570\n\n\n\u623b\u308a\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\ngstore_fdw_format(reggstore)\n\n\ntext\n\n\ngstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ngstore_fdw_nitems(reggstore)\n\n\nbigint\n\n\ngstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u884c\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ngstore_fdw_nattrs(reggstore)\n\n\nbigint\n\n\ngstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u5217\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\ngstore_fdw_rawsize(reggstore)\n\n\nbigint\n\n\ngstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u30d0\u30a4\u30c8\u5358\u4f4d\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u95a2\u6570\n\n\n\u623b\u308a\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\ngstore_export_ipchandle(reggstore)\n\n\nbytea\n\n\ngstore_fdw\u306eGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u306eIPC\u30cf\u30f3\u30c9\u30e9\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\n\n\n\nlo_import_gpu(int, bytea, bigint, bigint, oid=0)\n\n\noid\n\n\n\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092\u30de\u30c3\u30d7\u3057\u3001\u305d\u306e\u5185\u5bb9\u3092\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n\n\n\n\n\nlo_export_gpu(oid, int, bytea, bigint, bigint)\n\n\nbigint\n\n\n\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092\u30de\u30c3\u30d7\u3057\u3001\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5185\u5bb9\u3092\u5f53\u8a72\u9818\u57df\u3078\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u95a2\u6570\n\n\n\u623b\u308a\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\nplcuda_kernel_max_blocksz\n\n\nint\n\n\nPL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u306e\u6700\u5927\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002\n\n\n\n\n\n\nplcuda_kernel_static_shmsz()\n\n\nint\n\n\nPL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u304c\u9759\u7684\u306b\u78ba\u4fdd\u3057\u305f\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002\n\n\n\n\n\n\nplcuda_kernel_dynamic_shmsz()\n\n\nint\n\n\nPL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u304c\u52d5\u7684\u306b\u78ba\u4fdd\u3059\u308b\u4e8b\u306e\u3067\u304d\u308b\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002\n\n\n\n\n\n\nplcuda_kernel_const_memsz()\n\n\nint\n\n\nPL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u304c\u9759\u7684\u306b\u78ba\u4fdd\u3057\u305f\u30b3\u30f3\u30b9\u30bf\u30f3\u30c8\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002\n\n\n\n\n\n\nplcuda_kernel_local_memsz()\n\n\nint\n\n\nPL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u304c\u4f7f\u7528\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u30ed\u30fc\u30ab\u30eb\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u95a2\u6570\n\n\n\u623b\u308a\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npgstrom.license_validation()\n\n\ntext\n\n\n\u5546\u7528\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u624b\u52d5\u3067\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n\n\n\n\n\npgstrom.license_query()\n\n\ntext\n\n\n\u73fe\u5728\u30ed\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u5546\u7528\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\n\n\nPG-Strom\u306f\u5185\u90e8\u72b6\u614b\u3092\u30e6\u30fc\u30b6\u3084\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u51fa\u529b\u3059\u308b\u305f\u3081\u306e\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u3092\u3044\u304f\u3064\u304b\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u5c06\u6765\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u60c5\u5831\u304c\u8ffd\u52a0\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\nSELECT * FROM ...\n\u306b\u3088\u3063\u3066\u3053\u308c\u3089\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u3092\u53c2\u7167\u3059\u308b\u4e8b\u306f\u907f\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n\npgstrom.device_info\n\n\npgstrom.device_info\n\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u3001PG-Strom\u304c\u8a8d\u8b58\u3057\u3066\u3044\u308bGPU\u306e\u30c7\u30d0\u30a4\u30b9\u5c5e\u6027\u5024\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\nGPU\u306f\u30e2\u30c7\u30eb\u3054\u3068\u306b\u30b3\u30a2\u6570\u3084\u30e1\u30e2\u30ea\u5bb9\u91cf\u3001\u6700\u5927\u30b9\u30ec\u30c3\u30c9\u6570\u306a\u3069\u306e\u30b9\u30da\u30c3\u30af\u304c\u7570\u306a\u3063\u3066\u304a\u308a\u3001PL/CUDA\u95a2\u6570\u306a\u3069\u3067\u76f4\u63a5GPU\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u884c\u3046\u5834\u5408\u306b\u306f\u3001\u3053\u308c\u3089\u306e\u60c5\u5831\u3092\u5143\u306b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u6700\u9069\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u540d\u524d\n\n\n\u30c7\u30fc\u30bf\u578b\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\ndevice_nr\n\n\nint\n\n\nGPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\n\n\n\n\n\n\naindex\n\n\nint\n\n\n\u5c5e\u6027\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n\n\n\n\n\n\nattribute\n\n\ntext\n\n\n\u30c7\u30d0\u30a4\u30b9\u5c5e\u6027\u540d\n\n\n\n\n\n\nvalue\n\n\ntext\n\n\n\u30c7\u30d0\u30a4\u30b9\u5c5e\u6027\u5024\n\n\n\n\n\n\n\n\npgstrom.device_preserved_meminfo\n\n\npgstrom.device_preserved_meminfo\n\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u3001\u8907\u6570\u306ePostgreSQL\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u5171\u6709\u3059\u308b\u305f\u3081\u306b\u4e88\u3081\u78ba\u4fdd\u6e08\u307f\u306eGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u306e\u60c5\u5831\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\u73fe\u5728\u306e\u3068\u3053\u308d\u3001gstore_fdw\u306e\u307f\u304c\u672c\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u540d\u524d\n\n\n\u30c7\u30fc\u30bf\u578b\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\ndevice_nr\n\n\nint\n\n\nGPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\n\n\n\n\n\n\nhandle\n\n\nbytea\n\n\n\u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306eIPC\u30cf\u30f3\u30c9\u30e9\n\n\n\n\n\n\nowner\n\n\nregrole\n\n\n\u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u4f5c\u6210\u8005\n\n\n\n\n\n\nlength\n\n\nbigint\n\n\n\u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30d0\u30a4\u30c8\u5358\u4f4d\u306e\u9577\u3055\n\n\n\n\n\n\nctime\n\n\ntimestamp with time zone\n\n\n\u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u4f5c\u6210\u6642\u523b\n\n\n\n\n\n\n\n\npgstrom.ccache_info\n\n\npgstrom.ccache_info\n\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u3001\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5404\u30c1\u30e3\u30f3\u30af\uff08128MB\u5358\u4f4d\uff09\u306e\u60c5\u5831\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u540d\u524d\n\n\n\u30c7\u30fc\u30bf\u578b\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\ndatabase_id\n\n\noid\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9ID\n\n\n\n\n\n\ntable_id\n\n\nregclass\n\n\n\u30c6\u30fc\u30d6\u30ebID\n\n\n\n\n\n\nblock_nr\n\n\nint\n\n\n\u30c1\u30e3\u30f3\u30af\u306e\u5148\u982d\u30d6\u30ed\u30c3\u30af\u756a\u53f7\n\n\n\n\n\n\nnitems\n\n\nbigint\n\n\n\u30c1\u30e3\u30f3\u30af\u306b\u542b\u307e\u308c\u308b\u884c\u6570\n\n\n\n\n\n\nlength\n\n\nbigint\n\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30c1\u30e3\u30f3\u30af\u306e\u30b5\u30a4\u30ba\n\n\n\n\n\n\nctime\n\n\ntimestamp with time zone\n\n\n\u30c1\u30e3\u30f3\u30af\u4f5c\u6210\u6642\u523b\n\n\n\n\n\n\natime\n\n\ntimestamp with time zone\n\n\n\u30c1\u30e3\u30f3\u30af\u6700\u7d42\u30a2\u30af\u30bb\u30b9\u6642\u523b\n\n\n\n\n\n\n\n\npgstrom.ccache_builder_info\n\n\npgstrom.ccache_builder_info\n\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u3001\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u975e\u540c\u671f\u30d3\u30eb\u30c0\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u60c5\u5831\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u540d\u524d\n\n\n\u30c7\u30fc\u30bf\u578b\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\nbuilder_id\n\n\nint\n\n\n\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u975e\u540c\u671f\u30d3\u30eb\u30c0\u30fc\u306eID\n\n\n\n\n\n\nstate\n\n\ntext\n\n\n\u30d3\u30eb\u30c0\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u72b6\u614b\u3002\uff08\nshutdown\n: \u505c\u6b62\u4e2d\u3001\nstartup\n: \u8d77\u52d5\u4e2d\u3001\nloading\n: \u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u69cb\u7bc9\u4e2d\u3001\nsleep\n: \u4e00\u6642\u505c\u6b62\u4e2d\uff09\n\n\n\n\n\n\ndatabase_id\n\n\noid\n\n\n\u30d3\u30eb\u30c0\u30fc\u30d7\u30ed\u30bb\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9ID\n\n\n\n\n\n\ntable_id\n\n\nregclass\n\n\nstate\n\u304c\nloading\n\u306e\u5834\u5408\u3001\u8aad\u51fa\u3057\u4e2d\u306e\u30c6\u30fc\u30d6\u30ebID\n\n\n\n\n\n\nblock_nr\n\n\nint\n\n\nstate\n\u304c\nloading\n\u306e\u5834\u5408\u3001\u8aad\u51fa\u3057\u4e2d\u306e\u30d6\u30ed\u30c3\u30af\u756a\u53f7", 
            "title": "SQL\u30aa\u30d6\u30b8\u30a7\u30af\u30c8"
        }, 
        {
            "location": "/ref_sqlfuncs/#_1", 
            "text": "\u95a2\u6570  \u623b\u308a\u5024  \u8aac\u660e      gpu_device_name(int = 0)  text  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306e\u540d\u524d\u3092\u8fd4\u3057\u307e\u3059    gpu_global_memsize(int = 0)  bigint  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306e\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u5bb9\u91cf\u3092\u8fd4\u3057\u307e\u3059    gpu_max_blocksize(int = 0)  int  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308b\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u306e\u6700\u5927\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u306eGPU\u3067\u306f1024\u3067\u3059\u3002    gpu_warp_size(int = 0)  int  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308b\u30ef\u30fc\u30d7\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u306eGPU\u3067\u306f32\u3067\u3059\u3002    gpu_max_shared_memory_perblock(int = 0)  int  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308b\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u306e\u6700\u5927\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002    gpu_num_registers_perblock(int = 0)  int  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308b\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u30ec\u30b8\u30b9\u30bf\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002    gpu_num_multiptocessors(int = 0)  int  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308bSM(Streaming Multiprocessor)\u30e6\u30cb\u30c3\u30c8\u306e\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002    gpu_num_cuda_cores(int = 0)  int  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306b\u304a\u3051\u308bCUDA\u30b3\u30a2\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002    gpu_cc_major(int = 0)  int  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306eCC(Compute Capability)\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8fd4\u3057\u307e\u3059\u3002    gpu_cc_minor(int = 0)  int  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u306eCC(Compute Capability)\u30de\u30a4\u30ca\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8fd4\u3057\u307e\u3059\u3002    gpu_pci_id(int = 0)  int  \u6307\u5b9a\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u304c\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308bPCI\u30d0\u30b9ID\u3092\u8fd4\u3057\u307e\u3059\u3002", 
            "title": "\u30c7\u30d0\u30a4\u30b9\u60c5\u5831\u95a2\u6570"
        }, 
        {
            "location": "/ref_sqlfuncs/#_2", 
            "text": "PL/CUDA\u95a2\u6570\u3068\u884c\u5217\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u6e21\u3057\u3059\u308b\u305f\u3081\u306b\u3001PostgreSQL\u306e\u914d\u5217\u578b\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\u56fa\u5b9a\u9577\u306e\u8ad6\u7406\u5024/\u6570\u5024\u578b\u30c7\u30fc\u30bf\u3067NULL\u3092\u542b\u307e\u306a\u3044\u4e8c\u6b21\u5143\u914d\u5217\u306f\uff08\u914d\u5217\u30c7\u30fc\u30bf\u578b\u306e\u30d8\u30c3\u30c0\u9818\u57df\u3092\u9664\u3044\u3066\uff09\u30d5\u30e9\u30c3\u30c8\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u6301\u3063\u3066\u304a\u308a\u3001\u884c\u5217\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u3063\u3066\u5404\u8981\u7d20\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u4e00\u610f\u306b\u7279\u5b9a\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\nPG-Strom\u306f\u914d\u5217\u30d9\u30fc\u30b9\u306e\u884c\u5217\u3092\u53d6\u308a\u6271\u3046\u305f\u3081\u306eSQL\u95a2\u6570\u3092\u3044\u304f\u3064\u304b\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002", 
            "title": "\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u30b5\u30dd\u30fc\u30c8"
        }, 
        {
            "location": "/ref_sqlfuncs/#_3", 
            "text": "\u5909\u63db\u5148  \u5909\u63db\u5143  \u8aac\u660e      int[]  bit  \u30d3\u30c3\u30c8\u5217\u578b\u309232bit\u6574\u6570\u5024\u306e\u914d\u5217\u306b\u5909\u63db\u3057\u307e\u3059\u3002\u4e0d\u8db3\u3059\u308b\u30d3\u30c3\u30c8\u306f0\u3067\u57cb\u3081\u3089\u308c\u307e\u3059\u3002    bit  int[]  int\u914d\u5217\u3092\u30d3\u30c3\u30c8\u5217\u578b\u306b\u5909\u63db\u3057\u307e\u3059\u3002", 
            "title": "\u578b\u30ad\u30e3\u30b9\u30c8"
        }, 
        {
            "location": "/ref_sqlfuncs/#_4", 
            "text": "\u95a2\u6570/\u6f14\u7b97\u5b50  \u8fd4\u308a\u5024  \u8aac\u660e      array_matrix_validation(anyarray)  bool  \u914d\u5217\u304c\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u6761\u4ef6\u3092\u6e80\u8db3\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002    array_matrix_height(anyarray)  int  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u9ad8\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002    array_matrix_width(anyarray)  int  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5e45\u3092\u8fd4\u3057\u307e\u3059\u3002    array_vector_rawsize(regtype,int)  bigint  \u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u578b\u3067\u9577\u3055N\u306e\u30d9\u30af\u30c8\u30eb\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002    array_matrix_rawsize(regtype,int,int)  bigint  \u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u578b\u3067\u9ad8\u3055H\u5e45W\u306e\u884c\u5217\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002    array_cube_rawsize(regtype,int,int,int)  bigint  \u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u578b\u3067\u9ad8\u3055H\u5e45W\u6df1\u3055D\u306e\u30ad\u30e5\u30fc\u30d6\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002    type_len(regtype)  bigint  \u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u578b\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002    composite_type_rawsize(LEN,...)  bigint  \u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u9577\u306e\u4e26\u3073\u3067\u8907\u5408\u578b\u3092\u5b9a\u7fa9\u3057\u305f\u6642\u306b\u5fc5\u8981\u306a\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002 type_len() \u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528\u3059\u308b\u4e8b\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 LEN \u306f int,bigint \u306e\u3044\u305a\u308c\u304b    matrix_unnest(anyarray)  record  \u96c6\u5408\u3092\u8fd4\u3059\u95a2\u6570\u3067\u3001\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5148\u982d\u884c\u304b\u3089\u9806\u306b1\u884c\u305a\u3064\u53d6\u308a\u51fa\u3057\u307e\u3059\u3002PostgreSQL\u306f\u30ec\u30b3\u30fc\u30c9\u306e\u578b\u60c5\u5831\u3092\u6301\u3063\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001 ROW() \u53e5\u306b\u3088\u3063\u3066\u578b\u60c5\u5831\u3092\u4e0e\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002    rbind(MATRIX,MATRIX)  MATRIX  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u7e26\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002 MATRIX \u306f bool,int2,int4,int8,float4,float8 \u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b    rbind(TYPE,MATRIX)  MATRIX  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5148\u982d\u884c\u306b\u30b9\u30ab\u30e9\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\u8907\u6570\u5217\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u5148\u982d\u884c\u306e\u5168\u3066\u306e\u5217\u306b\u540c\u3058\u30b9\u30ab\u30e9\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002 MATRIX \u306f bool,int2,int4,int8,float4,float8 \u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b TYPE \u306f MATRIX \u306e\u8981\u7d20\u578b    rbind(MATRIX,TYPE)  MATRIX  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u672b\u5c3e\u884c\u306b\u30b9\u30ab\u30e9\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\u8907\u6570\u5217\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u672b\u5c3e\u884c\u306e\u5168\u3066\u306e\u5217\u306b\u540c\u3058\u30b9\u30ab\u30e9\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002 MATRIX \u306f bool,int2,int4,int8,float4,float8 \u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b TYPE \u306f MATRIX \u306e\u8981\u7d20\u578b    cbind(MATRIX,MATRIX)  MATRIX  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u6a2a\u65b9\u5411\u306b\u7d50\u5408\u3057\u307e\u3059\u3002 MATRIX \u306f bool,int2,int4,int8,float4,float8 \u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b    cbind(TYPE,MATRIX)  MATRIX  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u5de6\u5074\u306b\u30b9\u30ab\u30e9\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\u8907\u6570\u884c\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u5de6\u7aef\u306e\u5168\u3066\u306e\u884c\u306b\u540c\u3058\u30b9\u30ab\u30e9\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002 MATRIX \u306f bool,int2,int4,int8,float4,float8 \u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b TYPE \u306f MATRIX \u306e\u8981\u7d20\u578b    cbind(MATRIX,TYPE)  MATRIX  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u306e\u53f3\u5074\u306b\u30b9\u30ab\u30e9\u5024\u3092\u7d50\u5408\u3057\u307e\u3059\u3002\u8907\u6570\u884c\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001\u53f3\u7aef\u306e\u5168\u3066\u306e\u884c\u306b\u540c\u3058\u30b9\u30ab\u30e9\u5024\u304c\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002 MATRIX \u306f bool,int2,int4,int8,float4,float8 \u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b TYPE \u306f MATRIX \u306e\u8981\u7d20\u578b    transpose(MATRIX)  MATRIX  \u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u8ee2\u7f6e\u3057\u307e\u3059\u3002 MATRIX \u306f bool,int2,int4,int8,float4,float8 \u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b", 
            "title": "\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u95a2\u6570"
        }, 
        {
            "location": "/ref_sqlfuncs/#_5", 
            "text": "\u95a2\u6570/\u6f14\u7b97\u5b50  \u8fd4\u308a\u5024  \u8aac\u660e      array_matrix(TYPE,...)  TYPE[]  \u53ef\u5909\u9577\u5f15\u6570\u306e\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002M\u500b\u306e\u5f15\u6570\u3067N\u884c\u304c\u5165\u529b\u3055\u308c\u308b\u3068\u3001M\u5217xN\u884c\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u8fd4\u3057\u307e\u3059\u3002 TYPE \u306f bool,int2,int4,int8,float4,float8 \u306e\u3044\u305a\u308c\u304b\u3067\u3059\u3002    array_matrix(bit)  int[]  \u30d3\u30c3\u30c8\u5217\u309232bit\u6574\u6570\u5024\u306e\u7d44\u3068\u898b\u306a\u3057\u3066\u3001 int4[] \u578b\u306e\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3068\u3057\u3066\u8fd4\u3059\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002    rbind(MATRIX)  MATRIX  \u5165\u529b\u3055\u308c\u305f\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u7e26\u306b\u9023\u7d50\u3059\u308b\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002 MATRIX \u306f bool,int2,int4,int8,float4,float8 \u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b    cbind(MATRIX)  MATRIX  \u5165\u529b\u3055\u308c\u305f\u914d\u5217\u30d9\u30fc\u30b9\u884c\u5217\u3092\u6a2a\u306b\u9023\u7d50\u3059\u308b\u96c6\u7d04\u95a2\u6570\u3067\u3059\u3002 MATRIX \u306f bool,int2,int4,int8,float4,float8 \u3044\u305a\u308c\u304b\u306e\u914d\u5217\u578b", 
            "title": "\u96c6\u7d04\u95a2\u6570"
        }, 
        {
            "location": "/ref_sqlfuncs/#_6", 
            "text": "\u95a2\u6570  \u623b\u308a\u5024  \u8aac\u660e      pgstrom_ccache_enabled(regclass)  text  \u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002    pgstrom_ccache_disabled(regclass)  text  \u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002    pgstrom_ccache_prewarm(regclass)  int  \u6307\u5b9a\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u540c\u671f\u7684\u306b\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u4f7f\u7528\u91cf\u306e\u4e0a\u9650\u306b\u9054\u3057\u305f\u6642\u306f\u3001\u305d\u306e\u6642\u70b9\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002        \u95a2\u6570  \u623b\u308a\u5024  \u8aac\u660e      gstore_fdw_format(reggstore)  text  gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u8fd4\u3057\u307e\u3059\u3002    gstore_fdw_nitems(reggstore)  bigint  gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u884c\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002    gstore_fdw_nattrs(reggstore)  bigint  gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u5217\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002    gstore_fdw_rawsize(reggstore)  bigint  gstore_fdw\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\u306e\u30d0\u30a4\u30c8\u5358\u4f4d\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3057\u307e\u3059\u3002        \u95a2\u6570  \u623b\u308a\u5024  \u8aac\u660e      gstore_export_ipchandle(reggstore)  bytea  gstore_fdw\u306eGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u306eIPC\u30cf\u30f3\u30c9\u30e9\u3092\u8fd4\u3057\u307e\u3059\u3002    lo_import_gpu(int, bytea, bigint, bigint, oid=0)  oid  \u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092\u30de\u30c3\u30d7\u3057\u3001\u305d\u306e\u5185\u5bb9\u3092\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3078\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002    lo_export_gpu(oid, int, bytea, bigint, bigint)  bigint  \u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u78ba\u4fdd\u3057\u305fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u3092\u30de\u30c3\u30d7\u3057\u3001\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5185\u5bb9\u3092\u5f53\u8a72\u9818\u57df\u3078\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002        \u95a2\u6570  \u623b\u308a\u5024  \u8aac\u660e      plcuda_kernel_max_blocksz  int  PL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u306e\u6700\u5927\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002    plcuda_kernel_static_shmsz()  int  PL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u304c\u9759\u7684\u306b\u78ba\u4fdd\u3057\u305f\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002    plcuda_kernel_dynamic_shmsz()  int  PL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u304c\u52d5\u7684\u306b\u78ba\u4fdd\u3059\u308b\u4e8b\u306e\u3067\u304d\u308b\u30d6\u30ed\u30c3\u30af\u3042\u305f\u308a\u5171\u6709\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002    plcuda_kernel_const_memsz()  int  PL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u304c\u9759\u7684\u306b\u78ba\u4fdd\u3057\u305f\u30b3\u30f3\u30b9\u30bf\u30f3\u30c8\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002    plcuda_kernel_local_memsz()  int  PL/CUDA\u95a2\u6570\u306e\u30d8\u30eb\u30d1\u30fc\u3068\u3057\u3066\u547c\u3070\u308c\u305f\u5834\u5408\u3001\u5f53\u8a72GPU\u30ab\u30fc\u30cd\u30eb\u304c\u4f7f\u7528\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u3042\u305f\u308a\u30ed\u30fc\u30ab\u30eb\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u8fd4\u3059\u3002        \u95a2\u6570  \u623b\u308a\u5024  \u8aac\u660e      pgstrom.license_validation()  text  \u5546\u7528\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u624b\u52d5\u3067\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002    pgstrom.license_query()  text  \u73fe\u5728\u30ed\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u5546\u7528\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002", 
            "title": "\u305d\u306e\u4ed6\u306e\u95a2\u6570"
        }, 
        {
            "location": "/ref_sqlfuncs/#_7", 
            "text": "PG-Strom\u306f\u5185\u90e8\u72b6\u614b\u3092\u30e6\u30fc\u30b6\u3084\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u51fa\u529b\u3059\u308b\u305f\u3081\u306e\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u3092\u3044\u304f\u3064\u304b\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u5c06\u6765\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u60c5\u5831\u304c\u8ffd\u52a0\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089 SELECT * FROM ... \u306b\u3088\u3063\u3066\u3053\u308c\u3089\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u3092\u53c2\u7167\u3059\u308b\u4e8b\u306f\u907f\u3051\u3066\u304f\u3060\u3055\u3044\u3002  pgstrom.device_info  pgstrom.device_info \u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u3001PG-Strom\u304c\u8a8d\u8b58\u3057\u3066\u3044\u308bGPU\u306e\u30c7\u30d0\u30a4\u30b9\u5c5e\u6027\u5024\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\nGPU\u306f\u30e2\u30c7\u30eb\u3054\u3068\u306b\u30b3\u30a2\u6570\u3084\u30e1\u30e2\u30ea\u5bb9\u91cf\u3001\u6700\u5927\u30b9\u30ec\u30c3\u30c9\u6570\u306a\u3069\u306e\u30b9\u30da\u30c3\u30af\u304c\u7570\u306a\u3063\u3066\u304a\u308a\u3001PL/CUDA\u95a2\u6570\u306a\u3069\u3067\u76f4\u63a5GPU\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u884c\u3046\u5834\u5408\u306b\u306f\u3001\u3053\u308c\u3089\u306e\u60c5\u5831\u3092\u5143\u306b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u6700\u9069\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002     \u540d\u524d  \u30c7\u30fc\u30bf\u578b  \u8aac\u660e      device_nr  int  GPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7    aindex  int  \u5c5e\u6027\u30a4\u30f3\u30c7\u30c3\u30af\u30b9    attribute  text  \u30c7\u30d0\u30a4\u30b9\u5c5e\u6027\u540d    value  text  \u30c7\u30d0\u30a4\u30b9\u5c5e\u6027\u5024     pgstrom.device_preserved_meminfo  pgstrom.device_preserved_meminfo \u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u3001\u8907\u6570\u306ePostgreSQL\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u5171\u6709\u3059\u308b\u305f\u3081\u306b\u4e88\u3081\u78ba\u4fdd\u6e08\u307f\u306eGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u306e\u60c5\u5831\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\u73fe\u5728\u306e\u3068\u3053\u308d\u3001gstore_fdw\u306e\u307f\u304c\u672c\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002     \u540d\u524d  \u30c7\u30fc\u30bf\u578b  \u8aac\u660e      device_nr  int  GPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7    handle  bytea  \u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306eIPC\u30cf\u30f3\u30c9\u30e9    owner  regrole  \u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u4f5c\u6210\u8005    length  bigint  \u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30d0\u30a4\u30c8\u5358\u4f4d\u306e\u9577\u3055    ctime  timestamp with time zone  \u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u4f5c\u6210\u6642\u523b     pgstrom.ccache_info  pgstrom.ccache_info \u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u3001\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5404\u30c1\u30e3\u30f3\u30af\uff08128MB\u5358\u4f4d\uff09\u306e\u60c5\u5831\u3092\u51fa\u529b\u3057\u307e\u3059\u3002     \u540d\u524d  \u30c7\u30fc\u30bf\u578b  \u8aac\u660e      database_id  oid  \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9ID    table_id  regclass  \u30c6\u30fc\u30d6\u30ebID    block_nr  int  \u30c1\u30e3\u30f3\u30af\u306e\u5148\u982d\u30d6\u30ed\u30c3\u30af\u756a\u53f7    nitems  bigint  \u30c1\u30e3\u30f3\u30af\u306b\u542b\u307e\u308c\u308b\u884c\u6570    length  bigint  \u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30c1\u30e3\u30f3\u30af\u306e\u30b5\u30a4\u30ba    ctime  timestamp with time zone  \u30c1\u30e3\u30f3\u30af\u4f5c\u6210\u6642\u523b    atime  timestamp with time zone  \u30c1\u30e3\u30f3\u30af\u6700\u7d42\u30a2\u30af\u30bb\u30b9\u6642\u523b     pgstrom.ccache_builder_info  pgstrom.ccache_builder_info \u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc\u306f\u3001\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u975e\u540c\u671f\u30d3\u30eb\u30c0\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u60c5\u5831\u3092\u51fa\u529b\u3057\u307e\u3059\u3002     \u540d\u524d  \u30c7\u30fc\u30bf\u578b  \u8aac\u660e      builder_id  int  \u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u975e\u540c\u671f\u30d3\u30eb\u30c0\u30fc\u306eID    state  text  \u30d3\u30eb\u30c0\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u72b6\u614b\u3002\uff08 shutdown : \u505c\u6b62\u4e2d\u3001 startup : \u8d77\u52d5\u4e2d\u3001 loading : \u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u69cb\u7bc9\u4e2d\u3001 sleep : \u4e00\u6642\u505c\u6b62\u4e2d\uff09    database_id  oid  \u30d3\u30eb\u30c0\u30fc\u30d7\u30ed\u30bb\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9ID    table_id  regclass  state \u304c loading \u306e\u5834\u5408\u3001\u8aad\u51fa\u3057\u4e2d\u306e\u30c6\u30fc\u30d6\u30ebID    block_nr  int  state \u304c loading \u306e\u5834\u5408\u3001\u8aad\u51fa\u3057\u4e2d\u306e\u30d6\u30ed\u30c3\u30af\u756a\u53f7", 
            "title": "\u30b7\u30b9\u30c6\u30e0\u30d3\u30e5\u30fc"
        }, 
        {
            "location": "/ref_params/", 
            "text": "GUC\u30d1\u30e9\u30e1\u30fc\u30bf\n\n\n\n\u672c\u7bc0\u3067\u306fPG-Strom\u306e\u63d0\u4f9b\u3059\u308b\u8a2d\u5b9a\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\n\u7279\u5b9a\u6a5f\u80fd\u306e\u6709\u52b9\u5316/\u7121\u52b9\u5316\n\n\n\n\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\n\n\n\u578b\n\n\n\u521d\u671f\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npg_strom.enabled\n\n\nbool\n\n\non\n\n\nPG-Strom\u6a5f\u80fd\u5168\u4f53\u3092\u4e00\u62ec\u3057\u3066\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.enable_gpuscan\n\n\nbool\n\n\non\n\n\nGpuScan\u306b\u3088\u308b\u30b9\u30ad\u30e3\u30f3\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.enable_gpuhashjoin\n\n\nbool\n\n\non\n\n\nHashJoin\u306b\u3088\u308bGpuJoin\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.enable_gpunestloop\n\n\nbool\n\n\non\n\n\nNestLoop\u306b\u3088\u308bGpuJoin\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.enable_gpupreagg\n\n\nbool\n\n\non\n\n\nGpuPreAgg\u306b\u3088\u308b\u96c6\u7d04\u51e6\u7406\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.enable_partitionwise_gpujoin\n\n\nbool\n\n\non\n\n\nGpuJoin\u3092\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8981\u7d20\u3078\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002PostgreSQL v10\u4ee5\u964d\u3067\u306e\u307f\u5bfe\u5fdc\u3002\n\n\n\n\n\n\npg_strom.enable_partitionwise_gpupreagg\n\n\nbool\n\n\non\n\n\nGpuPreAgg\u3092\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8981\u7d20\u3078\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002PostgreSQL v10\u4ee5\u964d\u3067\u306e\u307f\u5bfe\u5fdc\u3002\n\n\n\n\n\n\npg_strom.pullup_outer_scan\n\n\nbool\n\n\non\n\n\nGpuPreAgg/GpuJoin\u76f4\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u304c\u5168\u4ef6\u30b9\u30ad\u30e3\u30f3\u3067\u3042\u308b\u5834\u5408\u306b\u3001\u4e0a\u4f4d\u30ce\u30fc\u30c9\u3067\u30b9\u30ad\u30e3\u30f3\u51e6\u7406\u3082\u884c\u3044\u3001CPU/RAM\u21d4GPU\u9593\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u3092\u7701\u7565\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.pullup_outer_join\n\n\nbool\n\n\non\n\n\nGpuPreAgg\u76f4\u4e0b\u304cGpuJoin\u3067\u3042\u308b\u5834\u5408\u306b\u3001JOIN\u51e6\u7406\u3092\u4e0a\u4f4d\u306e\u5b9f\u884c\u8a08\u753b\u306b\u5f15\u304d\u4e0a\u3052\u3001CPU\u21d4GPU\u9593\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u3092\u7701\u7565\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.enable_numeric_type\n\n\nbool\n\n\non\n\n\nGPU\u3067\nnumeric\n\u30c7\u30fc\u30bf\u578b\u3092\u542b\u3080\u6f14\u7b97\u5f0f\u3092\u51e6\u7406\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.cpu_fallback\n\n\nbool\n\n\noff\n\n\nGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\"CPU\u518d\u5b9f\u884c\"\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u305f\u3068\u304d\u306b\u3001\u5b9f\u969b\u306bCPU\u3067\u306e\u518d\u5b9f\u884c\u3092\u8a66\u307f\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.nvme_strom_enabled\n\n\nbool\n\n\non\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u6a5f\u80fd\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002\n\n\n\n\n\n\npg_strom.nvme_strom_threshold\n\n\nint\n\n\n\u81ea\u52d5\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u6a5f\u80fd\u3092\u767a\u52d5\u3055\u305b\u308b\u30c6\u30fc\u30d6\u30eb\u30b5\u30a4\u30ba\u306e\u95be\u5024\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\n\n\n\n\n\n\n\n\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\n\n\n\n\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\n\n\n\u578b\n\n\n\u521d\u671f\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npg_strom.chunk_size\n\n\nint\n\n\n65534kB\n\n\nPG-Strom\u304c1\u56de\u306eGPU\u30ab\u30fc\u30cd\u30eb\u547c\u3073\u51fa\u3057\u3067\u51e6\u7406\u3059\u308b\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306e\u5927\u304d\u3055\u3067\u3059\u3002\u304b\u3064\u3066\u306f\u5909\u66f4\u53ef\u80fd\u3067\u3057\u305f\u304c\u3001\u307b\u3068\u3093\u3069\u610f\u5473\u304c\u306a\u3044\u305f\u3081\u3001\u73fe\u5728\u3067\u306f\u7d0464MB\u306b\u56fa\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n\n\n\npg_strom.gpu_setup_cost\n\n\nreal\n\n\n4000\n\n\nGPU\u30c7\u30d0\u30a4\u30b9\u306e\u521d\u671f\u5316\u306b\u8981\u3059\u308b\u30b3\u30b9\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5024\u3002\n\n\n\n\n\n\npg_strom.gpu_dma_cost\n\n\nreal\n\n\n10\n\n\n\u30c1\u30e3\u30f3\u30af(64MB)\u3042\u305f\u308a\u306eDMA\u8ee2\u9001\u306b\u8981\u3059\u308b\u30b3\u30b9\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5024\u3002\n\n\n\n\n\n\npg_strom.gpu_operator_cost\n\n\nreal\n\n\n0.00015\n\n\nGPU\u306e\u6f14\u7b97\u5f0f\u3042\u305f\u308a\u306e\u51e6\u7406\u30b3\u30b9\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5024\u3002\ncpu_operator_cost\n\u3088\u308a\u3082\u5927\u304d\u306a\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3057\u307e\u3046\u3068\u3001\u3044\u304b\u306a\u308b\u30b5\u30a4\u30ba\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u3082PG-Strom\u304c\u9078\u629e\u3055\u308c\u308b\u3053\u3068\u306f\u306a\u304f\u306a\u308b\u3002\n\n\n\n\n\n\n\n\n\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\n\n\n\n\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\n\n\n\u578b\n\n\n\u521d\u671f\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npg_strom.global_max_async_tasks\n\n\nint\n\n\n160\n\n\nPG-Strom\u304cGPU\u5b9f\u884c\u30ad\u30e5\u30fc\u306b\u6295\u5165\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\u975e\u540c\u671f\u30bf\u30b9\u30af\u306e\u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3067\u306e\u6700\u5927\u5024\u3002\n\n\n\n\n\n\npg_strom.local_max_async_tasks\n\n\nint\n\n\n8\n\n\nPG-Strom\u304cGPU\u5b9f\u884c\u30ad\u30e5\u30fc\u306b\u6295\u5165\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\u975e\u540c\u671f\u30bf\u30b9\u30af\u306e\u30d7\u30ed\u30bb\u30b9\u6bce\u306e\u6700\u5927\u5024\u3002CPU\u30d1\u30e9\u30ec\u30eb\u51e6\u7406\u3068\u4f75\u7528\u3059\u308b\u5834\u5408\u3001\u3053\u306e\u4e0a\u9650\u5024\u306f\u500b\u3005\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u6bce\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u5168\u4f53\u3067\u306f\npg_strom.local_max_async_tasks\n\u3088\u308a\u3082\u591a\u304f\u306e\u975e\u540c\u671f\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\n\n\npg_strom.max_number_of_gpucontext\n\n\nint\n\n\n\u81ea\u52d5\n\n\nGPU\u30c7\u30d0\u30a4\u30b9\u3092\u62bd\u8c61\u5316\u3057\u305f\u5185\u90e8\u30c7\u30fc\u30bf\u69cb\u9020 GpuContext \u306e\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u901a\u5e38\u3001\u521d\u671f\u5024\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\n\n\n\n\n\n\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u95a2\u9023\u306e\u8a2d\u5b9a\n\n\n\n\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\n\n\n\u578b\n\n\n\u521d\u671f\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npg_strom.ccache_base_dir\n\n\nstring\n\n\n'/dev/shm'\n\n\n\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u6301\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u901a\u5e38\u3001\ntmpfs\n\u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u3066\u3044\u308b\n/dev/shm\n\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\n\n\n\npg_strom.ccache_databases\n\n\nstring\n\n\n''\n\n\n\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u975e\u540c\u671f\u30d3\u30eb\u30c9\u3092\u884c\u3046\u5bfe\u8c61\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\npgstrom_ccache_prewarm()\n\u306b\u3088\u308b\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c9\u306b\u306f\u5f71\u97ff\u3057\u307e\u305b\u3093\u3002\n\n\n\n\n\n\npg_strom.ccache_num_builders\n\n\nint\n\n\n2\n\n\n\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u975e\u540c\u671f\u30d3\u30eb\u30c9\u3092\u884c\u3046\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u5c11\u306a\u304f\u3068\u3082\npg_strom.ccache_databases\n\u3067\u8a2d\u5b9a\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6570\u4ee5\u4e0a\u306b\u30ef\u30fc\u30ab\u30fc\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\n\n\npg_strom.ccache_log_output\n\n\nbool\n\n\nfalse\n\n\n\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u975e\u540c\u671f\u30d3\u30eb\u30c0\u30fc\u304c\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\n\n\n\n\n\n\npg_strom.ccache_total_size\n\n\nint\n\n\n\u81ea\u52d5\n\n\n\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4e0a\u9650\u3092 kB \u5358\u4f4d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u533a\u753b\u30b5\u30a4\u30ba\u306e75%\u307e\u305f\u306f\u30b7\u30b9\u30c6\u30e0\u306e\u7269\u7406\u30e1\u30e2\u30ea\u306e66%\u306e\u3044\u305a\u308c\u304b\u5c0f\u3055\u306a\u65b9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u3059\u3002\n\n\n\n\n\n\n\n\ngstore_fdw\u95a2\u9023\u306e\u8a2d\u5b9a\n\n\n\n\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\n\n\n\u578b\n\n\n\u521d\u671f\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npg_strom.gstore_max_relations\n\n\nint\n\n\n100\n\n\ngstore_fdw\u3092\u7528\u3044\u305f\u5916\u90e8\u8868\u6570\u306e\u4e0a\u9650\u3067\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u66f4\u65b0\u306b\u306f\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\n\n\n\n\nGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u751f\u6210\u3068\u30d3\u30eb\u30c9\u306b\u95a2\u9023\u3059\u308b\u8a2d\u5b9a\n\n\n\n\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\n\n\n\u578b\n\n\n\u521d\u671f\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npg_strom.program_cache_size\n\n\nint\n\n\n256MB\n\n\n\u30d3\u30eb\u30c9\u6e08\u307f\u306eGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u304a\u304f\u305f\u3081\u306e\u5171\u6709\u30e1\u30e2\u30ea\u9818\u57df\u306e\u30b5\u30a4\u30ba\u3067\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u66f4\u65b0\u306b\u306f\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\n\n\npg_strom.num_program_builders\n\n\nint\n\n\n2\n\n\nGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u975e\u540c\u671f\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30d7\u30ed\u30bb\u30b9\u306e\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u66f4\u65b0\u306b\u306f\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\n\n\npg_strom.debug_jit_compile_options\n\n\nbool\n\n\noff\n\n\nGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u306eJIT\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u3001\u30c7\u30d0\u30c3\u30b0\u30aa\u30d7\u30b7\u30e7\u30f3\uff08\u884c\u756a\u53f7\u3068\u30b7\u30f3\u30dc\u30eb\u60c5\u5831\uff09\u3092\u542b\u3081\u308b\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002GPU\u30b3\u30a2\u30c0\u30f3\u30d7\u7b49\u3092\u7528\u3044\u305f\u8907\u96d1\u306a\u30d0\u30b0\u306e\u89e3\u6790\u306b\u6709\u7528\u3067\u3059\u304c\u3001\u6027\u80fd\u306e\u30c7\u30b0\u30ec\u30fc\u30c9\u3092\u5f15\u304d\u8d77\u3053\u3059\u305f\u3081\u3001\u901a\u5e38\u306f\u4f7f\u7528\u3059\u3079\u304d\u3067\u3042\u308a\u307e\u305b\u3093\u3002\n\n\n\n\n\n\n\n\nGPU\u30c7\u30d0\u30a4\u30b9\u306b\u95a2\u9023\u3059\u308b\u8a2d\u5b9a\n\n\n\n\n\n\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\n\n\n\u578b\n\n\n\u521d\u671f\u5024\n\n\n\u8aac\u660e\n\n\n\n\n\n\n\n\n\n\npg_strom.cuda_visible_devices\n\n\nstring\n\n\n''\n\n\nPostgreSQL\u306e\u8d77\u52d5\u6642\u306b\u7279\u5b9a\u306eGPU\u30c7\u30d0\u30a4\u30b9\u3060\u3051\u3092\u8a8d\u8b58\u3055\u305b\u3066\u3044\u5834\u5408\u306f\u3001\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067GPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u74b0\u5883\u5909\u6570\nCUDA_VISIBLE_DEVICES\n\u3092\u8a2d\u5b9a\u3059\u308b\u306e\u3068\u540c\u7b49\u3067\u3059\u3002\n\n\n\n\n\n\npg_strom.gpu_memory_segment_size\n\n\nint\n\n\n512MB\n\n\nPG-Strom\u304cGPU\u30e1\u30e2\u30ea\u3092\u30a2\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u969b\u306b\u30011\u56de\u306eCUDA API\u547c\u3073\u51fa\u3057\u3067\u7372\u5f97\u3059\u308bGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u5024\u304c\u5927\u304d\u3044\u3068API\u547c\u3073\u51fa\u3057\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u306f\u6e1b\u3089\u305b\u307e\u3059\u304c\u3001\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30ed\u30b9\u306f\u5927\u304d\u304f\u306a\u308a\u307e\u3059\u3002\n\n\n\n\n\n\npg_strom.max_num_preserved_gpu_memory\n\n\nint\n\n\n2048\n\n\n\u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30bb\u30b0\u30e1\u30f3\u30c8\u6570\u306e\u4e0a\u9650\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u901a\u5e38\u306f\u521d\u671f\u5024\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002", 
            "title": "GUC\u30d1\u30e9\u30e1\u30fc\u30bf"
        }, 
        {
            "location": "/ref_params/#_1", 
            "text": "\u30d1\u30e9\u30e1\u30fc\u30bf\u540d  \u578b  \u521d\u671f\u5024  \u8aac\u660e      pg_strom.enabled  bool  on  PG-Strom\u6a5f\u80fd\u5168\u4f53\u3092\u4e00\u62ec\u3057\u3066\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002    pg_strom.enable_gpuscan  bool  on  GpuScan\u306b\u3088\u308b\u30b9\u30ad\u30e3\u30f3\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002    pg_strom.enable_gpuhashjoin  bool  on  HashJoin\u306b\u3088\u308bGpuJoin\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002    pg_strom.enable_gpunestloop  bool  on  NestLoop\u306b\u3088\u308bGpuJoin\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002    pg_strom.enable_gpupreagg  bool  on  GpuPreAgg\u306b\u3088\u308b\u96c6\u7d04\u51e6\u7406\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002    pg_strom.enable_partitionwise_gpujoin  bool  on  GpuJoin\u3092\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8981\u7d20\u3078\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002PostgreSQL v10\u4ee5\u964d\u3067\u306e\u307f\u5bfe\u5fdc\u3002    pg_strom.enable_partitionwise_gpupreagg  bool  on  GpuPreAgg\u3092\u5404\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8981\u7d20\u3078\u30d7\u30c3\u30b7\u30e5\u30c0\u30a6\u30f3\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002PostgreSQL v10\u4ee5\u964d\u3067\u306e\u307f\u5bfe\u5fdc\u3002    pg_strom.pullup_outer_scan  bool  on  GpuPreAgg/GpuJoin\u76f4\u4e0b\u306e\u5b9f\u884c\u8a08\u753b\u304c\u5168\u4ef6\u30b9\u30ad\u30e3\u30f3\u3067\u3042\u308b\u5834\u5408\u306b\u3001\u4e0a\u4f4d\u30ce\u30fc\u30c9\u3067\u30b9\u30ad\u30e3\u30f3\u51e6\u7406\u3082\u884c\u3044\u3001CPU/RAM\u21d4GPU\u9593\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u3092\u7701\u7565\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002    pg_strom.pullup_outer_join  bool  on  GpuPreAgg\u76f4\u4e0b\u304cGpuJoin\u3067\u3042\u308b\u5834\u5408\u306b\u3001JOIN\u51e6\u7406\u3092\u4e0a\u4f4d\u306e\u5b9f\u884c\u8a08\u753b\u306b\u5f15\u304d\u4e0a\u3052\u3001CPU\u21d4GPU\u9593\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u3092\u7701\u7565\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002    pg_strom.enable_numeric_type  bool  on  GPU\u3067 numeric \u30c7\u30fc\u30bf\u578b\u3092\u542b\u3080\u6f14\u7b97\u5f0f\u3092\u51e6\u7406\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002    pg_strom.cpu_fallback  bool  off  GPU\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\"CPU\u518d\u5b9f\u884c\"\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u305f\u3068\u304d\u306b\u3001\u5b9f\u969b\u306bCPU\u3067\u306e\u518d\u5b9f\u884c\u3092\u8a66\u307f\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3059\u308b\u3002    pg_strom.nvme_strom_enabled  bool  on  SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u6a5f\u80fd\u3092\u6709\u52b9\u5316/\u7121\u52b9\u5316\u3059\u308b\u3002    pg_strom.nvme_strom_threshold  int  \u81ea\u52d5  SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u6a5f\u80fd\u3092\u767a\u52d5\u3055\u305b\u308b\u30c6\u30fc\u30d6\u30eb\u30b5\u30a4\u30ba\u306e\u95be\u5024\u3092\u8a2d\u5b9a\u3059\u308b\u3002", 
            "title": "\u7279\u5b9a\u6a5f\u80fd\u306e\u6709\u52b9\u5316/\u7121\u52b9\u5316"
        }, 
        {
            "location": "/ref_params/#_2", 
            "text": "\u30d1\u30e9\u30e1\u30fc\u30bf\u540d  \u578b  \u521d\u671f\u5024  \u8aac\u660e      pg_strom.chunk_size  int  65534kB  PG-Strom\u304c1\u56de\u306eGPU\u30ab\u30fc\u30cd\u30eb\u547c\u3073\u51fa\u3057\u3067\u51e6\u7406\u3059\u308b\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u306e\u5927\u304d\u3055\u3067\u3059\u3002\u304b\u3064\u3066\u306f\u5909\u66f4\u53ef\u80fd\u3067\u3057\u305f\u304c\u3001\u307b\u3068\u3093\u3069\u610f\u5473\u304c\u306a\u3044\u305f\u3081\u3001\u73fe\u5728\u3067\u306f\u7d0464MB\u306b\u56fa\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002    pg_strom.gpu_setup_cost  real  4000  GPU\u30c7\u30d0\u30a4\u30b9\u306e\u521d\u671f\u5316\u306b\u8981\u3059\u308b\u30b3\u30b9\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5024\u3002    pg_strom.gpu_dma_cost  real  10  \u30c1\u30e3\u30f3\u30af(64MB)\u3042\u305f\u308a\u306eDMA\u8ee2\u9001\u306b\u8981\u3059\u308b\u30b3\u30b9\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5024\u3002    pg_strom.gpu_operator_cost  real  0.00015  GPU\u306e\u6f14\u7b97\u5f0f\u3042\u305f\u308a\u306e\u51e6\u7406\u30b3\u30b9\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5024\u3002 cpu_operator_cost \u3088\u308a\u3082\u5927\u304d\u306a\u5024\u3092\u8a2d\u5b9a\u3057\u3066\u3057\u307e\u3046\u3068\u3001\u3044\u304b\u306a\u308b\u30b5\u30a4\u30ba\u306e\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3057\u3066\u3082PG-Strom\u304c\u9078\u629e\u3055\u308c\u308b\u3053\u3068\u306f\u306a\u304f\u306a\u308b\u3002", 
            "title": "\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306b\u95a2\u3059\u308b\u8a2d\u5b9a"
        }, 
        {
            "location": "/ref_params/#_3", 
            "text": "\u30d1\u30e9\u30e1\u30fc\u30bf\u540d  \u578b  \u521d\u671f\u5024  \u8aac\u660e      pg_strom.global_max_async_tasks  int  160  PG-Strom\u304cGPU\u5b9f\u884c\u30ad\u30e5\u30fc\u306b\u6295\u5165\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\u975e\u540c\u671f\u30bf\u30b9\u30af\u306e\u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3067\u306e\u6700\u5927\u5024\u3002    pg_strom.local_max_async_tasks  int  8  PG-Strom\u304cGPU\u5b9f\u884c\u30ad\u30e5\u30fc\u306b\u6295\u5165\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\u975e\u540c\u671f\u30bf\u30b9\u30af\u306e\u30d7\u30ed\u30bb\u30b9\u6bce\u306e\u6700\u5927\u5024\u3002CPU\u30d1\u30e9\u30ec\u30eb\u51e6\u7406\u3068\u4f75\u7528\u3059\u308b\u5834\u5408\u3001\u3053\u306e\u4e0a\u9650\u5024\u306f\u500b\u3005\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u6bce\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u5168\u4f53\u3067\u306f pg_strom.local_max_async_tasks \u3088\u308a\u3082\u591a\u304f\u306e\u975e\u540c\u671f\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002    pg_strom.max_number_of_gpucontext  int  \u81ea\u52d5  GPU\u30c7\u30d0\u30a4\u30b9\u3092\u62bd\u8c61\u5316\u3057\u305f\u5185\u90e8\u30c7\u30fc\u30bf\u69cb\u9020 GpuContext \u306e\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u901a\u5e38\u3001\u521d\u671f\u5024\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002", 
            "title": "\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u306b\u95a2\u3059\u308b\u8a2d\u5b9a"
        }, 
        {
            "location": "/ref_params/#_4", 
            "text": "\u30d1\u30e9\u30e1\u30fc\u30bf\u540d  \u578b  \u521d\u671f\u5024  \u8aac\u660e      pg_strom.ccache_base_dir  string  '/dev/shm'  \u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u6301\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u901a\u5e38\u3001 tmpfs \u304c\u30de\u30a6\u30f3\u30c8\u3055\u308c\u3066\u3044\u308b /dev/shm \u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002    pg_strom.ccache_databases  string  ''  \u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u975e\u540c\u671f\u30d3\u30eb\u30c9\u3092\u884c\u3046\u5bfe\u8c61\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 pgstrom_ccache_prewarm() \u306b\u3088\u308b\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30d3\u30eb\u30c9\u306b\u306f\u5f71\u97ff\u3057\u307e\u305b\u3093\u3002    pg_strom.ccache_num_builders  int  2  \u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u975e\u540c\u671f\u30d3\u30eb\u30c9\u3092\u884c\u3046\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u5c11\u306a\u304f\u3068\u3082 pg_strom.ccache_databases \u3067\u8a2d\u5b9a\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6570\u4ee5\u4e0a\u306b\u30ef\u30fc\u30ab\u30fc\u304c\u5fc5\u8981\u3067\u3059\u3002    pg_strom.ccache_log_output  bool  false  \u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u975e\u540c\u671f\u30d3\u30eb\u30c0\u30fc\u304c\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002    pg_strom.ccache_total_size  int  \u81ea\u52d5  \u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4e0a\u9650\u3092 kB \u5358\u4f4d\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u533a\u753b\u30b5\u30a4\u30ba\u306e75%\u307e\u305f\u306f\u30b7\u30b9\u30c6\u30e0\u306e\u7269\u7406\u30e1\u30e2\u30ea\u306e66%\u306e\u3044\u305a\u308c\u304b\u5c0f\u3055\u306a\u65b9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u3059\u3002", 
            "title": "\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u95a2\u9023\u306e\u8a2d\u5b9a"
        }, 
        {
            "location": "/ref_params/#gstore_fdw", 
            "text": "\u30d1\u30e9\u30e1\u30fc\u30bf\u540d  \u578b  \u521d\u671f\u5024  \u8aac\u660e      pg_strom.gstore_max_relations  int  100  gstore_fdw\u3092\u7528\u3044\u305f\u5916\u90e8\u8868\u6570\u306e\u4e0a\u9650\u3067\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u66f4\u65b0\u306b\u306f\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002", 
            "title": "gstore_fdw\u95a2\u9023\u306e\u8a2d\u5b9a"
        }, 
        {
            "location": "/ref_params/#gpu", 
            "text": "\u30d1\u30e9\u30e1\u30fc\u30bf\u540d  \u578b  \u521d\u671f\u5024  \u8aac\u660e      pg_strom.program_cache_size  int  256MB  \u30d3\u30eb\u30c9\u6e08\u307f\u306eGPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u304a\u304f\u305f\u3081\u306e\u5171\u6709\u30e1\u30e2\u30ea\u9818\u57df\u306e\u30b5\u30a4\u30ba\u3067\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u66f4\u65b0\u306b\u306f\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002    pg_strom.num_program_builders  int  2  GPU\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u975e\u540c\u671f\u30d3\u30eb\u30c9\u3059\u308b\u305f\u3081\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30d7\u30ed\u30bb\u30b9\u306e\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u66f4\u65b0\u306b\u306f\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002    pg_strom.debug_jit_compile_options  bool  off  GPU\u30d7\u30ed\u30b0\u30e9\u30e0\u306eJIT\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u3001\u30c7\u30d0\u30c3\u30b0\u30aa\u30d7\u30b7\u30e7\u30f3\uff08\u884c\u756a\u53f7\u3068\u30b7\u30f3\u30dc\u30eb\u60c5\u5831\uff09\u3092\u542b\u3081\u308b\u304b\u3069\u3046\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002GPU\u30b3\u30a2\u30c0\u30f3\u30d7\u7b49\u3092\u7528\u3044\u305f\u8907\u96d1\u306a\u30d0\u30b0\u306e\u89e3\u6790\u306b\u6709\u7528\u3067\u3059\u304c\u3001\u6027\u80fd\u306e\u30c7\u30b0\u30ec\u30fc\u30c9\u3092\u5f15\u304d\u8d77\u3053\u3059\u305f\u3081\u3001\u901a\u5e38\u306f\u4f7f\u7528\u3059\u3079\u304d\u3067\u3042\u308a\u307e\u305b\u3093\u3002", 
            "title": "GPU\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u751f\u6210\u3068\u30d3\u30eb\u30c9\u306b\u95a2\u9023\u3059\u308b\u8a2d\u5b9a"
        }, 
        {
            "location": "/ref_params/#gpu_1", 
            "text": "\u30d1\u30e9\u30e1\u30fc\u30bf\u540d  \u578b  \u521d\u671f\u5024  \u8aac\u660e      pg_strom.cuda_visible_devices  string  ''  PostgreSQL\u306e\u8d77\u52d5\u6642\u306b\u7279\u5b9a\u306eGPU\u30c7\u30d0\u30a4\u30b9\u3060\u3051\u3092\u8a8d\u8b58\u3055\u305b\u3066\u3044\u5834\u5408\u306f\u3001\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067GPU\u30c7\u30d0\u30a4\u30b9\u756a\u53f7\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u74b0\u5883\u5909\u6570 CUDA_VISIBLE_DEVICES \u3092\u8a2d\u5b9a\u3059\u308b\u306e\u3068\u540c\u7b49\u3067\u3059\u3002    pg_strom.gpu_memory_segment_size  int  512MB  PG-Strom\u304cGPU\u30e1\u30e2\u30ea\u3092\u30a2\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u969b\u306b\u30011\u56de\u306eCUDA API\u547c\u3073\u51fa\u3057\u3067\u7372\u5f97\u3059\u308bGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u5024\u304c\u5927\u304d\u3044\u3068API\u547c\u3073\u51fa\u3057\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u306f\u6e1b\u3089\u305b\u307e\u3059\u304c\u3001\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30ed\u30b9\u306f\u5927\u304d\u304f\u306a\u308a\u307e\u3059\u3002    pg_strom.max_num_preserved_gpu_memory  int  2048  \u78ba\u4fdd\u6e08\u307fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30bb\u30b0\u30e1\u30f3\u30c8\u6570\u306e\u4e0a\u9650\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u901a\u5e38\u306f\u521d\u671f\u5024\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002", 
            "title": "GPU\u30c7\u30d0\u30a4\u30b9\u306b\u95a2\u9023\u3059\u308b\u8a2d\u5b9a"
        }, 
        {
            "location": "/release_note/", 
            "text": "PG-Strom v2.0\u30ea\u30ea\u30fc\u30b9\n\n\nPG-Strom Development Team (17-Apr-2018)\n\n\n\n\u6982\u8981\n\n\nPG-Strom v2.0\u306b\u304a\u3051\u308b\u4e3b\u8981\u306a\u6a5f\u80fd\u5f37\u5316\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n\n\n\nGPU\u3092\u7ba1\u7406\u3059\u308b\u5185\u90e8\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u306e\u5168\u4f53\u7684\u306a\u518d\u8a2d\u8a08\u3068\u5b89\u5b9a\u5316\n\n\nCPU+GPU\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u4e26\u5217\u5b9f\u884c\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\n\n\n\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\n\n\nGPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2(store_fdw)\n\n\nGpuJoin\u3068GpuPreAgg\u306e\u518d\u8a2d\u8a08\u306b\u4f34\u3046\u9ad8\u901f\u5316\n\n\nGpuPreAgg+GpuJoin+GpuScan \u5bc6\u7d50\u5408GPU\u30ab\u30fc\u30cd\u30eb\n\n\n\n\n\u65b0\u6a5f\u80fd\u306e\u30b5\u30de\u30ea\u306f\u3053\u3061\u3089\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\uff1a\nPG-Strom v2.0 Technical Brief\n.\n\n\n\u52d5\u4f5c\u74b0\u5883\n\n\n\n\nPostgreSQL v9.6, v10\n\n\nCUDA Toolkit 9.1\n\n\nCUDA Toolkit\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\n\n\nIntel x86 64bit \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3(x86_64)\n\n\nNVIDIA GPU CC 6.0 \u4ee5\u964d (Pascal\u4ee5\u964d)\n\n\n\n\n\u65b0\u6a5f\u80fd\n\n\n\n\n\n\nGPU\u3092\u7ba1\u7406\u3059\u308b\u5185\u90e8\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u306e\u5168\u4f53\u7684\u306a\u518d\u8a2d\u8a08\u3068\u5b89\u5b9a\u5316\n\n\n\n\nPostgreSQL\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30d7\u30ed\u30bb\u30b9\u306f\u540c\u6642\u306b\uff11\u500b\u306eGPU\u3060\u3051\u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30de\u30eb\u30c1GPU\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306fPostgreSQL\u306eCPU\u4e26\u5217\u3068\u306e\u4f75\u7528\u304c\u524d\u63d0\u306b\u306a\u308a\u307e\u3059\u304c\u3001CPU\u30b9\u30ec\u30c3\u30c9\u304cGPU\u3078\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306fGPU\u306e\u51e6\u7406\u80fd\u529b\u3088\u308a\u3082\u305a\u3063\u3068\u4f4e\u3044\u305f\u3081\u3001\u901a\u5e38\u3001\u3053\u308c\u306f\u554f\u984c\u3068\u306f\u306a\u308a\u307e\u305b\u3093\u3002\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u8a2d\u8a08\u306e\u30b7\u30f3\u30d7\u30eb\u5316\u3092\u512a\u5148\u3057\u307e\u3057\u305f\u3002\n\n\nPascal\u4e16\u4ee3\u4ee5\u964d\u306eGPU\u3067\u63a1\u7528\u3055\u308c\u305fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30c7\u30de\u30f3\u30c9\u30da\u30fc\u30b8\u30f3\u30b0\u3092\u307b\u307c\u5168\u9762\u7684\u306b\u63a1\u7528\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u591a\u304f\u306f\u5b9f\u969b\u306b\u5b9f\u884c\u3057\u3066\u307f\u308b\u307e\u3067\u5fc5\u8981\u306a\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u5927\u304d\u3055\u304c\u5206\u304b\u3089\u306a\u3044\u305f\u3081\u3001\u3053\u308c\u307e\u3067\u306f\u5fc5\u8981\u4ee5\u4e0a\u306b\u30d0\u30c3\u30d5\u30a1\u3092\u7372\u5f97\u3057\u3001\u307e\u305f\u30e1\u30e2\u30ea\u4e0d\u8db3\u6642\u306b\u306f\u518d\u5b9f\u884c\u3092\u884c\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u3089\u306f\u540c\u6642\u5b9f\u884c\u30d7\u30ed\u30bb\u30b9\u306e\u5229\u7528\u53ef\u80fd\u306a\u30ea\u30bd\u30fc\u30b9\u3092\u5236\u9650\u3057\u3001\u307e\u305f\u8907\u96d1\u306a\u4f8b\u5916\u30ed\u30b8\u30c3\u30af\u306f\u30d0\u30b0\u306e\u6e29\u5e8a\u3067\u3057\u305f\u3002GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30c7\u30de\u30f3\u30c9\u30da\u30fc\u30b8\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u4e8b\u3067\u3001\u8a2d\u8a08\u306e\u30b7\u30f3\u30d7\u30eb\u5316\u3092\u884c\u3044\u307e\u3057\u305f\u3002\n\n\nCUDA\u306e\u975e\u540c\u671f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5229\u7528\u3092\u6b62\u3081\u307e\u3057\u305f\u3002GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30c7\u30de\u30f3\u30c9\u30da\u30fc\u30b8\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u3068\u3001DMA\u8ee2\u9001\u306e\u305f\u3081\u306e\u975e\u540c\u671fAPI\uff08\ncuMemCpyHtoD\n\u306a\u3069\uff09\u306f\u540c\u671f\u7684\u306b\u632f\u821e\u3046\u3088\u3046\u306b\u306a\u308b\u305f\u3081\u3001GPU\u30ab\u30fc\u30cd\u30eb\u306e\u591a\u91cd\u5ea6\u304c\u4f4e\u4e0b\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u4ee3\u308f\u308a\u306bPG-Strom\u81ea\u8eab\u304c\u30ef\u30fc\u30ab\u30fc\u30b9\u30ec\u30c3\u30c9\u3092\u7ba1\u7406\u3057\u3001\u3053\u308c\u3089\u306e\u30ef\u30fc\u30ab\u30fc\u30b9\u30ec\u30c3\u30c9\u304c\u305d\u308c\u305e\u308c\u540c\u671fAPI\u3092\u547c\u3073\u51fa\u3059\u3088\u3046\u8a2d\u8a08\u5909\u66f4\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u526f\u7523\u7269\u3068\u3057\u3066\u3001\u975e\u540c\u671f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\uff08\ncuStreamAddCallback\n\uff09\u3092\u5229\u7528\u3059\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3001MPS\u3092\u5229\u7528\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\n\n\n\n\n\nCPU+GPU\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u4e26\u5217\u5b9f\u884c\n\n\n\n\nPostgreSQL v9.6\u3067\u65b0\u305f\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305fCPU\u4e26\u5217\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\n\n\nPG-Strom\u306e\u63d0\u4f9b\u3059\u308bGpuScan\u3001GpuJoin\u304a\u3088\u3073GpuPreAgg\u306e\u5404\u30ed\u30b8\u30c3\u30af\u306f\u8907\u6570\u306ePostgreSQL\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u306b\u3088\u308a\u4e26\u5217\u306b\u5b9f\u884c\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\nPostgreSQL v9.6\u3067\u306fCPU\u4e26\u5217\u5b9f\u884c\u306e\u969b\u306b\nEXPLAIN ANALYZE\n\u3067\u53d6\u5f97\u3059\u308bPG-Strom\u72ec\u81ea\u306e\u7d71\u8a08\u60c5\u5831\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001CustomScan\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9API\u3067\nShutdownCustomScan\n\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u304b\u3063\u305f\u305f\u3081\u3001DSM\uff08\u52d5\u7684\u5171\u6709\u30e1\u30e2\u30ea\uff09\u306e\u89e3\u653e\u524d\u306b\u30b3\u30fc\u30c7\u30a3\u30cd\u30fc\u30bf\u30d7\u30ed\u30bb\u30b9\u304c\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u60c5\u5831\u3092\u56de\u53ce\u3059\u308b\u624b\u6bb5\u304c\u7121\u304b\u3063\u305f\u305f\u3081\u3067\u3059\u3002\n\n\n\n\n\n\n\n\nSSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\n\n\n\n\nLinux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb \nnvme_strom\n \u3092\u7528\u3044\u308b\u4e8b\u3067\u3001NVMe\u898f\u683c\u306b\u5bfe\u5fdc\u3057\u305fSSD\u4e0a\u306ePostgreSQL\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u3001CPU/RAM\u3092\u4ecb\u3055\u305a\u30c0\u30a4\u30ec\u30af\u30c8\u306bGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3078\u8ee2\u9001\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002\u30b7\u30b9\u30c6\u30e0RAM\u306b\u8f09\u308a\u5207\u3089\u306a\u3044\u5927\u304d\u3055\u306e\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u5834\u5408\u3067\u3042\u3063\u3066\u3082\u3001\u672c\u6a5f\u80fd\u306b\u3088\u308aPG-Strom\u306e\u9069\u7528\u304c\u73fe\u5b9f\u7684\u306a\u9078\u629e\u80a2\u3068\u306a\u308b\u4e8b\u3067\u3057\u3087\u3046\u3002\n\n\n\u30d6\u30ed\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u5c64\u3084\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u7d4c\u7531\u3057\u306a\u3044\u305f\u3081\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u9650\u754c\u306b\u8fd1\u3044\u9ad8\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u3092\u5f15\u304d\u51fa\u3059\u4e8b\u304c\u53ef\u80fd\u3067\u3001\u304b\u3064\u3001GPU\u3067SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u51e6\u7406\u3059\u308b\u305f\u3081CPU\u306e\u51e6\u7406\u3059\u3079\u304d\u30c7\u30fc\u30bf\u91cf\u3092\u6e1b\u3089\u3059\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u7279\u6027\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308a\u3001\u4e00\u822c\u7684\u306b\u306f\u8a08\u7b97\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308bGPU\u3092\u3001I/O\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u9ad8\u901f\u5316\u306b\u9069\u7528\u3059\u308b\u4e8b\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002\n\n\n\n\n\n\n\n\n\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\n\n\n\n\nRAM\u30b5\u30a4\u30ba\u306b\u8f09\u308b\u7a0b\u5ea6\u306e\u5927\u304d\u3055\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u306f\u3001\u3088\u308aGPU\u3067\u306e\u51e6\u7406\u306b\u9069\u3057\u305f\u5217\u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u5909\u5f62\u3057\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306b\u969b\u3057\u3066\u3001\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306b\u306fPostgreSQL\u306e\u5171\u6709\u30d0\u30c3\u30d5\u30a1\u3088\u308a\u3082\u3053\u3061\u3089\u3092\u512a\u5148\u3057\u3066\u53c2\u7167\u3057\u307e\u3059\u3002\n\n\n\u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u540c\u671f\u7684\u3001\u307e\u305f\u306f\u975e\u540c\u671f\u7684\u306b\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u69cb\u7bc9\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\n\u521d\u671f\u306ePG-Strom\u3067\u4f3c\u305f\u3088\u3046\u306a\u6a5f\u80fd\u304c\u5b58\u5728\u3057\u3066\u3044\u305f\u4e8b\u3092\u899a\u3048\u3066\u304a\u3089\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002v2.0\u3067\u65b0\u305f\u306b\u5b9f\u88c5\u3055\u308c\u305f\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u884c\u304c\u66f4\u65b0\u3055\u308c\u308b\u3068\u3001\u5f53\u8a72\u884c\u3092\u542b\u3080\u30ad\u30e3\u30c3\u30b7\u30e5\u30d6\u30ed\u30c3\u30af\u3092\u6d88\u53bb\uff08invalidation\uff09\u3057\u307e\u3059\u3002\u884c\u30b9\u30c8\u30a2\u306e\u66f4\u65b0\u306b\u5408\u308f\u305b\u3066\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u5074\u306e\u66f4\u65b0\u3092\u884c\u3046\u3068\u3044\u3046\u4e8b\u306f\u884c\u308f\u306a\u3044\u305f\u3081\u3001\u66f4\u65b0\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u5bfe\u3059\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u4f4e\u4e0b\u306f\u9650\u5b9a\u7684\u3067\u3059\u3002\n\n\n\n\n\n\n\n\nGPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2(gstore_fdw)\n\n\n\n\nGPU\u4e0a\u306b\u78ba\u4fdd\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u306b\u5bfe\u3057\u3066\u3001\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\uff08Foreign Table\uff09\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5229\u7528\u3057\u3066SQL\u306eSELECT/INSERT/UPDATE/DELETE\u306b\u3088\u308a\u8aad\u307f\u66f8\u304d\u3092\u884c\u3046\u6a5f\u80fd\u3067\u3059\u3002\n\n\n\u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u306f \npgstrom\n \u578b\u306e\u307f\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001PG-Strom\u306e\u30d0\u30c3\u30d5\u30a1\u5f62\u5f0f\nKDS_FORMAT_COLUMN\n\u30bf\u30a4\u30d7\u3068\u540c\u4e00\u306e\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u5834\u5408\u3001LZ\u65b9\u5f0f\u306b\u3088\u308b\u30c7\u30fc\u30bf\u5727\u7e2e\u3092\u884c\u3046\u4e8b\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n\nv2.0\u306e\u6642\u70b9\u3067\u306f\u3001GPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2\u306fPL/CUDA\u95a2\u6570\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3068\u3057\u3066\u3060\u3051\u5229\u7528\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\n\n\n\n\n\n\nGpuJoin\u3068GpuPreAgg\u306e\u518d\u8a2d\u8a08\u306b\u4f34\u3046\u9ad8\u901f\u5316\n\n\n\n\n\u5f93\u6765\u3001GpuJoin\u3068GpuPreAgg\u3067\u5185\u90e8\u7684\u306b\u4f7f\u7528\u3057\u3066\u3044\u305fDynamic Parallelism\u306e\u5229\u7528\u3092\u3084\u3081\u3001\u51e6\u7406\u30ed\u30b8\u30c3\u30af\u5168\u4f53\u306e\u898b\u76f4\u3057\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001GPU\u30b5\u30d6\u30ab\u30fc\u30cd\u30eb\u306e\u8d77\u52d5\u5f8c\u3001\u305d\u306e\u5b8c\u4e86\u3092\u5358\u306b\u5f85\u3063\u3066\u3044\u308b\u3060\u3051\u306eGPU\u30ab\u30fc\u30cd\u30eb\u304c\u5b9f\u884c\u30b9\u30ed\u30c3\u30c8\u3092\u5360\u6709\u3057\u3001GPU\u306e\u4f7f\u7528\u7387\u304c\u4e0a\u304c\u3089\u306a\u3044\u3068\u3044\u3046\u554f\u984c\u304c\u3042\u3063\u305f\u305f\u3081\u3067\u3059\u3002\n\n\n\u3053\u306e\u518d\u8a2d\u8a08\u306b\u4f34\u3046\u526f\u7523\u7269\u3068\u3057\u3066\u3001GpuJoin\u306e\u30b5\u30b9\u30da\u30f3\u30c9/\u30ec\u30b8\u30e5\u30fc\u30e0\u6a5f\u80fd\u304c\u5b9f\u88c5\u3055\u308c\u307e\u3057\u305f\u3002\u539f\u7406\u4e0a\u3001SQL\u306eJOIN\u51e6\u7406\u306f\u5165\u529b\u3057\u305f\u884c\u6570\u3088\u308a\u3082\u51fa\u529b\u3059\u308b\u884c\u6570\u306e\u65b9\u304c\u5897\u3048\u3066\u3057\u307e\u3046\u4e8b\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u51e6\u7406\u7d50\u679c\u3092\u66f8\u304d\u8fbc\u3080\u30d0\u30c3\u30d5\u30a1\u306e\u6b8b\u308a\u30b5\u30a4\u30ba\u304c\u4e0d\u8db3\u3057\u305f\u6642\u70b9\u3067GpuJoin\u3092\u30b5\u30b9\u30da\u30f3\u30c9\u3057\u3001\u65b0\u3057\u3044\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3092\u5272\u308a\u5f53\u3066\u3066\u30ec\u30b8\u30e5\u30fc\u30e0\u3059\u308b\u3088\u3046\u306b\u4fee\u6b63\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u30b5\u30a4\u30ba\u63a8\u5b9a\u304c\u7c21\u7565\u5316\u3055\u308c\u305f\u307b\u304b\u3001\u5b9f\u884c\u6642\u306e\u30d0\u30c3\u30d5\u30a1\u4e0d\u8db3\u306b\u3088\u308b\u518d\u5b9f\u884c\u306e\u5fc5\u8981\u304c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\n\n\n\n\n\nGpuPreAgg+GpuJoin+GpuScan \u5bc6\u7d50\u5408GPU\u30ab\u30fc\u30cd\u30eb\n\n\n\n\nGPU\u3067\u5b9f\u884c\u53ef\u80fd\u306aSCAN\u3001JOIN\u3001GROUP BY\u304c\u9023\u7d9a\u3057\u3066\u3044\u308b\u3068\u304d\u3001\u5bfe\u5fdc\u3059\u308bGpuScan\u3001GpuJoin\u3001GpuPreAgg\u306b\u76f8\u5f53\u3059\u308b\u51e6\u7406\u3092\u4e00\u56de\u306eGPU\u30ab\u30fc\u30cd\u30eb\u547c\u3073\u51fa\u3057\u3067\u5b9f\u884c\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001GpuJoin\u306e\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3092\u305d\u306e\u307e\u307eGpuPreAgg\u306e\u5165\u529b\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u6271\u3046\u306a\u3069\u3001CPU\u3068GPU\u306e\u9593\u306e\u30c7\u30fc\u30bf\u4ea4\u63db\u3092\u6700\u5c0f\u9650\u306b\u6291\u3048\u308b\u305f\u3081\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3059\u3002\n\n\n\u3053\u306e\u6a5f\u80fd\u306f\u7279\u306b\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528\u3059\u308b\u3068\u52b9\u679c\u7684\u3067\u3059\u3002\n\n\n\n\n\n\n\n\n\u65b0\u3057\u3044\u30c7\u30fc\u30bf\u578b\u306e\u5bfe\u5fdc\n\n\n\n\nuuid\n\u578b\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\n\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c9\u30ec\u30b9\u578b\uff08\ninet\n\u3001\ncidr\n\u3001\u304a\u3088\u3073\nmacaddr\n\uff09\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\n\n\n\u7bc4\u56f2\u578b\uff08\nint4range\n\u3001\nint8range\n\u3001\ntsrange\n\u3001\ntstzrange\n\u3001\ndaterange\n\uff09\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\n\n\n\u534a\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u578b\uff08\nfloat2\n\uff09\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\u534a\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u578b\u306b\u95a2\u9023\u3059\u308bCPU\u5074\u306e\u5b9f\u88c5\u306fPG-Strom\u306e\u72ec\u81ea\u5b9f\u88c5\u306b\u3088\u308b\u3082\u306e\u3067\u3059\u3002\n\n\n\n\n\n\n\n\n\u65b0\u3057\u3044\u6f14\u7b97\u5b50/\u95a2\u6570\u306e\u5bfe\u5fdc\n\n\n\n\n\u65e5\u4ed8\u6642\u523b\u578b\u306b\u5bfe\u3059\u308b\nEXTRACT(field FROM timestamp)\n\u6f14\u7b97\u5b50\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\n\n\n\n\n\n\n\n\nNew data type support\n\n\n\n\nuuid\n type\n\n\nNetwork address types (\ninet\n, \ncidr\n and \nmacaddr\n)\n\n\nRange data types (\nint4range\n, \nint8range\n, \ntsrange\n, \ntstzrange\n, \ndaterange\n)\n\n\nHalf-precision floating point type (\nfloat2\n). Its CPU side are also implemented by PG-Strom itself, not PostgreSQL's built-in feature.\n\n\n\n\n\n\n\n\nNew operators / functions\n\n\n\n\nEXTRACT(field FROM timestamp)\n operator on the date and time types\n\n\n\n\n\n\n\n\nPL/CUDA\u95a2\u9023\u306e\u5f37\u5316\n\n\n\n\n#plcuda_include\n\u306e\u62e1\u5f35\u306b\u3088\u308a\u3001\ntext\n\u578b\u3092\u8fd4\u3059SQL\u95a2\u6570\u3092\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u5f15\u6570\u306e\u5024\u306b\u3088\u3063\u3066\u633f\u5165\u3059\u308b\u30b3\u30fc\u30c9\u3092\u5909\u3048\u308b\u4e8b\u304c\u3067\u304d\u308b\u305f\u3081\u3001\u5358\u306b\u5916\u90e8\u5b9a\u7fa9\u95a2\u6570\u3092\u8aad\u307f\u8fbc\u3080\u3060\u3051\u3067\u306a\u304f\u3001\u52d5\u7684\u306b\u3044\u304f\u3064\u3082\u306eGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308a\u51fa\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n\nPL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u306b\nreggstore\n\u578b\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3078\u306f\u5bfe\u5fdc\u3059\u308bGPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2\u306e\u30dd\u30a4\u30f3\u30bf\u304c\u6e21\u3055\u308c\u307e\u3059\u3002OID\u5024\u304c\u6e21\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\n\n\n\n\n\u305d\u306e\u4ed6\u306e\u6a5f\u80fd\u5f37\u5316\n\n\n\n\nlo_import_gpu\n\u304a\u3088\u3073\nlo_export_gpu\n\u95a2\u6570\u306b\u3088\u308a\u3001\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u78ba\u4fdd\u3057\u305fGPU\u30e1\u30e2\u30ea\u306e\u5185\u5bb9\u3092\u76f4\u63a5PostgreSQL\u306e\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a18\u9332\u3057\u305f\u308a\u3001\u9006\u306b\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5185\u5bb9\u3092GPU\u30e1\u30e2\u30ea\u306b\u66f8\u304d\u51fa\u3059\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\n\n\n\n\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0\n\n\n\n\nPostgreSQL Global Development Group\u306e\u914d\u5e03\u3059\u308bPostgreSQL\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u9069\u5408\u3059\u308b\u3088\u3046\u3001RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3092\u884c\u3044\u307e\u3057\u305f\u3002\n\n\n\u5168\u3066\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u7269\u4ef6\u306fHeteroDB SWDC(Software Distribution Center)\u3088\u308a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\n\n\n\n\n\n\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n\n\n\nPG-Strom\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092markdown\u3068mkdocs\u3092\u7528\u3044\u3066\u5168\u9762\u7684\u306b\u66f8\u304d\u76f4\u3057\u307e\u3057\u305f\u3002\u5f93\u6765\u306eHTML\u3092\u7528\u3044\u305f\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u6bd4\u3079\u3001\u3088\u308a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u304c\u5bb9\u6613\u3067\u65b0\u6a5f\u80fd\u306e\u958b\u767a\u306b\u5408\u308f\u305b\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u62e1\u5145\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\u30c6\u30b9\u30c8\n\n\n\n\nPostgreSQL\u306e\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u3066\u3001PG-Strom\u306e\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\n\n\n\n\n\n\n\u5ec3\u6b62\u3055\u308c\u305f\u6a5f\u80fd\n\n\n\n\n\n\nPostgreSQL v9.5\u30b5\u30dd\u30fc\u30c8\n\n\n\n\nPostgreSQL v9.6\u3067\u306fCPU\u4e26\u5217\u30af\u30a8\u30ea\u306e\u63d0\u4f9b\u306b\u4f34\u3044\u3001\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6/\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u5171\u306b\u5927\u304d\u306a\u4fee\u6b63\u304c\u52a0\u3048\u3089\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u3068\u5bc6\u63a5\u306b\u9023\u643a\u3059\u308b\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3068\u3063\u3066\u6700\u3082\u30a4\u30f3\u30d1\u30af\u30c8\u306e\u5927\u304d\u306a\u5909\u66f4\u306f\u300eupper planner path-ification\u300f\u3068\u547c\u3070\u308c\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5f37\u5316\u3067\u3001\u96c6\u7d04\u6f14\u7b97\u3084\u30bd\u30fc\u30c8\u306a\u3069\u306e\u5b9f\u884c\u8a08\u753b\u3082\u30b3\u30b9\u30c8\u30d9\u30fc\u30b9\u3067\u8907\u6570\u306e\u7570\u306a\u308b\u65b9\u6cd5\u3092\u6bd4\u8f03\u3057\u3066\u6700\u9069\u306a\u3082\u306e\u3092\u9078\u629e\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\u3053\u308c\u306fGpuPreAgg\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u30d5\u30c3\u30af\u3092\u5229\u7528\u3057\u3066\u5b9f\u884c\u8a08\u753b\u3092\u66f8\u304d\u63db\u3048\u3066\u3044\u305f\u5f93\u6765\u306e\u65b9\u6cd5\u3068\u306f\u6839\u672c\u7684\u306b\u7570\u306a\u308a\u3001\u3088\u308a\u5408\u7406\u7684\u304b\u3064\u4fe1\u983c\u3067\u304d\u308b\u65b9\u6cd5\u3067GPU\u3092\u7528\u3044\u305f\u96c6\u7d04\u6f14\u7b97\u3092\u633f\u5165\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u3001\u30d0\u30b0\u306e\u6e29\u5e8a\u3067\u3042\u3063\u305f\u5b9f\u884c\u8a08\u753b\u306e\u66f8\u304d\u63db\u3048\u30ed\u30b8\u30c3\u30af\u3092\u6368\u3066\u308b\u4e8b\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\u540c\u6642\u306b\u3001CustomScan\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u3082CPU\u4e26\u5217\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306eAPI\u304c\u62e1\u5f35\u3055\u308c\u3001\u3053\u308c\u3089\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306bPostgreSQL v9.5\u30b5\u30dd\u30fc\u30c8\u306f\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002\n\n\n\n\n\n\n\n\nGpuSort\u6a5f\u80fd\n\n\n\n\nGpuSort\u6a5f\u80fd\u306f\u6027\u80fd\u4e0a\u306e\u30e1\u30ea\u30c3\u30c8\u304c\u5f97\u3089\u308c\u306a\u3044\u305f\u3081\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002\n\n\n\u30bd\u30fc\u30c8\u306fGPU\u306e\u5f97\u610f\u3068\u3059\u308b\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u4e00\u3064\u3067\u3059\u3002\u3057\u304b\u3057\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u5927\u304d\u3055\u3092\u8d8a\u3048\u308b\u30b5\u30a4\u30ba\u306e\u30c7\u30fc\u30bf\u3092\u30bd\u30fc\u30c8\u3059\u308b\u5834\u5408\u3001\u8907\u6570\u306e\u30c1\u30e3\u30f3\u30af\u306b\u5206\u5272\u3057\u3066\u90e8\u5206\u30bd\u30fc\u30c8\u3092\u884c\u3044\u3001\u5f8c\u3067CPU\u5074\u3067\u3053\u308c\u3092\u7d50\u5408\u3057\u3066\u6700\u7d42\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u7d50\u5408\u30d5\u30a7\u30fc\u30ba\u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u306b\u306f\u3001GPU\u3067\u30bd\u30fc\u30c8\u3059\u3079\u304d\u30c1\u30e3\u30f3\u30af\u306e\u30b5\u30a4\u30ba\u3092\u5927\u304d\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e00\u65b9\u3067\u30c1\u30e3\u30f3\u30af\u30b5\u30a4\u30ba\u304c\u5927\u304d\u304f\u306a\u308b\u3068\u30bd\u30fc\u30c8\u51e6\u7406\u3092\u958b\u59cb\u3059\u308b\u305f\u3081\u306e\u30ea\u30fc\u30c9\u30bf\u30a4\u30e0\u304c\u9577\u304f\u306a\u308a\u3001PG-Strom\u306e\u7279\u9577\u306e\u4e00\u3064\u3067\u3042\u308b\u975e\u540c\u671f\u51e6\u7406\u306b\u3088\u308b\u30c7\u30fc\u30bf\u8ee2\u9001\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u96a0\u307a\u3044\u304c\u52b9\u304b\u306a\u304f\u306a\u308b\u3068\u3044\u3046\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u3053\u308c\u3089\u306e\u554f\u984c\u306b\u5bfe\u51e6\u3059\u308b\u306e\u306f\u56f0\u96e3\u3001\u5c11\u306a\u304f\u3068\u3082\u6642\u671f\u5c1a\u65e9\u3067\u3042\u308b\u3068\u5224\u65ad\u3057\u3001GpuSort\u6a5f\u80fd\u306f\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002", 
            "title": "\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8"
        }, 
        {
            "location": "/release_note/#pg-strom-v20", 
            "text": "PG-Strom Development Team (17-Apr-2018)", 
            "title": "PG-Strom v2.0\u30ea\u30ea\u30fc\u30b9"
        }, 
        {
            "location": "/release_note/#_1", 
            "text": "PG-Strom v2.0\u306b\u304a\u3051\u308b\u4e3b\u8981\u306a\u6a5f\u80fd\u5f37\u5316\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002   GPU\u3092\u7ba1\u7406\u3059\u308b\u5185\u90e8\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u306e\u5168\u4f53\u7684\u306a\u518d\u8a2d\u8a08\u3068\u5b89\u5b9a\u5316  CPU+GPU\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u4e26\u5217\u5b9f\u884c  SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c  \u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5  GPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2(store_fdw)  GpuJoin\u3068GpuPreAgg\u306e\u518d\u8a2d\u8a08\u306b\u4f34\u3046\u9ad8\u901f\u5316  GpuPreAgg+GpuJoin+GpuScan \u5bc6\u7d50\u5408GPU\u30ab\u30fc\u30cd\u30eb   \u65b0\u6a5f\u80fd\u306e\u30b5\u30de\u30ea\u306f\u3053\u3061\u3089\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\uff1a PG-Strom v2.0 Technical Brief .", 
            "title": "\u6982\u8981"
        }, 
        {
            "location": "/release_note/#_2", 
            "text": "PostgreSQL v9.6, v10  CUDA Toolkit 9.1  CUDA Toolkit\u306e\u30b5\u30dd\u30fc\u30c8\u3059\u308bLinux\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3  Intel x86 64bit \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3(x86_64)  NVIDIA GPU CC 6.0 \u4ee5\u964d (Pascal\u4ee5\u964d)", 
            "title": "\u52d5\u4f5c\u74b0\u5883"
        }, 
        {
            "location": "/release_note/#_3", 
            "text": "GPU\u3092\u7ba1\u7406\u3059\u308b\u5185\u90e8\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u306e\u5168\u4f53\u7684\u306a\u518d\u8a2d\u8a08\u3068\u5b89\u5b9a\u5316   PostgreSQL\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30d7\u30ed\u30bb\u30b9\u306f\u540c\u6642\u306b\uff11\u500b\u306eGPU\u3060\u3051\u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30de\u30eb\u30c1GPU\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306fPostgreSQL\u306eCPU\u4e26\u5217\u3068\u306e\u4f75\u7528\u304c\u524d\u63d0\u306b\u306a\u308a\u307e\u3059\u304c\u3001CPU\u30b9\u30ec\u30c3\u30c9\u304cGPU\u3078\u30c7\u30fc\u30bf\u3092\u4f9b\u7d66\u3059\u308b\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306fGPU\u306e\u51e6\u7406\u80fd\u529b\u3088\u308a\u3082\u305a\u3063\u3068\u4f4e\u3044\u305f\u3081\u3001\u901a\u5e38\u3001\u3053\u308c\u306f\u554f\u984c\u3068\u306f\u306a\u308a\u307e\u305b\u3093\u3002\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u8a2d\u8a08\u306e\u30b7\u30f3\u30d7\u30eb\u5316\u3092\u512a\u5148\u3057\u307e\u3057\u305f\u3002  Pascal\u4e16\u4ee3\u4ee5\u964d\u306eGPU\u3067\u63a1\u7528\u3055\u308c\u305fGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30c7\u30de\u30f3\u30c9\u30da\u30fc\u30b8\u30f3\u30b0\u3092\u307b\u307c\u5168\u9762\u7684\u306b\u63a1\u7528\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u591a\u304f\u306f\u5b9f\u969b\u306b\u5b9f\u884c\u3057\u3066\u307f\u308b\u307e\u3067\u5fc5\u8981\u306a\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u5927\u304d\u3055\u304c\u5206\u304b\u3089\u306a\u3044\u305f\u3081\u3001\u3053\u308c\u307e\u3067\u306f\u5fc5\u8981\u4ee5\u4e0a\u306b\u30d0\u30c3\u30d5\u30a1\u3092\u7372\u5f97\u3057\u3001\u307e\u305f\u30e1\u30e2\u30ea\u4e0d\u8db3\u6642\u306b\u306f\u518d\u5b9f\u884c\u3092\u884c\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u3089\u306f\u540c\u6642\u5b9f\u884c\u30d7\u30ed\u30bb\u30b9\u306e\u5229\u7528\u53ef\u80fd\u306a\u30ea\u30bd\u30fc\u30b9\u3092\u5236\u9650\u3057\u3001\u307e\u305f\u8907\u96d1\u306a\u4f8b\u5916\u30ed\u30b8\u30c3\u30af\u306f\u30d0\u30b0\u306e\u6e29\u5e8a\u3067\u3057\u305f\u3002GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30c7\u30de\u30f3\u30c9\u30da\u30fc\u30b8\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u4e8b\u3067\u3001\u8a2d\u8a08\u306e\u30b7\u30f3\u30d7\u30eb\u5316\u3092\u884c\u3044\u307e\u3057\u305f\u3002  CUDA\u306e\u975e\u540c\u671f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5229\u7528\u3092\u6b62\u3081\u307e\u3057\u305f\u3002GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u30c7\u30de\u30f3\u30c9\u30da\u30fc\u30b8\u30f3\u30b0\u3092\u5229\u7528\u3059\u308b\u3068\u3001DMA\u8ee2\u9001\u306e\u305f\u3081\u306e\u975e\u540c\u671fAPI\uff08 cuMemCpyHtoD \u306a\u3069\uff09\u306f\u540c\u671f\u7684\u306b\u632f\u821e\u3046\u3088\u3046\u306b\u306a\u308b\u305f\u3081\u3001GPU\u30ab\u30fc\u30cd\u30eb\u306e\u591a\u91cd\u5ea6\u304c\u4f4e\u4e0b\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u4ee3\u308f\u308a\u306bPG-Strom\u81ea\u8eab\u304c\u30ef\u30fc\u30ab\u30fc\u30b9\u30ec\u30c3\u30c9\u3092\u7ba1\u7406\u3057\u3001\u3053\u308c\u3089\u306e\u30ef\u30fc\u30ab\u30fc\u30b9\u30ec\u30c3\u30c9\u304c\u305d\u308c\u305e\u308c\u540c\u671fAPI\u3092\u547c\u3073\u51fa\u3059\u3088\u3046\u8a2d\u8a08\u5909\u66f4\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u526f\u7523\u7269\u3068\u3057\u3066\u3001\u975e\u540c\u671f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\uff08 cuStreamAddCallback \uff09\u3092\u5229\u7528\u3059\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3001MPS\u3092\u5229\u7528\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002     CPU+GPU\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u4e26\u5217\u5b9f\u884c   PostgreSQL v9.6\u3067\u65b0\u305f\u306b\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305fCPU\u4e26\u5217\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002  PG-Strom\u306e\u63d0\u4f9b\u3059\u308bGpuScan\u3001GpuJoin\u304a\u3088\u3073GpuPreAgg\u306e\u5404\u30ed\u30b8\u30c3\u30af\u306f\u8907\u6570\u306ePostgreSQL\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u306b\u3088\u308a\u4e26\u5217\u306b\u5b9f\u884c\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002  PostgreSQL v9.6\u3067\u306fCPU\u4e26\u5217\u5b9f\u884c\u306e\u969b\u306b EXPLAIN ANALYZE \u3067\u53d6\u5f97\u3059\u308bPG-Strom\u72ec\u81ea\u306e\u7d71\u8a08\u60c5\u5831\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001CustomScan\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9API\u3067 ShutdownCustomScan \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u304b\u3063\u305f\u305f\u3081\u3001DSM\uff08\u52d5\u7684\u5171\u6709\u30e1\u30e2\u30ea\uff09\u306e\u89e3\u653e\u524d\u306b\u30b3\u30fc\u30c7\u30a3\u30cd\u30fc\u30bf\u30d7\u30ed\u30bb\u30b9\u304c\u30ef\u30fc\u30ab\u30fc\u30d7\u30ed\u30bb\u30b9\u306e\u60c5\u5831\u3092\u56de\u53ce\u3059\u308b\u624b\u6bb5\u304c\u7121\u304b\u3063\u305f\u305f\u3081\u3067\u3059\u3002     SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c   Linux\u30ab\u30fc\u30cd\u30eb\u30e2\u30b8\u30e5\u30fc\u30eb  nvme_strom  \u3092\u7528\u3044\u308b\u4e8b\u3067\u3001NVMe\u898f\u683c\u306b\u5bfe\u5fdc\u3057\u305fSSD\u4e0a\u306ePostgreSQL\u30c7\u30fc\u30bf\u30d6\u30ed\u30c3\u30af\u3092\u3001CPU/RAM\u3092\u4ecb\u3055\u305a\u30c0\u30a4\u30ec\u30af\u30c8\u306bGPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u3078\u8ee2\u9001\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002\u30b7\u30b9\u30c6\u30e0RAM\u306b\u8f09\u308a\u5207\u3089\u306a\u3044\u5927\u304d\u3055\u306e\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u5834\u5408\u3067\u3042\u3063\u3066\u3082\u3001\u672c\u6a5f\u80fd\u306b\u3088\u308aPG-Strom\u306e\u9069\u7528\u304c\u73fe\u5b9f\u7684\u306a\u9078\u629e\u80a2\u3068\u306a\u308b\u4e8b\u3067\u3057\u3087\u3046\u3002  \u30d6\u30ed\u30c3\u30af\u30c7\u30d0\u30a4\u30b9\u5c64\u3084\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u7d4c\u7531\u3057\u306a\u3044\u305f\u3081\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u9650\u754c\u306b\u8fd1\u3044\u9ad8\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u3092\u5f15\u304d\u51fa\u3059\u4e8b\u304c\u53ef\u80fd\u3067\u3001\u304b\u3064\u3001GPU\u3067SQL\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u3092\u51e6\u7406\u3059\u308b\u305f\u3081CPU\u306e\u51e6\u7406\u3059\u3079\u304d\u30c7\u30fc\u30bf\u91cf\u3092\u6e1b\u3089\u3059\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u7279\u6027\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308a\u3001\u4e00\u822c\u7684\u306b\u306f\u8a08\u7b97\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308bGPU\u3092\u3001I/O\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u9ad8\u901f\u5316\u306b\u9069\u7528\u3059\u308b\u4e8b\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002     \u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5   RAM\u30b5\u30a4\u30ba\u306b\u8f09\u308b\u7a0b\u5ea6\u306e\u5927\u304d\u3055\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u306f\u3001\u3088\u308aGPU\u3067\u306e\u51e6\u7406\u306b\u9069\u3057\u305f\u5217\u30c7\u30fc\u30bf\u5f62\u5f0f\u306b\u5909\u5f62\u3057\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30c6\u30fc\u30d6\u30eb\u306e\u30b9\u30ad\u30e3\u30f3\u306b\u969b\u3057\u3066\u3001\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306b\u306fPostgreSQL\u306e\u5171\u6709\u30d0\u30c3\u30d5\u30a1\u3088\u308a\u3082\u3053\u3061\u3089\u3092\u512a\u5148\u3057\u3066\u53c2\u7167\u3057\u307e\u3059\u3002  \u30a4\u30f3\u30e1\u30e2\u30ea\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u540c\u671f\u7684\u3001\u307e\u305f\u306f\u975e\u540c\u671f\u7684\u306b\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u69cb\u7bc9\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002  \u521d\u671f\u306ePG-Strom\u3067\u4f3c\u305f\u3088\u3046\u306a\u6a5f\u80fd\u304c\u5b58\u5728\u3057\u3066\u3044\u305f\u4e8b\u3092\u899a\u3048\u3066\u304a\u3089\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002v2.0\u3067\u65b0\u305f\u306b\u5b9f\u88c5\u3055\u308c\u305f\u5217\u6307\u5411\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u884c\u304c\u66f4\u65b0\u3055\u308c\u308b\u3068\u3001\u5f53\u8a72\u884c\u3092\u542b\u3080\u30ad\u30e3\u30c3\u30b7\u30e5\u30d6\u30ed\u30c3\u30af\u3092\u6d88\u53bb\uff08invalidation\uff09\u3057\u307e\u3059\u3002\u884c\u30b9\u30c8\u30a2\u306e\u66f4\u65b0\u306b\u5408\u308f\u305b\u3066\u5217\u30ad\u30e3\u30c3\u30b7\u30e5\u5074\u306e\u66f4\u65b0\u3092\u884c\u3046\u3068\u3044\u3046\u4e8b\u306f\u884c\u308f\u306a\u3044\u305f\u3081\u3001\u66f4\u65b0\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306b\u5bfe\u3059\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u4f4e\u4e0b\u306f\u9650\u5b9a\u7684\u3067\u3059\u3002     GPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2(gstore_fdw)   GPU\u4e0a\u306b\u78ba\u4fdd\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u9818\u57df\u306b\u5bfe\u3057\u3066\u3001\u5916\u90e8\u30c6\u30fc\u30d6\u30eb\uff08Foreign Table\uff09\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5229\u7528\u3057\u3066SQL\u306eSELECT/INSERT/UPDATE/DELETE\u306b\u3088\u308a\u8aad\u307f\u66f8\u304d\u3092\u884c\u3046\u6a5f\u80fd\u3067\u3059\u3002  \u5185\u90e8\u30c7\u30fc\u30bf\u5f62\u5f0f\u306f  pgstrom  \u578b\u306e\u307f\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001PG-Strom\u306e\u30d0\u30c3\u30d5\u30a1\u5f62\u5f0f KDS_FORMAT_COLUMN \u30bf\u30a4\u30d7\u3068\u540c\u4e00\u306e\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u53ef\u5909\u9577\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u5834\u5408\u3001LZ\u65b9\u5f0f\u306b\u3088\u308b\u30c7\u30fc\u30bf\u5727\u7e2e\u3092\u884c\u3046\u4e8b\u3082\u53ef\u80fd\u3067\u3059\u3002  v2.0\u306e\u6642\u70b9\u3067\u306f\u3001GPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2\u306fPL/CUDA\u95a2\u6570\u306e\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3068\u3057\u3066\u3060\u3051\u5229\u7528\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002     GpuJoin\u3068GpuPreAgg\u306e\u518d\u8a2d\u8a08\u306b\u4f34\u3046\u9ad8\u901f\u5316   \u5f93\u6765\u3001GpuJoin\u3068GpuPreAgg\u3067\u5185\u90e8\u7684\u306b\u4f7f\u7528\u3057\u3066\u3044\u305fDynamic Parallelism\u306e\u5229\u7528\u3092\u3084\u3081\u3001\u51e6\u7406\u30ed\u30b8\u30c3\u30af\u5168\u4f53\u306e\u898b\u76f4\u3057\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001GPU\u30b5\u30d6\u30ab\u30fc\u30cd\u30eb\u306e\u8d77\u52d5\u5f8c\u3001\u305d\u306e\u5b8c\u4e86\u3092\u5358\u306b\u5f85\u3063\u3066\u3044\u308b\u3060\u3051\u306eGPU\u30ab\u30fc\u30cd\u30eb\u304c\u5b9f\u884c\u30b9\u30ed\u30c3\u30c8\u3092\u5360\u6709\u3057\u3001GPU\u306e\u4f7f\u7528\u7387\u304c\u4e0a\u304c\u3089\u306a\u3044\u3068\u3044\u3046\u554f\u984c\u304c\u3042\u3063\u305f\u305f\u3081\u3067\u3059\u3002  \u3053\u306e\u518d\u8a2d\u8a08\u306b\u4f34\u3046\u526f\u7523\u7269\u3068\u3057\u3066\u3001GpuJoin\u306e\u30b5\u30b9\u30da\u30f3\u30c9/\u30ec\u30b8\u30e5\u30fc\u30e0\u6a5f\u80fd\u304c\u5b9f\u88c5\u3055\u308c\u307e\u3057\u305f\u3002\u539f\u7406\u4e0a\u3001SQL\u306eJOIN\u51e6\u7406\u306f\u5165\u529b\u3057\u305f\u884c\u6570\u3088\u308a\u3082\u51fa\u529b\u3059\u308b\u884c\u6570\u306e\u65b9\u304c\u5897\u3048\u3066\u3057\u307e\u3046\u4e8b\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u51e6\u7406\u7d50\u679c\u3092\u66f8\u304d\u8fbc\u3080\u30d0\u30c3\u30d5\u30a1\u306e\u6b8b\u308a\u30b5\u30a4\u30ba\u304c\u4e0d\u8db3\u3057\u305f\u6642\u70b9\u3067GpuJoin\u3092\u30b5\u30b9\u30da\u30f3\u30c9\u3057\u3001\u65b0\u3057\u3044\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3092\u5272\u308a\u5f53\u3066\u3066\u30ec\u30b8\u30e5\u30fc\u30e0\u3059\u308b\u3088\u3046\u306b\u4fee\u6b63\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u306e\u30b5\u30a4\u30ba\u63a8\u5b9a\u304c\u7c21\u7565\u5316\u3055\u308c\u305f\u307b\u304b\u3001\u5b9f\u884c\u6642\u306e\u30d0\u30c3\u30d5\u30a1\u4e0d\u8db3\u306b\u3088\u308b\u518d\u5b9f\u884c\u306e\u5fc5\u8981\u304c\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002     GpuPreAgg+GpuJoin+GpuScan \u5bc6\u7d50\u5408GPU\u30ab\u30fc\u30cd\u30eb   GPU\u3067\u5b9f\u884c\u53ef\u80fd\u306aSCAN\u3001JOIN\u3001GROUP BY\u304c\u9023\u7d9a\u3057\u3066\u3044\u308b\u3068\u304d\u3001\u5bfe\u5fdc\u3059\u308bGpuScan\u3001GpuJoin\u3001GpuPreAgg\u306b\u76f8\u5f53\u3059\u308b\u51e6\u7406\u3092\u4e00\u56de\u306eGPU\u30ab\u30fc\u30cd\u30eb\u547c\u3073\u51fa\u3057\u3067\u5b9f\u884c\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001GpuJoin\u306e\u7d50\u679c\u30d0\u30c3\u30d5\u30a1\u3092\u305d\u306e\u307e\u307eGpuPreAgg\u306e\u5165\u529b\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u6271\u3046\u306a\u3069\u3001CPU\u3068GPU\u306e\u9593\u306e\u30c7\u30fc\u30bf\u4ea4\u63db\u3092\u6700\u5c0f\u9650\u306b\u6291\u3048\u308b\u305f\u3081\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3059\u3002  \u3053\u306e\u6a5f\u80fd\u306f\u7279\u306b\u3001SSD-to-GPU\u30c0\u30a4\u30ec\u30af\u30c8SQL\u5b9f\u884c\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528\u3059\u308b\u3068\u52b9\u679c\u7684\u3067\u3059\u3002     \u65b0\u3057\u3044\u30c7\u30fc\u30bf\u578b\u306e\u5bfe\u5fdc   uuid \u578b\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002  \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c9\u30ec\u30b9\u578b\uff08 inet \u3001 cidr \u3001\u304a\u3088\u3073 macaddr \uff09\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002  \u7bc4\u56f2\u578b\uff08 int4range \u3001 int8range \u3001 tsrange \u3001 tstzrange \u3001 daterange \uff09\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002  \u534a\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u578b\uff08 float2 \uff09\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\u534a\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u578b\u306b\u95a2\u9023\u3059\u308bCPU\u5074\u306e\u5b9f\u88c5\u306fPG-Strom\u306e\u72ec\u81ea\u5b9f\u88c5\u306b\u3088\u308b\u3082\u306e\u3067\u3059\u3002     \u65b0\u3057\u3044\u6f14\u7b97\u5b50/\u95a2\u6570\u306e\u5bfe\u5fdc   \u65e5\u4ed8\u6642\u523b\u578b\u306b\u5bfe\u3059\u308b EXTRACT(field FROM timestamp) \u6f14\u7b97\u5b50\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002     New data type support   uuid  type  Network address types ( inet ,  cidr  and  macaddr )  Range data types ( int4range ,  int8range ,  tsrange ,  tstzrange ,  daterange )  Half-precision floating point type ( float2 ). Its CPU side are also implemented by PG-Strom itself, not PostgreSQL's built-in feature.     New operators / functions   EXTRACT(field FROM timestamp)  operator on the date and time types     PL/CUDA\u95a2\u9023\u306e\u5f37\u5316   #plcuda_include \u306e\u62e1\u5f35\u306b\u3088\u308a\u3001 text \u578b\u3092\u8fd4\u3059SQL\u95a2\u6570\u3092\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u5f15\u6570\u306e\u5024\u306b\u3088\u3063\u3066\u633f\u5165\u3059\u308b\u30b3\u30fc\u30c9\u3092\u5909\u3048\u308b\u4e8b\u304c\u3067\u304d\u308b\u305f\u3081\u3001\u5358\u306b\u5916\u90e8\u5b9a\u7fa9\u95a2\u6570\u3092\u8aad\u307f\u8fbc\u3080\u3060\u3051\u3067\u306a\u304f\u3001\u52d5\u7684\u306b\u3044\u304f\u3064\u3082\u306eGPU\u30ab\u30fc\u30cd\u30eb\u306e\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308a\u51fa\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002  PL/CUDA\u95a2\u6570\u306e\u5f15\u6570\u306b reggstore \u578b\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001GPU\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3078\u306f\u5bfe\u5fdc\u3059\u308bGPU\u30e1\u30e2\u30ea\u30b9\u30c8\u30a2\u306e\u30dd\u30a4\u30f3\u30bf\u304c\u6e21\u3055\u308c\u307e\u3059\u3002OID\u5024\u304c\u6e21\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u4e8b\u306b\u7559\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002     \u305d\u306e\u4ed6\u306e\u6a5f\u80fd\u5f37\u5316   lo_import_gpu \u304a\u3088\u3073 lo_export_gpu \u95a2\u6570\u306b\u3088\u308a\u3001\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u78ba\u4fdd\u3057\u305fGPU\u30e1\u30e2\u30ea\u306e\u5185\u5bb9\u3092\u76f4\u63a5PostgreSQL\u306e\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a18\u9332\u3057\u305f\u308a\u3001\u9006\u306b\u30e9\u30fc\u30b8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5185\u5bb9\u3092GPU\u30e1\u30e2\u30ea\u306b\u66f8\u304d\u51fa\u3059\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002     \u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0   PostgreSQL Global Development Group\u306e\u914d\u5e03\u3059\u308bPostgreSQL\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u9069\u5408\u3059\u308b\u3088\u3046\u3001RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3092\u884c\u3044\u307e\u3057\u305f\u3002  \u5168\u3066\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u7269\u4ef6\u306fHeteroDB SWDC(Software Distribution Center)\u3088\u308a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u53ef\u80fd\u3067\u3059\u3002     \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8   PG-Strom\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092markdown\u3068mkdocs\u3092\u7528\u3044\u3066\u5168\u9762\u7684\u306b\u66f8\u304d\u76f4\u3057\u307e\u3057\u305f\u3002\u5f93\u6765\u306eHTML\u3092\u7528\u3044\u305f\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u6bd4\u3079\u3001\u3088\u308a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u304c\u5bb9\u6613\u3067\u65b0\u6a5f\u80fd\u306e\u958b\u767a\u306b\u5408\u308f\u305b\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u62e1\u5145\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002     \u30c6\u30b9\u30c8   PostgreSQL\u306e\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u3066\u3001PG-Strom\u306e\u30ea\u30b0\u30ec\u30c3\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002", 
            "title": "\u65b0\u6a5f\u80fd"
        }, 
        {
            "location": "/release_note/#_4", 
            "text": "PostgreSQL v9.5\u30b5\u30dd\u30fc\u30c8   PostgreSQL v9.6\u3067\u306fCPU\u4e26\u5217\u30af\u30a8\u30ea\u306e\u63d0\u4f9b\u306b\u4f34\u3044\u3001\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6/\u30a8\u30b0\u30bc\u30ad\u30e5\u30fc\u30bf\u5171\u306b\u5927\u304d\u306a\u4fee\u6b63\u304c\u52a0\u3048\u3089\u308c\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u3068\u5bc6\u63a5\u306b\u9023\u643a\u3059\u308b\u62e1\u5f35\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3068\u3063\u3066\u6700\u3082\u30a4\u30f3\u30d1\u30af\u30c8\u306e\u5927\u304d\u306a\u5909\u66f4\u306f\u300eupper planner path-ification\u300f\u3068\u547c\u3070\u308c\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5f37\u5316\u3067\u3001\u96c6\u7d04\u6f14\u7b97\u3084\u30bd\u30fc\u30c8\u306a\u3069\u306e\u5b9f\u884c\u8a08\u753b\u3082\u30b3\u30b9\u30c8\u30d9\u30fc\u30b9\u3067\u8907\u6570\u306e\u7570\u306a\u308b\u65b9\u6cd5\u3092\u6bd4\u8f03\u3057\u3066\u6700\u9069\u306a\u3082\u306e\u3092\u9078\u629e\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002  \u3053\u308c\u306fGpuPreAgg\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u30d5\u30c3\u30af\u3092\u5229\u7528\u3057\u3066\u5b9f\u884c\u8a08\u753b\u3092\u66f8\u304d\u63db\u3048\u3066\u3044\u305f\u5f93\u6765\u306e\u65b9\u6cd5\u3068\u306f\u6839\u672c\u7684\u306b\u7570\u306a\u308a\u3001\u3088\u308a\u5408\u7406\u7684\u304b\u3064\u4fe1\u983c\u3067\u304d\u308b\u65b9\u6cd5\u3067GPU\u3092\u7528\u3044\u305f\u96c6\u7d04\u6f14\u7b97\u3092\u633f\u5165\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3068\u306a\u308a\u3001\u30d0\u30b0\u306e\u6e29\u5e8a\u3067\u3042\u3063\u305f\u5b9f\u884c\u8a08\u753b\u306e\u66f8\u304d\u63db\u3048\u30ed\u30b8\u30c3\u30af\u3092\u6368\u3066\u308b\u4e8b\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002  \u540c\u6642\u306b\u3001CustomScan\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u3082CPU\u4e26\u5217\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306eAPI\u304c\u62e1\u5f35\u3055\u308c\u3001\u3053\u308c\u3089\u306b\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306bPostgreSQL v9.5\u30b5\u30dd\u30fc\u30c8\u306f\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002     GpuSort\u6a5f\u80fd   GpuSort\u6a5f\u80fd\u306f\u6027\u80fd\u4e0a\u306e\u30e1\u30ea\u30c3\u30c8\u304c\u5f97\u3089\u308c\u306a\u3044\u305f\u3081\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002  \u30bd\u30fc\u30c8\u306fGPU\u306e\u5f97\u610f\u3068\u3059\u308b\u30ef\u30fc\u30af\u30ed\u30fc\u30c9\u306e\u4e00\u3064\u3067\u3059\u3002\u3057\u304b\u3057\u3001GPU\u30c7\u30d0\u30a4\u30b9\u30e1\u30e2\u30ea\u306e\u5927\u304d\u3055\u3092\u8d8a\u3048\u308b\u30b5\u30a4\u30ba\u306e\u30c7\u30fc\u30bf\u3092\u30bd\u30fc\u30c8\u3059\u308b\u5834\u5408\u3001\u8907\u6570\u306e\u30c1\u30e3\u30f3\u30af\u306b\u5206\u5272\u3057\u3066\u90e8\u5206\u30bd\u30fc\u30c8\u3092\u884c\u3044\u3001\u5f8c\u3067CPU\u5074\u3067\u3053\u308c\u3092\u7d50\u5408\u3057\u3066\u6700\u7d42\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  \u7d50\u5408\u30d5\u30a7\u30fc\u30ba\u306e\u51e6\u7406\u3092\u8efd\u304f\u3059\u308b\u306b\u306f\u3001GPU\u3067\u30bd\u30fc\u30c8\u3059\u3079\u304d\u30c1\u30e3\u30f3\u30af\u306e\u30b5\u30a4\u30ba\u3092\u5927\u304d\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4e00\u65b9\u3067\u30c1\u30e3\u30f3\u30af\u30b5\u30a4\u30ba\u304c\u5927\u304d\u304f\u306a\u308b\u3068\u30bd\u30fc\u30c8\u51e6\u7406\u3092\u958b\u59cb\u3059\u308b\u305f\u3081\u306e\u30ea\u30fc\u30c9\u30bf\u30a4\u30e0\u304c\u9577\u304f\u306a\u308a\u3001PG-Strom\u306e\u7279\u9577\u306e\u4e00\u3064\u3067\u3042\u308b\u975e\u540c\u671f\u51e6\u7406\u306b\u3088\u308b\u30c7\u30fc\u30bf\u8ee2\u9001\u30ec\u30a4\u30c6\u30f3\u30b7\u306e\u96a0\u307a\u3044\u304c\u52b9\u304b\u306a\u304f\u306a\u308b\u3068\u3044\u3046\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u304c\u3042\u308a\u307e\u3059\u3002  \u3053\u308c\u3089\u306e\u554f\u984c\u306b\u5bfe\u51e6\u3059\u308b\u306e\u306f\u56f0\u96e3\u3001\u5c11\u306a\u304f\u3068\u3082\u6642\u671f\u5c1a\u65e9\u3067\u3042\u308b\u3068\u5224\u65ad\u3057\u3001GpuSort\u6a5f\u80fd\u306f\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002", 
            "title": "\u5ec3\u6b62\u3055\u308c\u305f\u6a5f\u80fd"
        }
    ]
}